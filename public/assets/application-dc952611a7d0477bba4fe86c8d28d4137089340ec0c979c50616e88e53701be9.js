/*!
 * jQuery JavaScript Library v1.11.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:19Z
 */
/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e="length"in t&&t.length,i=ot.type(t);return"function"===i||ot.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(ot.isFunction(e))return ot.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ot.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(ct.test(e))return ot.filter(e,t,i);e=ot.filter(e,t)}return ot.grep(t,function(t){return ot.inArray(t,e)>=0!==i})}function o(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function r(t){var e=wt[t]={};return ot.each(t.match(yt)||[],function(t,i){e[i]=!0}),e}function a(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(ft.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(a(),ot.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Tt,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:$t.test(i)?ot.parseJSON(i):i}catch(o){}ot.data(t,e,i)}else i=void 0}return i}function d(t){var e;for(e in t)if(("data"!==e||!ot.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function h(t,e,i,n){if(ot.acceptData(t)){var o,r,a=ot.expando,s=t.nodeType,l=s?ot.cache:t,d=s?t[a]:t[a]&&a;if(d&&l[d]&&(n||l[d].data)||void 0!==i||"string"!=typeof e)return d||(d=s?t[a]=G.pop()||ot.guid++:a),l[d]||(l[d]=s?{}:{toJSON:ot.noop}),("object"==typeof e||"function"==typeof e)&&(n?l[d]=ot.extend(l[d],e):l[d].data=ot.extend(l[d].data,e)),r=l[d],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[ot.camelCase(e)]=i),"string"==typeof e?(o=r[e],null==o&&(o=r[ot.camelCase(e)])):o=r,o}}function p(t,e,i){if(ot.acceptData(t)){var n,o,r=t.nodeType,a=r?ot.cache:t,s=r?t[ot.expando]:ot.expando;if(a[s]){if(e&&(n=i?a[s]:a[s].data)){ot.isArray(e)?e=e.concat(ot.map(e,ot.camelCase)):e in n?e=[e]:(e=ot.camelCase(e),e=e in n?[e]:e.split(" ")),o=e.length;for(;o--;)delete n[e[o]];if(i?!d(n):!ot.isEmptyObject(n))return}(i||(delete a[s].data,d(a[s])))&&(r?ot.cleanData([t],!0):it.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function c(){return!0}function u(){return!1}function f(){try{return ft.activeElement}catch(t){}}function m(t){var e=Bt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function g(t,e){var i,n,o=0,r=typeof t.getElementsByTagName!==kt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==kt?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],i=t.childNodes||t;null!=(n=i[o]);o++)!e||ot.nodeName(n,e)?r.push(n):ot.merge(r,g(n,e));return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],r):r}function v(t){It.test(t.type)&&(t.defaultChecked=t.checked)}function b(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==ot.find.attr(t,"type"))+"/"+t.type,t}function w(t){var e=Xt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function E(t,e){for(var i,n=0;null!=(i=t[n]);n++)ot._data(i,"globalEval",!e||ot._data(e[n],"globalEval"))}function x(t,e){if(1===e.nodeType&&ot.hasData(t)){var i,n,o,r=ot._data(t),a=ot._data(e,r),s=r.events;if(s){delete a.handle,a.events={};for(i in s)for(n=0,o=s[i].length;o>n;n++)ot.event.add(e,i,s[i][n])}a.data&&(a.data=ot.extend({},a.data))}}function k(t,e){var i,n,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!it.noCloneEvent&&e[ot.expando]){o=ot._data(e);for(n in o.events)ot.removeEvent(e,n,o.handle);e.removeAttribute(ot.expando)}"script"===i&&e.text!==t.text?(y(e).text=t.text,w(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),it.html5Clone&&t.innerHTML&&!ot.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&It.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function $(e,i){var n,o=ot(i.createElement(e)).appendTo(i.body),r=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(o[0]))?n.display:ot.css(o[0],"display");return o.detach(),r}function T(t){var e=ft,i=Zt[t];return i||(i=$(t,e),"none"!==i&&i||(Jt=(Jt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Jt[0].contentWindow||Jt[0].contentDocument).document,e.write(),e.close(),i=$(t,e),Jt.detach()),Zt[t]=i),i}function S(t,e){return{get:function(){var i=t();if(null!=i)return i?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,o=ce.length;o--;)if(e=ce[o]+i,e in t)return e;return n}function _(t,e){for(var i,n,o,r=[],a=0,s=t.length;s>a;a++)n=t[a],n.style&&(r[a]=ot._data(n,"olddisplay"),i=n.style.display,e?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&_t(n)&&(r[a]=ot._data(n,"olddisplay",T(n.nodeName)))):(o=_t(n),(i&&"none"!==i||!o)&&ot._data(n,"olddisplay",o?i:ot.css(n,"display"))));for(a=0;s>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[a]||"":"none"));return t}function L(t,e,i){var n=le.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function I(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=ot.css(t,i+Ct[r],!0,o)),n?("content"===i&&(a-=ot.css(t,"padding"+Ct[r],!0,o)),"margin"!==i&&(a-=ot.css(t,"border"+Ct[r]+"Width",!0,o))):(a+=ot.css(t,"padding"+Ct[r],!0,o),"padding"!==i&&(a+=ot.css(t,"border"+Ct[r]+"Width",!0,o)));return a}function N(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=te(t),a=it.boxSizing&&"border-box"===ot.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=ee(t,e,r),(0>o||null==o)&&(o=t.style[e]),ne.test(o))return o;n=a&&(it.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+I(t,e,i||(a?"border":"content"),n,r)+"px"}function A(t,e,i,n,o){return new A.prototype.init(t,e,i,n,o)}function D(){return setTimeout(function(){ue=void 0}),ue=ot.now()}function M(t,e){var i,n={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=Ct[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function R(t,e,i){for(var n,o=(ye[e]||[]).concat(ye["*"]),r=0,a=o.length;a>r;r++)if(n=o[r].call(i,e,t))return n}function B(t,e,i){var n,o,r,a,s,l,d,h,p=this,c={},u=t.style,f=t.nodeType&&_t(t),m=ot._data(t,"fxshow");i.queue||(s=ot._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,ot.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],d=ot.css(t,"display"),h="none"===d?ot._data(t,"olddisplay")||T(t.nodeName):d,"inline"===h&&"none"===ot.css(t,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==T(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",it.shrinkWrapBlocks()||p.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],me.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;f=!0}c[n]=m&&m[n]||ot.style(t,n)}else d=void 0;if(ot.isEmptyObject(c))"inline"===("none"===d?T(t.nodeName):d)&&(u.display=d);else{m?"hidden"in m&&(f=m.hidden):m=ot._data(t,"fxshow",{}),r&&(m.hidden=!f),f?ot(t).show():p.done(function(){ot(t).hide()}),p.done(function(){var e;ot._removeData(t,"fxshow");for(e in c)ot.style(t,e,c[e])});for(n in c)a=R(f?m[n]:0,n,p),n in m||(m[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function P(t,e){var i,n,o,r,a;for(i in t)if(n=ot.camelCase(i),o=e[n],r=t[i],ot.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),a=ot.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function O(t,e,i){var n,o,r=0,a=be.length,s=ot.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=ue||D(),i=Math.max(0,d.startTime+d.duration-e),n=i/d.duration||0,r=1-n,a=0,l=d.tweens.length;l>a;a++)d.tweens[a].run(r);return s.notifyWith(t,[d,r,i]),1>r&&l?i:(s.resolveWith(t,[d]),!1)},d=s.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:ue||D(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ot.Tween(t,d.opts,e,i,d.opts.specialEasing[e]||d.opts.easing);return d.tweens.push(n),n},stop:function(e){var i=0,n=e?d.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)d.tweens[i].run(1);return e?s.resolveWith(t,[d,e]):s.rejectWith(t,[d,e]),this}}),h=d.props;for(P(h,d.opts.specialEasing);a>r;r++)if(n=be[r].call(d,t,h,d.opts))return n;return ot.map(h,R,d),ot.isFunction(d.opts.start)&&d.opts.start.call(t,d),ot.fx.timer(ot.extend(l,{elem:t,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function H(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(yt)||[];if(ot.isFunction(i))for(;n=r[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function F(t,e,i,n){function o(s){var l;return r[s]=!0,ot.each(t[s]||[],function(t,s){var d=s(e,i,n);return"string"!=typeof d||a||r[d]?a?!(l=d):void 0:(e.dataTypes.unshift(d),o(d),!1)}),l}var r={},a=t===ze;return o(e.dataTypes[0])||!r["*"]&&o("*")}function j(t,e){var i,n,o=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&ot.extend(!0,t,i),t}function U(t,e,i){for(var n,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}n||(n=a)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function z(t,e,i,n){var o,r,a,s,l,d={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)d[a.toLowerCase()]=t.converters[a];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=d[l+" "+r]||d["* "+r],!a)for(o in d)if(s=o.split(" "),s[1]===r&&(a=d[l+" "+s[0]]||d["* "+s[0]])){a===!0?a=d[o]:d[o]!==!0&&(r=s[0],h.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function W(t,e,i,n){var o;if(ot.isArray(e))ot.each(e,function(e,o){i||Xe.test(t)?n(t,o):W(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==ot.type(e))n(t,e);else for(o in e)W(t+"["+o+"]",e[o],i,n)}function q(){try{return new t.XMLHttpRequest}catch(e){}}function V(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function X(t){return ot.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var G=[],Y=G.slice,K=G.concat,Q=G.push,J=G.indexOf,Z={},tt=Z.toString,et=Z.hasOwnProperty,it={},nt="1.11.3",ot=function(t,e){return new ot.fn.init(t,e)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:nt,constructor:ot,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Y.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ot.each(this,t,e)},map:function(t){return this.pushStack(ot.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:G.sort,splice:G.splice},ot.extend=ot.fn.extend=function(){var t,e,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[s]||{},s++),"object"==typeof a||ot.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(n in o)t=a[n],i=o[n],a!==i&&(d&&i&&(ot.isPlainObject(i)||(e=ot.isArray(i)))?(e?(e=!1,r=t&&ot.isArray(t)?t:[]):r=t&&ot.isPlainObject(t)?t:{},a[n]=ot.extend(d,r,i)):void 0!==i&&(a[n]=i));return a},ot.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray||function(t){return"array"===ot.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!ot.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(it.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&ot.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(at,"ms-").replace(st,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o,r=0,a=t.length,s=i(t);if(n){if(s)for(;a>r&&(o=e.apply(t[r],n),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],n),o===!1)break}else if(s)for(;a>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(rt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ot.merge(n,"string"==typeof t?[t]:t):Q.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(J)return J.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;)t[o++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[o++]=e[n++];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],r=0,a=t.length,s=!i;a>r;r++)n=!e(t[r],r),n!==s&&o.push(t[r]);return o},map:function(t,e,n){var o,r=0,a=t.length,s=i(t),l=[];if(s)for(;a>r;r++)o=e(t[r],r,n),null!=o&&l.push(o);else for(r in t)o=e(t[r],r,n),null!=o&&l.push(o);return K.apply([],l)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ot.isFunction(t)?(i=Y.call(arguments,2),n=function(){return t.apply(e||this,i.concat(Y.call(arguments)))},n.guid=t.guid=t.guid||ot.guid++,n):void 0},now:function(){return+new Date},support:it}),ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var dt=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,i,n){var o,r,a,s,l,d,p,u,f,m;if((e?e.ownerDocument||e:F)!==A&&N(e),e=e||A,i=i||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return i;if(!n&&M){if(11!==s&&(o=bt.exec(t)))if(a=o[1]){if(9===s){if(r=e.getElementById(a),!r||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&O(e,r)&&r.id===a)return i.push(r),i}else{if(o[2])return J.apply(i,e.getElementsByTagName(t)),i;if((a=o[3])&&E.getElementsByClassName)return J.apply(i,e.getElementsByClassName(a)),i}if(E.qsa&&(!R||!R.test(t))){if(u=p=H,f=e,m=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(d=T(t),(p=e.getAttribute("id"))?u=p.replace(wt,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",l=d.length;l--;)d[l]=u+c(d[l]);f=yt.test(t)&&h(e.parentNode)||e,m=d.join(",")}if(m)try{return J.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{p||e.removeAttribute("id")}}}return C(t.replace(lt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[H]=!0,t}function o(t){var e=A.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=t.length;n--;)x.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function d(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function p(){}function c(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function u(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=U++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,a){var s,l,d=[j,r];if(a){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[H]||(e[H]={}),(s=l[n])&&s[0]===j&&s[1]===r)return d[2]=s[2];if(l[n]=d,d[2]=t(e,i,a))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var o=0,r=i.length;r>o;o++)e(t,i[o],n);return n}function g(t,e,i,n,o){for(var r,a=[],s=0,l=t.length,d=null!=e;l>s;s++)(r=t[s])&&(!i||i(r,n,o))&&(a.push(r),d&&e.push(s));return a}function v(t,e,i,o,r,a){return o&&!o[H]&&(o=v(o)),r&&!r[H]&&(r=v(r,a)),n(function(n,a,s,l){var d,h,p,c=[],u=[],f=a.length,v=n||m(e||"*",s.nodeType?[s]:s,[]),b=!t||!n&&e?v:g(v,c,t,s,l),y=i?r||(n?t:f||o)?[]:a:b;if(i&&i(b,y,s,l),o)for(d=g(y,u),o(d,[],s,l),h=d.length;h--;)(p=d[h])&&(y[u[h]]=!(b[u[h]]=p));if(n){if(r||t){if(r){for(d=[],h=y.length;h--;)(p=y[h])&&d.push(b[h]=p);r(null,y=[],d,l)}for(h=y.length;h--;)(p=y[h])&&(d=r?tt(n,p):c[h])>-1&&(n[d]=!(a[d]=p))}}else y=g(y===a?y.splice(f,y.length):y),r?r(null,a,y,l):J.apply(a,y)})}function b(t){for(var e,i,n,o=t.length,r=x.relative[t[0].type],a=r||x.relative[" "],s=r?1:0,l=u(function(t){return t===e},a,!0),d=u(function(t){return tt(e,t)>-1},a,!0),h=[function(t,i,n){var o=!r&&(n||i!==_)||((e=i).nodeType?l(t,i,n):d(t,i,n));return e=null,o}];o>s;s++)if(i=x.relative[t[s].type])h=[u(f(h),i)];else{if(i=x.filter[t[s].type].apply(null,t[s].matches),i[H]){for(n=++s;o>n&&!x.relative[t[n].type];n++);return v(s>1&&f(h),s>1&&c(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),i,n>s&&b(t.slice(s,n)),o>n&&b(t=t.slice(n)),o>n&&c(t))}h.push(i)}return f(h)}function y(t,i){var o=i.length>0,r=t.length>0,a=function(n,a,s,l,d){var h,p,c,u=0,f="0",m=n&&[],v=[],b=_,y=n||r&&x.find.TAG("*",d),w=j+=null==b?1:Math.random()||.1,E=y.length;for(d&&(_=a!==A&&a);f!==E&&null!=(h=y[f]);f++){if(r&&h){for(p=0;c=t[p++];)if(c(h,a,s)){l.push(h);break}d&&(j=w)}o&&((h=!c&&h)&&u--,n&&m.push(h))}if(u+=f,o&&f!==u){for(p=0;c=i[p++];)c(m,v,a,s);if(n){if(u>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(l));v=g(v)}J.apply(l,v),d&&!n&&v.length>0&&u+i.length>1&&e.uniqueSort(l)}return d&&(j=w,_=b),m};return o?n(a):a}var w,E,x,k,$,T,S,C,_,L,I,N,A,D,M,R,B,P,O,H="sizzle"+1*new Date,F=t.document,j=0,U=0,z=i(),W=i(),q=i(),V=function(t,e){return t===e&&(I=!0),0},X=1<<31,G={}.hasOwnProperty,Y=[],K=Y.pop,Q=Y.push,J=Y.push,Z=Y.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=nt.replace("w","w#"),rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+it+"*\\]",at=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),dt=new RegExp("^"+it+"*,"+it+"*"),ht=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),pt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ct=new RegExp(at),ut=new RegExp("^"+ot+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,wt=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},kt=function(){N()};try{J.apply(Y=Z.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch($t){J={apply:Y.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}E=e.support={},$=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},N=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:F;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,D=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",kt,!1):i.attachEvent&&i.attachEvent("onunload",kt)),M=!$(n),E.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),E.getElementsByTagName=o(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),E.getElementsByClassName=vt.test(n.getElementsByClassName),E.getById=o(function(t){return D.appendChild(t).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),E.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(t){var e=t.replace(Et,xt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(Et,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),x.find.TAG=E.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):E.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},x.find.CLASS=E.getElementsByClassName&&function(t,e){return M?e.getElementsByClassName(t):void 0},B=[],R=[],(E.qsa=vt.test(n.querySelectorAll))&&(o(function(t){D.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||R.push(".#.+[+~]")}),o(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(E.matchesSelector=vt.test(P=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&o(function(t){E.disconnectedMatch=P.call(t,"div"),P.call(t,"[s!='']:x"),B.push("!=",at)}),R=R.length&&new RegExp(R.join("|")),B=B.length&&new RegExp(B.join("|")),e=vt.test(D.compareDocumentPosition),O=e||vt.test(D.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return I=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!E.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===F&&O(F,t)?-1:e===n||e.ownerDocument===F&&O(F,e)?1:L?tt(L,t)-tt(L,e):0:4&i?-1:1)}:function(t,e){if(t===e)return I=!0,0;var i,o=0,r=t.parentNode,s=e.parentNode,l=[t],d=[e];if(!r||!s)return t===n?-1:e===n?1:r?-1:s?1:L?tt(L,t)-tt(L,e):0;if(r===s)return a(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)d.unshift(i);for(;l[o]===d[o];)o++;return o?a(l[o],d[o]):l[o]===F?-1:d[o]===F?1:0},n):A},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==A&&N(t),i=i.replace(pt,"='$1']"),E.matchesSelector&&M&&(!B||!B.test(i))&&(!R||!R.test(i)))try{var n=P.call(t,i);if(n||E.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&N(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&N(t);var i=x.attrHandle[e.toLowerCase()],n=i&&G.call(x.attrHandle,e.toLowerCase())?i(t,e,!M):void 0;return void 0!==n?n:E.attributes||!M?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(I=!E.detectDuplicates,L=!E.sortStable&&t.slice(0),t.sort(V),I){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return L=null,t},k=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},x=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Et,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(Et,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ct.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Et,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(st," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var d,h,p,c,u,f,m=r!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!l&&!s;if(g){if(r){for(;m;){for(p=e;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&b){for(h=g[H]||(g[H]={}),d=h[t]||[],u=d[0]===j&&d[1],c=d[0]===j&&d[2],p=u&&g.childNodes[u];p=++u&&p&&p[m]||(c=u=0)||f.pop();)if(1===p.nodeType&&++c&&p===e){h[t]=[j,u,c];break}}else if(b&&(d=(e[H]||(e[H]={}))[t])&&d[0]===j)c=d[1];else for(;(p=++u&&p&&p[m]||(c=u=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++c||(b&&((p[H]||(p[H]={}))[t]=[j,c]),p!==e)););return c-=o,c===n||c%n===0&&c/n>=0}}},PSEUDO:function(t,i){var o,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[H]?r(i):r.length>1?(o=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),a=o.length;a--;)n=tt(t,o[a]),t[n]=!(e[n]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=S(t.replace(lt,"$1"));return o[H]?n(function(t,e,i,n){for(var r,a=o(t,null,n,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(Et,xt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Et,xt).toLowerCase(),function(e){var i;do if(i=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:d(function(){return[0]}),last:d(function(t,e){return[e-1]}),eq:d(function(t,e,i){return[0>i?i+e:i]}),even:d(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:d(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:d(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:d(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return p.prototype=x.filters=x.pseudos,x.setFilters=new p,T=e.tokenize=function(t,i){var n,o,r,a,s,l,d,h=W[t+" "];if(h)return i?0:h.slice(0);for(s=t,l=[],d=x.preFilter;s;){(!n||(o=dt.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=ht.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(lt," ")}),s=s.slice(n.length));for(a in x.filter)!(o=ft[a].exec(s))||d[a]&&!(o=d[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):W(t,l).slice(0)},S=e.compile=function(t,e){var i,n=[],o=[],r=q[t+" "];if(!r){for(e||(e=T(t)),i=e.length;i--;)r=b(e[i]),r[H]?n.push(r):o.push(r);r=q(t,y(o,n)),r.selector=t}return r},C=e.select=function(t,e,i,n){var o,r,a,s,l,d="function"==typeof t&&t,p=!n&&T(t=d.selector||t);if(i=i||[],1===p.length){if(r=p[0]=p[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&E.getById&&9===e.nodeType&&M&&x.relative[r[1].type]){if(e=(x.find.ID(a.matches[0].replace(Et,xt),e)||[])[0],!e)return i;d&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(n=l(a.matches[0].replace(Et,xt),yt.test(r[0].type)&&h(e.parentNode)||e))){if(r.splice(o,1),t=n.length&&c(r),!t)return J.apply(i,n),i;break}}return(d||S(t,p))(n,e,!M,i,yt.test(t)&&h(e.parentNode)||e),i},E.sortStable=H.split("").sort(V).join("")===H,E.detectDuplicates=!!I,N(),E.sortDetached=o(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),E.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ot.find=dt,ot.expr=dt.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=dt.uniqueSort,ot.text=dt.getText,ot.isXMLDoc=dt.isXML,ot.contains=dt.contains;var ht=ot.expr.match.needsContext,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ct=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ot.find.matchesSelector(n,t)?[n]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;o>e;e++)if(ot.contains(n[e],this))return!0}));for(e=0;o>e;e++)ot.find(t,n[e],i);return i=this.pushStack(o>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ht.test(t)?ot(t):t||[],!1).length}});var ut,ft=t.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=ot.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:mt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||ut).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ft,!0)),pt.test(i[1])&&ot.isPlainObject(e))for(i in e)ot.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(n=ft.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return ut.find(t);this.length=1,this[0]=n}return this.context=ft,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?"undefined"!=typeof ut.ready?ut.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};gt.prototype=ot.fn,ut=ot(ft);var vt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};ot.extend({dir:function(t,e,i){for(var n=[],o=t[e];o&&9!==o.nodeType&&(void 0===i||1!==o.nodeType||!ot(o).is(i));)1===o.nodeType&&n.push(o),o=o[e];return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),ot.fn.extend({has:function(t){var e,i=ot(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(ot.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],a=ht.test(t)||"string"!=typeof t?ot(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&ot.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?ot.unique(r):r)},index:function(t){return t?"string"==typeof t?ot.inArray(this[0],ot(t)):ot.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.unique(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ot.dir(t,"parentNode")},parentsUntil:function(t,e,i){return ot.dir(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return ot.dir(t,"nextSibling")},prevAll:function(t){return ot.dir(t,"previousSibling")},nextUntil:function(t,e,i){return ot.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return ot.dir(t,"previousSibling",i)},siblings:function(t){return ot.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ot.sibling(t.firstChild)},contents:function(t){return ot.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(i,n){var o=ot.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ot.filter(n,o)),this.length>1&&(bt[t]||(o=ot.unique(o)),vt.test(t)&&(o=o.reverse())),this.pushStack(o)}});var yt=/\S+/g,wt={};ot.Callbacks=function(t){t="string"==typeof t?wt[t]||r(t):ot.extend({},t);var e,i,n,o,a,s,l=[],d=!t.once&&[],h=function(r){for(i=t.memory&&r,n=!0,a=s||0,s=0,o=l.length,e=!0;l&&o>a;a++)if(l[a].apply(r[0],r[1])===!1&&t.stopOnFalse){i=!1;break}e=!1,l&&(d?d.length&&h(d.shift()):i?l=[]:p.disable())},p={add:function(){if(l){var n=l.length;!function r(e){ot.each(e,function(e,i){var n=ot.type(i);"function"===n?t.unique&&p.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),e?o=l.length:i&&(s=n,h(i))}return this},remove:function(){return l&&ot.each(arguments,function(t,i){for(var n;(n=ot.inArray(i,l,n))>-1;)l.splice(n,1),e&&(o>=n&&o--,a>=n&&a--)}),this},has:function(t){return t?ot.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=d=i=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,i||p.disable(),this},locked:function(){return!d},fireWith:function(t,i){return!l||n&&!d||(i=i||[],i=[t,i.slice?i.slice():i],e?d.push(i):h(i)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(i){ot.each(e,function(e,r){var a=ot.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,n):n}},o={};return n.pipe=n.then,ot.each(e,function(t,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=Y.call(arguments),a=r.length,s=1!==a||t&&ot.isFunction(t.promise)?a:0,l=1===s?t:ot.Deferred(),d=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?Y.call(arguments):o,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)r[o]&&ot.isFunction(r[o].promise)?r[o].promise().done(d(o,n,r)).fail(l.reject).progress(d(o,i,e)):--s;return s||l.resolveWith(n,r),l.promise()}});var Et;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){if(t===!0?!--ot.readyWait:!ot.isReady){if(!ft.body)return setTimeout(ot.ready);ot.isReady=!0,t!==!0&&--ot.readyWait>0||(Et.resolveWith(ft,[ot]),ot.fn.triggerHandler&&(ot(ft).triggerHandler("ready"),ot(ft).off("ready")))}}}),ot.ready.promise=function(e){if(!Et)if(Et=ot.Deferred(),"complete"===ft.readyState)setTimeout(ot.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{ft.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var i=!1;try{i=null==t.frameElement&&ft.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!ot.isReady){try{i.doScroll("left")}catch(t){return setTimeout(o,50)}a(),ot.ready()}}()}return Et.promise(e)};var xt,kt="undefined";for(xt in ot(it))break;it.ownLast="0"!==xt,it.inlineBlockNeedsLayout=!1,ot(function(){var t,e,i,n;i=ft.getElementsByTagName("body")[0],i&&i.style&&(e=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==kt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",it.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=ft.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(e){it.deleteExpando=!1}}t=null}(),ot.acceptData=function(t){var e=ot.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e};var $t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/([A-Z])/g;ot.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ot.cache[t[ot.expando]]:t[ot.expando],!!t&&!d(t)},data:function(t,e,i){return h(t,e,i)},removeData:function(t,e){return p(t,e)},_data:function(t,e,i){return h(t,e,i,!0)},_removeData:function(t,e){return p(t,e,!0)}}),ot.fn.extend({data:function(t,e){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=ot.data(r),1===r.nodeType&&!ot._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=ot.camelCase(n.slice(5)),l(r,n,o[n])));ot._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ot.data(this,t)}):arguments.length>1?this.each(function(){ot.data(this,t,e)}):r?l(r,t,ot.data(r,t)):void 0},removeData:function(t){return this.each(function(){ot.removeData(this,t)})}}),ot.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=ot._data(t,e),i&&(!n||ot.isArray(i)?n=ot._data(t,e,ot.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ot.queue(t,e),n=i.length,o=i.shift(),r=ot._queueHooks(t,e),a=function(){ot.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ot._data(t,i)||ot._data(t,i,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(t,e+"queue"),ot._removeData(t,i)})})}}),ot.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ot.queue(this[0],t):void 0===e?this:this.each(function(){var i=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=ot.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)i=ot._data(r[a],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(e)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],_t=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},Lt=ot.access=function(t,e,i,n,o,r,a){var s=0,l=t.length,d=null==i;if("object"===ot.type(i)){o=!0;for(s in i)ot.access(t,e,s,i[s],!0,r,a)}else if(void 0!==n&&(o=!0,ot.isFunction(n)||(a=!0),d&&(a?(e.call(t,n),e=null):(d=e,e=function(t,e,i){return d.call(ot(t),i)})),e))for(;l>s;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return o?t:d?e.call(t):l?e(t[0],i):r},It=/^(?:checkbox|radio)$/i;!function(){var t=ft.createElement("input"),e=ft.createElement("div"),i=ft.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",it.leadingWhitespace=3===e.firstChild.nodeType,it.tbody=!e.getElementsByTagName("tbody").length,it.htmlSerialize=!!e.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,i.appendChild(t),it.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,i.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){it.noCloneEvent=!1}),e.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(n){it.deleteExpando=!1}}}(),function(){var e,i,n=ft.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(it[e+"Bubbles"]=i in t)||(n.setAttribute(i,"t"),it[e+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Nt=/^(?:input|select|textarea)$/i,At=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,Mt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(t,e,i,n,o){var r,a,s,l,d,h,p,c,u,f,m,g=ot._data(t);if(g){for(i.handler&&(l=i,i=l.handler,o=l.selector),i.guid||(i.guid=ot.guid++),(a=g.events)||(a=g.events={}),(h=g.handle)||(h=g.handle=function(t){return typeof ot===kt||t&&ot.event.triggered===t.type?void 0:ot.event.dispatch.apply(h.elem,arguments)},h.elem=t),e=(e||"").match(yt)||[""],s=e.length;s--;)r=Rt.exec(e[s])||[],u=m=r[1],f=(r[2]||"").split(".").sort(),u&&(d=ot.event.special[u]||{},u=(o?d.delegateType:d.bindType)||u,d=ot.event.special[u]||{},p=ot.extend({type:u,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&ot.expr.match.needsContext.test(o),namespace:f.join(".")},l),(c=a[u])||(c=a[u]=[],c.delegateCount=0,d.setup&&d.setup.call(t,n,f,h)!==!1||(t.addEventListener?t.addEventListener(u,h,!1):t.attachEvent&&t.attachEvent("on"+u,h))),d.add&&(d.add.call(t,p),p.handler.guid||(p.handler.guid=i.guid)),o?c.splice(c.delegateCount++,0,p):c.push(p),ot.event.global[u]=!0);t=null}},remove:function(t,e,i,n,o){var r,a,s,l,d,h,p,c,u,f,m,g=ot.hasData(t)&&ot._data(t);if(g&&(h=g.events)){for(e=(e||"").match(yt)||[""],d=e.length;d--;)if(s=Rt.exec(e[d])||[],u=m=s[1],f=(s[2]||"").split(".").sort(),u){for(p=ot.event.special[u]||{},u=(n?p.delegateType:p.bindType)||u,c=h[u]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=c.length;r--;)a=c[r],!o&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(c.splice(r,1),a.selector&&c.delegateCount--,p.remove&&p.remove.call(t,a));l&&!c.length&&(p.teardown&&p.teardown.call(t,f,g.handle)!==!1||ot.removeEvent(t,u,g.handle),delete h[u])}else for(u in h)ot.event.remove(t,u+e[d],i,n,!0);ot.isEmptyObject(h)&&(delete g.handle,ot._removeData(t,"events"))}},trigger:function(e,i,n,o){var r,a,s,l,d,h,p,c=[n||ft],u=et.call(e,"type")?e.type:e,f=et.call(e,"namespace")?e.namespace.split("."):[];if(s=h=n=n||ft,3!==n.nodeType&&8!==n.nodeType&&!Mt.test(u+ot.event.triggered)&&(u.indexOf(".")>=0&&(f=u.split("."),u=f.shift(),f.sort()),a=u.indexOf(":")<0&&"on"+u,e=e[ot.expando]?e:new ot.Event(u,"object"==typeof e&&e),
e.isTrigger=o?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:ot.makeArray(i,[e]),d=ot.event.special[u]||{},o||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!o&&!d.noBubble&&!ot.isWindow(n)){for(l=d.delegateType||u,Mt.test(l+u)||(s=s.parentNode);s;s=s.parentNode)c.push(s),h=s;h===(n.ownerDocument||ft)&&c.push(h.defaultView||h.parentWindow||t)}for(p=0;(s=c[p++])&&!e.isPropagationStopped();)e.type=p>1?l:d.bindType||u,r=(ot._data(s,"events")||{})[e.type]&&ot._data(s,"handle"),r&&r.apply(s,i),r=a&&s[a],r&&r.apply&&ot.acceptData(s)&&(e.result=r.apply(s,i),e.result===!1&&e.preventDefault());if(e.type=u,!o&&!e.isDefaultPrevented()&&(!d._default||d._default.apply(c.pop(),i)===!1)&&ot.acceptData(n)&&a&&n[u]&&!ot.isWindow(n)){h=n[a],h&&(n[a]=null),ot.event.triggered=u;try{n[u]()}catch(m){}ot.event.triggered=void 0,h&&(n[a]=h)}return e.result}},dispatch:function(t){t=ot.event.fix(t);var e,i,n,o,r,a=[],s=Y.call(arguments),l=(ot._data(this,"events")||{})[t.type]||[],d=ot.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,t)!==!1){for(a=ot.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,r=0;(n=o.handlers[r++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(n.namespace))&&(t.handleObj=n,t.data=n.data,i=((ot.event.special[n.origType]||{}).handle||n.handler).apply(o.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(o=[],r=0;s>r;r++)n=e[r],i=n.selector+" ",void 0===o[i]&&(o[i]=n.needsContext?ot(i,this).index(l)>=0:ot.find(i,this,null,[l]).length),o[i]&&o.push(n);o.length&&a.push({elem:l,handlers:o})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[ot.expando])return t;var e,i,n,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Dt.test(o)?this.mouseHooks:At.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new ot.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=r.srcElement||ft),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||ft,o=n.documentElement,i=n.body,t.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=ot.extend(new ot.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?ot.event.trigger(o,null,e):ot.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},ot.removeEvent=ft.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===kt&&(t[n]=null),t.detachEvent(n,i))},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:u):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==n&&!ot.contains(n,o))&&(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),it.submitBubbles||(ot.event.special.submit={setup:function(){return ot.nodeName(this,"form")?!1:void ot.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=ot.nodeName(e,"input")||ot.nodeName(e,"button")?e.form:void 0;i&&!ot._data(i,"submitBubbles")&&(ot.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),ot._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ot.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ot.nodeName(this,"form")?!1:void ot.event.remove(this,"._submit")}}),it.changeBubbles||(ot.event.special.change={setup:function(){return Nt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ot.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,t,!0)})),!1):void ot.event.add(this,"beforeactivate._change",function(t){var e=t.target;Nt.test(e.nodeName)&&!ot._data(e,"changeBubbles")&&(ot.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ot.event.simulate("change",this.parentNode,t,!0)}),ot._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ot.event.remove(this,"._change"),!Nt.test(this.nodeName)}}),it.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ot.event.simulate(e,t.target,ot.event.fix(t),!0)};ot.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=ot._data(n,e);o||n.addEventListener(t,i,!0),ot._data(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=ot._data(n,e)-1;o?ot._data(n,e,o):(n.removeEventListener(t,i,!0),ot._removeData(n,e))}}}),ot.fn.extend({on:function(t,e,i,n,o){var r,a;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(r in t)this.on(r,e,i,t[r],o);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=u;else if(!n)return this;return 1===o&&(a=n,n=function(t){return ot().off(t),a.apply(this,arguments)},n.guid=a.guid||(a.guid=ot.guid++)),this.each(function(){ot.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ot(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=u),this.each(function(){ot.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ot.event.trigger(t,e,i,!0):void 0}});var Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pt=/ jQuery\d+="(?:null|\d+)"/g,Ot=new RegExp("<(?:"+Bt+")[\\s/>]","i"),Ht=/^\s+/,Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jt=/<([\w:]+)/,Ut=/<tbody/i,zt=/<|&#?\w+;/,Wt=/<(?:script|style|link)/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Xt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Kt=m(ft),Qt=Kt.appendChild(ft.createElement("div"));Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,ot.extend({clone:function(t,e,i){var n,o,r,a,s,l=ot.contains(t.ownerDocument,t);if(it.html5Clone||ot.isXMLDoc(t)||!Ot.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(Qt.innerHTML=t.outerHTML,Qt.removeChild(r=Qt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(n=g(r),s=g(t),a=0;null!=(o=s[a]);++a)n[a]&&k(o,n[a]);if(e)if(i)for(s=s||g(t),n=n||g(r),a=0;null!=(o=s[a]);a++)x(o,n[a]);else x(t,r);return n=g(r,"script"),n.length>0&&E(n,!l&&g(t,"script")),n=s=o=null,r},buildFragment:function(t,e,i,n){for(var o,r,a,s,l,d,h,p=t.length,c=m(e),u=[],f=0;p>f;f++)if(r=t[f],r||0===r)if("object"===ot.type(r))ot.merge(u,r.nodeType?[r]:r);else if(zt.test(r)){for(s=s||c.appendChild(e.createElement("div")),l=(jt.exec(r)||["",""])[1].toLowerCase(),h=Yt[l]||Yt._default,s.innerHTML=h[1]+r.replace(Ft,"<$1></$2>")+h[2],o=h[0];o--;)s=s.lastChild;if(!it.leadingWhitespace&&Ht.test(r)&&u.push(e.createTextNode(Ht.exec(r)[0])),!it.tbody)for(r="table"!==l||Ut.test(r)?"<table>"!==h[1]||Ut.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)ot.nodeName(d=r.childNodes[o],"tbody")&&!d.childNodes.length&&r.removeChild(d);for(ot.merge(u,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=c.lastChild}else u.push(e.createTextNode(r));for(s&&c.removeChild(s),it.appendChecked||ot.grep(g(u,"input"),v),f=0;r=u[f++];)if((!n||-1===ot.inArray(r,n))&&(a=ot.contains(r.ownerDocument,r),s=g(c.appendChild(r),"script"),a&&E(s),i))for(o=0;r=s[o++];)Vt.test(r.type||"")&&i.push(r);return s=null,c},cleanData:function(t,e){for(var i,n,o,r,a=0,s=ot.expando,l=ot.cache,d=it.deleteExpando,h=ot.event.special;null!=(i=t[a]);a++)if((e||ot.acceptData(i))&&(o=i[s],r=o&&l[o])){if(r.events)for(n in r.events)h[n]?ot.event.remove(i,n):ot.removeEvent(i,n,r.handle);l[o]&&(delete l[o],d?delete i[s]:typeof i.removeAttribute!==kt?i.removeAttribute(s):i[s]=null,G.push(o))}}}),ot.fn.extend({text:function(t){return Lt(this,function(t){return void 0===t?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?ot.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||ot.cleanData(g(i)),i.parentNode&&(e&&ot.contains(i.ownerDocument,i)&&E(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ot.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ot.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return Lt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Pt,""):void 0;if("string"==typeof t&&!Wt.test(t)&&(it.htmlSerialize||!Ot.test(t))&&(it.leadingWhitespace||!Ht.test(t))&&!Yt[(jt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ft,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(ot.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,ot.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=K.apply([],t);var i,n,o,r,a,s,l=0,d=this.length,h=this,p=d-1,c=t[0],u=ot.isFunction(c);if(u||d>1&&"string"==typeof c&&!it.checkClone&&qt.test(c))return this.each(function(i){var n=h.eq(i);u&&(t[0]=c.call(this,i,n.html())),n.domManip(t,e)});if(d&&(s=ot.buildFragment(t,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(r=ot.map(g(s,"script"),y),o=r.length;d>l;l++)n=s,l!==p&&(n=ot.clone(n,!0,!0),o&&ot.merge(r,g(n,"script"))),e.call(this[l],n,l);if(o)for(a=r[r.length-1].ownerDocument,ot.map(r,w),l=0;o>l;l++)n=r[l],Vt.test(n.type||"")&&!ot._data(n,"globalEval")&&ot.contains(a,n)&&(n.src?ot._evalUrl&&ot._evalUrl(n.src):ot.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Gt,"")));s=i=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var i,n=0,o=[],r=ot(t),a=r.length-1;a>=n;n++)i=n===a?this:this.clone(!0),ot(r[n])[e](i),Q.apply(o,i.get());return this.pushStack(o)}});var Jt,Zt={};!function(){var t;it.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=ft.getElementsByTagName("body")[0],i&&i.style?(e=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==kt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ft.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var te,ee,ie=/^margin/,ne=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),oe=/^(top|right|bottom|left)$/;t.getComputedStyle?(te=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},ee=function(t,e,i){var n,o,r,a,s=t.style;return i=i||te(t),a=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==a||ot.contains(t.ownerDocument,t)||(a=ot.style(t,e)),ne.test(a)&&ie.test(e)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):ft.documentElement.currentStyle&&(te=function(t){return t.currentStyle},ee=function(t,e,i){var n,o,r,a,s=t.style;return i=i||te(t),a=i?i[e]:void 0,null==a&&s&&s[e]&&(a=s[e]),ne.test(a)&&!oe.test(e)&&(n=s.left,o=t.runtimeStyle,r=o&&o.left,r&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=n,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),function(){function e(){var e,i,n,o;i=ft.getElementsByTagName("body")[0],i&&i.style&&(e=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,l=!0,t.getComputedStyle&&(r="1%"!==(t.getComputedStyle(e,null)||{}).top,a="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,o=e.appendChild(ft.createElement("div")),o.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(o,null)||{}).marginRight),e.removeChild(o)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=e.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===o[0].offsetHeight,s&&(o[0].style.display="",o[1].style.display="none",s=0===o[0].offsetHeight),i.removeChild(n))}var i,n,o,r,a,s,l;i=ft.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=i.getElementsByTagName("a")[0],n=o&&o.style,n&&(n.cssText="float:left;opacity:.5",it.opacity="0.5"===n.opacity,it.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===i.style.backgroundClip,it.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,ot.extend(it,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==a&&e(),a},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){return null==l&&e(),l}}))}(),ot.swap=function(t,e,i,n){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=a[r];return o};var re=/alpha\([^)]*\)/i,ae=/opacity\s*=\s*([^)]*)/,se=/^(none|table(?!-c[ea]).+)/,le=new RegExp("^("+St+")(.*)$","i"),de=new RegExp("^([+-])=("+St+")","i"),he={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","O","Moz","ms"];ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ee(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=ot.camelCase(e),l=t.style;if(e=ot.cssProps[s]||(ot.cssProps[s]=C(l,s)),a=ot.cssHooks[e]||ot.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(t,!1,n))?o:l[e];if(r=typeof i,"string"===r&&(o=de.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ot.css(t,e)),r="number"),null!=i&&i===i&&("number"!==r||ot.cssNumber[s]||(i+="px"),it.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(t,i,n)))))try{l[e]=i}catch(d){}}},css:function(t,e,i,n){var o,r,a,s=ot.camelCase(e);return e=ot.cssProps[s]||(ot.cssProps[s]=C(t.style,s)),a=ot.cssHooks[e]||ot.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,i)),void 0===r&&(r=ee(t,e,n)),"normal"===r&&e in pe&&(r=pe[e]),""===i||i?(o=parseFloat(r),i===!0||ot.isNumeric(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,i,n){return i?se.test(ot.css(t,"display"))&&0===t.offsetWidth?ot.swap(t,he,function(){return N(t,e,n)}):N(t,e,n):void 0},set:function(t,i,n){var o=n&&te(t);return L(t,i,n?I(t,e,n,it.boxSizing&&"border-box"===ot.css(t,"boxSizing",!1,o),o):0)}}}),it.opacity||(ot.cssHooks.opacity={get:function(t,e){return ae.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=ot.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ot.trim(r.replace(re,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=re.test(r)?r.replace(re,o):r+" "+o)}}),ot.cssHooks.marginRight=S(it.reliableMarginRight,function(t,e){return e?ot.swap(t,{display:"inline-block"},ee,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+Ct[n]+e]=r[n]||r[n-2]||r[0];return o}},ie.test(t)||(ot.cssHooks[t+e].set=L)}),ot.fn.extend({css:function(t,e){return Lt(this,function(t,e,i){var n,o,r={},a=0;if(ot.isArray(e)){for(n=te(t),o=e.length;o>a;a++)r[e[a]]=ot.css(t,e[a],!1,n);return r}return void 0!==i?ot.style(t,e,i):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){_t(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=A,A.prototype={constructor:A,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(ot.cssNumber[i]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,i=A.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ot.cssProps[t.prop]]||ot.cssHooks[t.prop])?ot.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ot.fx=A.prototype.init,ot.fx.step={};var ue,fe,me=/^(?:toggle|show|hide)$/,ge=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),ve=/queueHooks$/,be=[B],ye={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=ge.exec(e),r=o&&o[3]||(ot.cssNumber[t]?"":"px"),a=(ot.cssNumber[t]||"px"!==r&&+n)&&ge.exec(ot.css(i.elem,t)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+n||1;do s=s||".5",a/=s,ot.style(i.elem,t,a+r);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return o&&(a=i.start=+a||+n||0,i.unit=r,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};ot.Animation=ot.extend(O,{tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;o>n;n++)i=t[n],ye[i]=ye[i]||[],ye[i].unshift(e)},prefilter:function(t,e){e?be.unshift(t):be.push(t)}}),ot.speed=function(t,e,i){var n=t&&"object"==typeof t?ot.extend({},t):{complete:i||!i&&e||ot.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ot.isFunction(e)&&e};return n.duration=ot.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ot.fx.speeds?ot.fx.speeds[n.duration]:ot.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ot.isFunction(n.old)&&n.old.call(this),n.queue&&ot.dequeue(this,n.queue)},n},ot.fn.extend({fadeTo:function(t,e,i,n){return this.filter(_t).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=ot.isEmptyObject(t),r=ot.speed(e,i,n),a=function(){var e=O(this,ot.extend({},t),r);(o||ot._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=ot.timers,a=ot._data(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&ve.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));(e||!i)&&ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=ot._data(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=ot.timers,a=n?n.length:0;for(i.finish=!0,ot.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;a>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var i=ot.fn[e];ot.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(M(e,!0),t,n,o)}}),ot.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ot.timers=[],ot.fx.tick=function(){var t,e=ot.timers,i=0;for(ue=ot.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||ot.fx.stop(),ue=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){fe||(fe=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(fe),fe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(t,e){return t=ot.fx?ot.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t,e,i,n,o;e=ft.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("a")[0],i=ft.createElement("select"),o=i.appendChild(ft.createElement("option")),t=e.getElementsByTagName("input")[0],n.style.cssText="top:1px",it.getSetAttribute="t"!==e.className,it.style=/top/.test(n.getAttribute("style")),it.hrefNormalized="/a"===n.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=o.selected,it.enctype=!!ft.createElement("form").enctype,i.disabled=!0,it.optDisabled=!o.disabled,t=ft.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value}();var we=/\r/g;ot.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=ot.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,ot(this).val()):t,null==o?o="":"number"==typeof o?o+="":ot.isArray(o)&&(o=ot.map(o,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=ot.valHooks[o.type]||ot.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(we,""):null==i?"":i)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t))}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,a=r?null:[],s=r?o+1:n.length,l=0>o?s:r?o:0;s>l;l++)if(i=n[l],(i.selected||l===o)&&(it.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ot.nodeName(i.parentNode,"optgroup"))){if(e=ot(i).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,r=ot.makeArray(e),a=o.length;a--;)if(n=o[a],ot.inArray(ot.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(s){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>=0:void 0}},it.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ee,xe,ke=ot.expr.attrHandle,$e=/^(?:checked|selected)$/i,Te=it.getSetAttribute,Se=it.input;ot.fn.extend({attr:function(t,e){return Lt(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===kt?ot.prop(t,e,i):(1===r&&ot.isXMLDoc(t)||(e=e.toLowerCase(),n=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?xe:Ee)),void 0===i?n&&"get"in n&&null!==(o=n.get(t,e))?o:(o=ot.find.attr(t,e),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:(t.setAttribute(e,i+""),i):void ot.removeAttr(t,e))},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(yt);if(r&&1===t.nodeType)for(;i=r[o++];)n=ot.propFix[i]||i,ot.expr.match.bool.test(i)?Se&&Te||!$e.test(i)?t[n]=!1:t[ot.camelCase("default-"+i)]=t[n]=!1:ot.attr(t,i,""),t.removeAttribute(Te?i:n)},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),xe={set:function(t,e,i){return e===!1?ot.removeAttr(t,i):Se&&Te||!$e.test(i)?t.setAttribute(!Te&&ot.propFix[i]||i,i):t[ot.camelCase("default-"+i)]=t[i]=!0,i}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ke[e]||ot.find.attr;ke[e]=Se&&Te||!$e.test(e)?function(t,e,n){var o,r;return n||(r=ke[e],ke[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,ke[e]=r),o}:function(t,e,i){return i?void 0:t[ot.camelCase("default-"+e)]?e.toLowerCase():null}}),Se&&Te||(ot.attrHooks.value={set:function(t,e,i){return ot.nodeName(t,"input")?void(t.defaultValue=e):Ee&&Ee.set(t,e,i)}}),Te||(Ee={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},ke.id=ke.name=ke.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},ot.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:Ee.set},ot.attrHooks.contenteditable={set:function(t,e,i){Ee.set(t,""===e?!1:e,i)}},ot.each(["width","height"],function(t,e){ot.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),it.style||(ot.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ce=/^(?:input|select|textarea|button|object)$/i,_e=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return Lt(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ot.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ot.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,o,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r=1!==a||!ot.isXMLDoc(t),r&&(e=ot.propFix[e]||e,o=ot.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):Ce.test(t.nodeName)||_e.test(t.nodeName)&&t.href?0:-1}}}}),it.hrefNormalized||ot.each(["href","src"],function(t,e){ot.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),it.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),it.enctype||(ot.propFix.enctype="encoding");var Le=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,i,n,o,r,a,s=0,l=this.length,d="string"==typeof t&&t;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,this.className))});if(d)for(e=(t||"").match(yt)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Le," "):" ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=ot.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(t){var e,i,n,o,r,a,s=0,l=this.length,d=0===arguments.length||"string"==typeof t&&t;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,this.className))});if(d)for(e=(t||"").match(yt)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Le," "):"")){
for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=t?ot.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(i){ot(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,o=ot(this),r=t.match(yt)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(i===kt||"boolean"===i)&&(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ot._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Le," ").indexOf(e)>=0)return!0;return!1}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Ie=ot.now(),Ne=/\?/,Ae=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ot.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,o=ot.trim(e+"");return o&&!ot.trim(o.replace(Ae,function(t,e,o,r){return i&&e&&(n=0),0===n?t:(i=o||e,n+=!r-!o,"")}))?Function("return "+o)():ot.error("Invalid JSON: "+e)},ot.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new DOMParser,i=n.parseFromString(e,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(o){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),i};var De,Me,Re=/#.*$/,Be=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,He=/^(?:GET|HEAD)$/,Fe=/^\/\//,je=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ue={},ze={},We="*/".concat("*");try{Me=location.href}catch(qe){Me=ft.createElement("a"),Me.href="",Me=Me.href}De=je.exec(Me.toLowerCase())||[],ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me,type:"GET",isLocal:Oe.test(De[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,ot.ajaxSettings),e):j(ot.ajaxSettings,t)},ajaxPrefilter:H(Ue),ajaxTransport:H(ze),ajax:function(t,e){function i(t,e,i,n){var o,h,v,b,w,x=e;2!==y&&(y=2,s&&clearTimeout(s),d=void 0,a=n||"",E.readyState=t>0?4:0,o=t>=200&&300>t||304===t,i&&(b=U(p,E,i)),b=z(p,b,E,o),o?(p.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(ot.lastModified[r]=w),w=E.getResponseHeader("etag"),w&&(ot.etag[r]=w)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=b.state,h=b.data,v=b.error,o=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),E.status=t,E.statusText=(e||x)+"",o?f.resolveWith(c,[h,x,E]):f.rejectWith(c,[E,x,v]),E.statusCode(g),g=void 0,l&&u.trigger(o?"ajaxSuccess":"ajaxError",[E,p,o?h:v]),m.fireWith(c,[E,x]),l&&(u.trigger("ajaxComplete",[E,p]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,r,a,s,l,d,h,p=ot.ajaxSetup({},e),c=p.context||p,u=p.context&&(c.nodeType||c.jquery)?ot(c):ot.event,f=ot.Deferred(),m=ot.Callbacks("once memory"),g=p.statusCode||{},v={},b={},y=0,w="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!h)for(h={};e=Pe.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=b[i]=b[i]||t,v[t]=e),this},overrideMimeType:function(t){return y||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)g[e]=[g[e],t[e]];else E.always(t[E.status]);return this},abort:function(t){var e=t||w;return d&&d.abort(e),i(0,e),this}};if(f.promise(E).complete=m.add,E.success=E.done,E.error=E.fail,p.url=((t||p.url||Me)+"").replace(Re,"").replace(Fe,De[1]+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=ot.trim(p.dataType||"*").toLowerCase().match(yt)||[""],null==p.crossDomain&&(n=je.exec(p.url.toLowerCase()),p.crossDomain=!(!n||n[1]===De[1]&&n[2]===De[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(De[3]||("http:"===De[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ot.param(p.data,p.traditional)),F(Ue,p,e,E),2===y)return E;l=ot.event&&p.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!He.test(p.type),r=p.url,p.hasContent||(p.data&&(r=p.url+=(Ne.test(r)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Be.test(r)?r.replace(Be,"$1_="+Ie++):r+(Ne.test(r)?"&":"?")+"_="+Ie++)),p.ifModified&&(ot.lastModified[r]&&E.setRequestHeader("If-Modified-Since",ot.lastModified[r]),ot.etag[r]&&E.setRequestHeader("If-None-Match",ot.etag[r])),(p.data&&p.hasContent&&p.contentType!==!1||e.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+We+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)E.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(c,E,p)===!1||2===y))return E.abort();w="abort";for(o in{success:1,error:1,complete:1})E[o](p[o]);if(d=F(ze,p,e,E)){E.readyState=1,l&&u.trigger("ajaxSend",[E,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){E.abort("timeout")},p.timeout));try{y=1,d.send(v,i)}catch(x){if(!(2>y))throw x;i(-1,x)}}else i(-1,"No Transport");return E},getJSON:function(t,e,i){return ot.get(t,e,i,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,i,n,o){return ot.isFunction(i)&&(o=o||n,n=i,i=void 0),ot.ajax({url:t,type:e,dataType:o,data:i,success:n})}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){if(ot.isFunction(t))return this.each(function(e){ot(this).wrapAll(t.call(this,e))});if(this[0]){var e=ot(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(i){ot(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ot.css(t,"display"))},ot.expr.filters.visible=function(t){return!ot.expr.filters.hidden(t)};var Ve=/%20/g,Xe=/\[\]$/,Ge=/\r?\n/g,Ye=/^(?:submit|button|image|reset|file)$/i,Ke=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var i,n=[],o=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){o(this.name,this.value)});else for(i in t)W(i,t[i],e,o);return n.join("&").replace(Ve,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Ke.test(this.nodeName)&&!Ye.test(t)&&(this.checked||!It.test(t))}).map(function(t,e){var i=ot(this).val();return null==i?null:ot.isArray(i)?ot.map(i,function(t){return{name:e.name,value:t.replace(Ge,"\r\n")}}):{name:e.name,value:i.replace(Ge,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||V()}:q;var Qe=0,Je={},Ze=ot.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Je)Je[t](void 0,!0)}),it.cors=!!Ze&&"withCredentials"in Ze,Ze=it.ajax=!!Ze,Ze&&ot.ajaxTransport(function(t){if(!t.crossDomain||it.cors){var e;return{send:function(i,n){var o,r=t.xhr(),a=++Qe;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&r.setRequestHeader(o,i[o]+"");r.send(t.hasContent&&t.data||null),e=function(i,o){var s,l,d;if(e&&(o||4===r.readyState))if(delete Je[a],e=void 0,r.onreadystatechange=ot.noop,o)4!==r.readyState&&r.abort();else{d={},s=r.status,"string"==typeof r.responseText&&(d.text=r.responseText);try{l=r.statusText}catch(h){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=d.text?200:404}d&&n(s,l,d,r.getAllResponseHeaders())},t.async?4===r.readyState?setTimeout(e):r.onreadystatechange=Je[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=ft.head||ot("head")[0]||ft.documentElement;return{send:function(n,o){e=ft.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||o(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ti=[],ei=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ti.pop()||ot.expando+"_"+Ie++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,a,s=e.jsonp!==!1&&(ei.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ei.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ei,"$1"+o):e.jsonp!==!1&&(e.url+=(Ne.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||ot.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},n.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,ti.push(o)),a&&ot.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||ft;var n=pt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=ot.buildFragment([t],e,o),o&&o.length&&ot(o).remove(),ot.merge([],n.childNodes))};var ii=ot.fn.load;ot.fn.load=function(t,e,i){if("string"!=typeof t&&ii)return ii.apply(this,arguments);var n,o,r,a=this,s=t.indexOf(" ");return s>=0&&(n=ot.trim(t.slice(s,t.length)),t=t.slice(0,s)),ot.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&ot.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(n?ot("<div>").append(ot.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){a.each(i,o||[t.responseText,e,t])}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length};var ni=t.document.documentElement;ot.offset={setOffset:function(t,e,i){var n,o,r,a,s,l,d,h=ot.css(t,"position"),p=ot(t),c={};"static"===h&&(t.style.position="relative"),s=p.offset(),r=ot.css(t,"top"),l=ot.css(t,"left"),d=("absolute"===h||"fixed"===h)&&ot.inArray("auto",[r,l])>-1,d?(n=p.position(),a=n.top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(c.top=e.top-s.top+a),null!=e.left&&(c.left=e.left-s.left+o),"using"in e?e.using.call(t,c):p.css(c)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return e=r.documentElement,ot.contains(e,o)?(typeof o.getBoundingClientRect!==kt&&(n=o.getBoundingClientRect()),i=X(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(i=t.offset()),i.top+=ot.css(t[0],"borderTopWidth",!0),i.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ot.css(n,"marginTop",!0),left:e.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||ni;t&&!ot.nodeName(t,"html")&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||ni})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);ot.fn[t]=function(n){return Lt(this,function(t,n,o){var r=X(t);return void 0===o?r?e in r?r[e]:r.document.documentElement[n]:t[n]:void(r?r.scrollTo(i?ot(r).scrollLeft():o,i?o:ot(r).scrollTop()):t[n]=o)},t,n,arguments.length,null)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=S(it.pixelPosition,function(t,i){return i?(i=ee(t,e),ne.test(i)?ot(t).position()[e]+"px":i):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ot.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||o===!0?"margin":"border");return Lt(this,function(e,i,n){var o;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?ot.css(e,i,a):ot.style(e,i,n,a)},e,r?n:void 0,r,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var oi=t.jQuery,ri=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=ri),e&&t.jQuery===ot&&(t.jQuery=oi),ot},typeof e===kt&&(t.jQuery=t.$=ot),ot}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(n){var o,r,a,s,l,d;if(i.fire(n,"ajax:before")){if(s=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),r=n.attr("action"),a=n.serializeArray();var h=n.data("ujs:submit-button");h&&(a.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),a=n.data("params")||null);return d={type:o||"GET",data:a,dataType:l,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(r)},s&&(d.xhrFields={withCredentials:s}),r&&(d.url=r),i.ajax(d)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var o=i.href(n),r=n.data("method"),a=n.attr("target"),s=i.csrfToken(),l=i.csrfParam(),d=t('<form method="post" action="'+o+'"></form>'),h='<input name="_method" value="'+r+'" type="hidden" />';l===e||s===e||i.isCrossDomain(o)||(h+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&d.attr("target",a),d.hide().append(h).appendTo("body"),d.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),t.data("ujs:enable-with",t[i]()),n!==e&&t[i](n),t.prop("disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";"undefined"!=typeof t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,n=t.data("confirm"),o=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{o=i.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=i.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,i,n){var o,r,a=t(),s=i||"input,textarea",l=e.find(s);return l.each(function(){if(o=t(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val(),r===n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;a=a.add(o)}}),a.length?a:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");t.data("ujs:enable-with",t.html()),n!==e&&t.html(n),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableElement(e)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(e){var n=t(this),o=n.data("method"),r=n.data("params"),a=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!a&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(a&&(!o||"GET"===o)&&!r)return!0;var s=i.handleRemote(n);return s===!1?i.enableElement(n):s.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return o===!1?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var o,r,a=t(this),s=i.isRemote(a);if(!i.allowAction(a))return i.stopEverything(n);if(a.attr("novalidate")===e&&(o=i.blankInputs(a,i.requiredInputSelector,!1),o&&i.fire(a,"ajax:aborted:required",[o])))return i.stopEverything(n);if(s){if(r=i.nonBlankInputs(a,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(a)},13);var l=i.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(a)},13),l}return i.handleRemote(a),!1}setTimeout(function(){i.disableFormElements(a)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),function(){var t,e,i,n,o,r,a,s,l,d,h,p,c,u,f,m,g,v,b,y,w,E,x,k,$,T,S,C,_,L,I,N,A,D,M,R,B,P,O,H,F,j,U,z,W,q,V,X,G,Y,K,Q,J,Z,tt,et,it=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},nt=function(t,e){function i(){this.constructor=t}for(var n in e)ot.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},ot={}.hasOwnProperty,rt=[].slice,at=function(t,e){return function(){return t.apply(e,arguments)}};D={},c=10,Q=!1,O=null,b=null,N=null,j=null,et=null,n={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},k=function(t){var e;return t=new i(t),V(),p(),null!=O&&O.start(),Q&&(e=J(t.absolute))?($(e),T(t,null,!1)):T(t,Y)},J=function(t){var e;return e=D[t],e&&!e.transitionCacheDisabled?e:void 0},w=function(t){return null==t&&(t=!0),Q=t},y=function(t){return null==t&&(t=!0),d?t?null!=O?O:O=new r("html"):(null!=O&&O.uninstall(),O=null):void 0},T=function(t,e,i){return null==i&&(i=!0),Z(n.FETCH,{url:t.absolute}),null!=et&&et.abort(),et=new XMLHttpRequest,et.open("GET",t.withoutHashForIE10compatibility(),!0),et.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),et.setRequestHeader("X-XHR-Referer",j),et.onload=function(){var i;return Z(n.RECEIVE,{url:t.absolute}),(i=P())?(U(t),z(),u.apply(null,x(i)),A(),"function"==typeof e&&e(),Z(n.LOAD)):document.location.href=v()||t.absolute},O&&i&&(et.onprogress=function(t){return function(t){var e;return e=t.lengthComputable?t.loaded/t.total*100:O.value+(100-O.value)/10,O.advanceTo(e)}}(this)),et.onloadend=function(){return et=null},et.onerror=function(){return document.location.href=t.absolute},et.send()},$=function(t){return null!=et&&et.abort(),u(t.title,t.body),H(t),Z(n.RESTORE)},p=function(){var t;return t=new i(b.url),D[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(c)},R=function(t){return null==t&&(t=c),/^[\d]+$/.test(t)?c=parseInt(t):void 0},m=function(t){var e,i,o,r,a,s;for(a=Object.keys(D),e=a.map(function(t){return D[t].cachedAt}).sort(function(t,e){return e-t}),s=[],i=0,r=a.length;r>i;i++)o=a[i],D[o].cachedAt<=e[t]&&(Z(n.EXPIRE,D[o]),s.push(delete D[o]));return s},u=function(e,i,o,r){return Z(n.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(i,document.body),null!=o&&t.update(o),K(),r&&E(),b=window.history.state,null!=O&&O.done(),Z(n.CHANGE),Z(n.UPDATE)},E=function(){var t,e,i,n,o,r,a,s,l,d,h,p;for(p=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),i=0,o=p.length;o>i;i++)if(h=p[i],""===(l=h.type)||"text/javascript"===l){for(e=document.createElement("script"),d=h.attributes,n=0,r=d.length;r>n;n++)t=d[n],e.setAttribute(t.name,t.value);h.hasAttribute("async")||(e.async=!1),e.appendChild(document.createTextNode(h.innerHTML)),s=h.parentNode,a=h.nextSibling,s.removeChild(h),s.insertBefore(e,a)}},X=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},K=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},U=function(t){return(t=new i(t)).absolute!==j?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},z=function(){var t,e;return(t=et.getResponseHeader("X-XHR-Redirected-To"))?(t=new i(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",t.href+e)):void 0},v=function(){var t;return null!=(t=et.getResponseHeader("Location"))&&new i(t).crossOrigin()?t:void 0},V=function(){return j=document.location.href},q=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},W=function(){return b=window.history.state},A=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new i).hasNoHash()?(window.history.replaceState(b,"",t.withoutHash()),document.location.hash=t.hash):void 0},H=function(t){return window.scrollTo(t.positionX,t.positionY)},Y=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},f=function(t){var e,i,n;if(null==t||"object"!=typeof t)return t;e=new t.constructor;for(i in t)n=t[i],e[i]=f(n);return e},B=function(t){var e,i;return i=(null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",i},Z=function(t,e){var i;return"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0),i=document.createEvent("Events"),e&&(i.data=e),i.initEvent(t,!0,!0),document.dispatchEvent(i)},M=function(t){return!Z(n.BEFORE_CHANGE,{url:t})},P=function(){var t,e,i,n,o,r;return e=function(){var t;return 400<=(t=et.status)&&600>t},r=function(){var t;return null!=(t=et.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},n=function(t){var e,i,n,o,r;for(o=t.querySelector("head").childNodes,r=[],e=0,i=o.length;i>e;e++)n=o[e],null!=("function"==typeof n.getAttribute?n.getAttribute("data-turbolinks-track"):void 0)&&r.push(n.getAttribute("src")||n.getAttribute("href"));return r},t=function(t){var e;return N||(N=n(document)),e=n(t),e.length!==N.length||o(e,N).length!==N.length},o=function(t,e){var i,n,o,r,a;for(t.length>e.length&&(o=[e,t],t=o[0],e=o[1]),r=[],i=0,n=t.length;n>i;i++)a=t[i],it.call(e,a)>=0&&r.push(a);return r},!e()&&r()&&(i=g(et.responseText),i&&!t(i))?i:void 0},x=function(e){var i;return i=e.querySelector("title"),[null!=i?i.textContent:void 0,X(e.querySelector("body")),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},g=function(t){var e;return e=document.documentElement.cloneNode(),e.innerHTML=t,e.head=e.querySelector("head"),e.body=e.querySelector("body"),e},i=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype.crossOrigin=function(){return this.origin!==(new t).origin},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),o=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void e.__super__.constructor.apply(this,arguments))}return nt(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,i,n,o;for(i=1<=arguments.length?rt.call(arguments,0):[],n=0,o=i.length;o>n;n++)t=i[n],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new i).withoutHash()},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.originalElement;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(i),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(M(this.link.absolute)||tt(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new o(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick());
},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),r=function(){function t(t){this.elementSelector=t,this._trickle=at(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(t){var e;if(t>(e=this.value)&&100>=e){if(this.value=t,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},t.prototype._reset=function(){var t;return t=this.opacity,setTimeout(function(t){return function(){return t.opacity=0,t._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=t,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},t.prototype._withSpeed=function(t,e){var i,n;return i=this.speed,this.speed=t,n=e(),this.speed=i,n},t.prototype._updateStyle=function(t){return null==t&&(t=!1),t&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),h=function(t){return setTimeout(t,500)},_=function(){return document.addEventListener("DOMContentLoaded",function(){return Z(n.CHANGE),Z(n.UPDATE)},!0)},I=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e,i){return jQuery.trim(e.responseText)?Z(n.UPDATE):void 0}):void 0},L=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=D[new i(t.state.url).absolute])?(p(),$(e)):tt(t.target.location.href):void 0},C=function(){return q(),W(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(t){return q(),W()},!1),h(function(){return window.addEventListener("popstate",L,!1)})},S=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&S,a=!navigator.userAgent.match(/CriOS\//),G="GET"===(F=B("request_method"))||""===F,d=l&&a&&G,s=document.addEventListener&&document.createEvent,s&&(_(),I()),d?(tt=k,C()):tt=function(t){return document.location.href=t},this.Turbolinks={visit:tt,pagesCached:R,enableTransitionCache:w,enableProgressBar:y,allowLinkExtensions:o.allowExtensions,supported:d,EVENTS:f(n)}}.call(this),"undefined"==typeof jQuery)throw new Error("Froala requires jQuery");!function(t){"use strict";var e=function(i,n){return this.options=t.extend({},e.DEFAULTS,t(i).data(),"object"==typeof n&&n),this.options.unsupportedAgents.test(navigator.userAgent)?!1:(this.valid_nodes=t.merge([],e.VALID_NODES),this.valid_nodes=t.merge(this.valid_nodes,t.map(Object.keys(this.options.blockTags),function(t){return t.toUpperCase()})),this.browser=e.browser(),this.disabledList=[],this._id=++e.count,this._events={},this.blurred=!0,this.$original_element=t(i),this.document=i.ownerDocument,this.window="defaultView"in this.document?this.document.defaultView:this.document.parentWindow,this.$document=t(this.document),this.$window=t(this.window),this.br=this.browser.msie&&t.Editable.getIEversion()<=10?"":"<br/>",this.init(i),void t(i).on("editable.focus",t.proxy(function(){for(var e=1;e<=t.Editable.count;e++)e!=this._id&&this.$window.trigger("blur."+e)},this)))};e.initializers=[],e.count=0,e.VALID_NODES=["P","DIV","LI","TD","TH"],e.LANGS=[],e.INVISIBLE_SPACE="&#x200b;",e.DEFAULTS={allowComments:!0,allowScript:!1,allowStyle:!1,allowedAttrs:["accept","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","width","wrap"],allowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],alwaysBlank:!1,alwaysVisible:!1,autosave:!1,autosaveInterval:1e4,beautifyCode:!0,blockTags:{n:"Normal",blockquote:"Quote",pre:"Code",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},buttons:["bold","italic","underline","strikeThrough","fontSize","fontFamily","color","sep","formatBlock","blockStyle","align","insertOrderedList","insertUnorderedList","outdent","indent","sep","createLink","insertImage","insertVideo","insertHorizontalRule","undo","redo","html"],crossDomain:!0,convertMailAddresses:!0,customButtons:{},customDropdowns:{},customText:!1,defaultTag:"P",direction:"ltr",disableRightClick:!1,editInPopup:!1,editorClass:"",formatTags:["p","pre","blockquote","h1","h2","h3","h4","h5","h6","div","ul","ol","li","table","tbody","thead","tfoot","tr","th","td","body","head","html","title","meta","link","base","script","style"],headers:{},height:"auto",icons:{},inlineMode:!0,initOnClick:!1,fullPage:!1,language:"en_us",linkList:[],linkText:!1,linkClasses:{},linkAttributes:{},linkAutoPrefix:"",maxHeight:"auto",minHeight:"auto",multiLine:!0,noFollow:!0,paragraphy:!0,placeholder:"Type something",plainPaste:!1,preloaderSrc:"",saveURL:null,saveParam:"body",saveParams:{},saveRequestType:"POST",scrollableContainer:"body",simpleAmpersand:!1,shortcuts:!0,shortcutsAvailable:["show","bold","italic","underline","createLink","insertImage","indent","outdent","html","formatBlock n","formatBlock h1","formatBlock h2","formatBlock h3","formatBlock h4","formatBlock h5","formatBlock h6","formatBlock blockquote","formatBlock pre","strikeThrough"],showNextToCursor:!1,spellcheck:!1,theme:null,toolbarFixed:!0,trackScroll:!1,unlinkButton:!0,useClasses:!0,tabSpaces:!0,typingTimer:500,pastedImagesUploadRequestType:"POST",pastedImagesUploadURL:"http://i.froala.com/upload_base64",unsupportedAgents:/Opera Mini/i,useFrTag:!1,width:"auto",withCredentials:!1,zIndex:2e3},e.prototype.destroy=function(){this.sync(),this.options.useFrTag&&this.addFrTag(),this.hide(),this.isHTML&&this.html(),this.$bttn_wrapper&&this.$bttn_wrapper.html("").removeData().remove(),this.$editor&&this.$editor.html("").removeData().remove(),this.raiseEvent("destroy"),this.$popup_editor&&this.$popup_editor.html("").removeData().remove(),this.$placeholder&&this.$placeholder.html("").removeData().remove(),clearTimeout(this.ajaxInterval),clearTimeout(this.typingTimer),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop"),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop","**"),this.$window.off("mouseup."+this._id),this.$window.off("keydown."+this._id),this.$window.off("keyup."+this._id),this.$window.off("blur."+this._id),this.$window.off("hide."+this._id),this.$window.off("scroll."+this._id),this.$window.off("resize."+this._id),this.$window.off("orientationchange."+this._id),this.$document.off("selectionchange."+this._id),this.$original_element.off("editable"),void 0!==this.$upload_frame&&this.$upload_frame.remove(),this.$textarea&&(this.$box.remove(),this.$textarea.removeData("fa.editable"),this.$textarea.show());for(var t in this._events)delete this._events[t];this.$placeholder&&this.$placeholder.remove(),this.isLink?this.$element.removeData("fa.editable"):(this.$wrapper?this.$wrapper.replaceWith(this.getHTML(!1,!1)):this.$element.replaceWith(this.getHTML(!1,!1)),this.$box&&!this.editableDisabled&&(this.$box.removeClass("froala-box f-rtl"),this.$box.find(".html-switch").remove(),this.$box.removeData("fa.editable"),clearTimeout(this.typingTimer))),this.$lb&&this.$lb.remove()},e.prototype.triggerEvent=function(e,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),n===!0&&(this.isResizing()||this.editableDisabled||this.imageMode||!o||this.cleanify(),this.sync());var r=!0;return i||(i=[]),r=this.$original_element.triggerHandler("editable."+e,t.merge([this],i)),void 0===r?!0:r},e.prototype.syncStyle=function(){if(this.options.fullPage){var t=this.$element.html().match(/\[style[^\]]*\].*\[\/style\]/gi);if(this.$document.find("head style[data-id]").remove(),t)for(var e=0;e<t.length;e++)this.$document.find("head").append(t[e].replace(/\[/gi,"<").replace(/\]/gi,">"))}},e.prototype.sync=function(){if(!this.isHTML){this.raiseEvent("sync"),this.disableImageResize(),this.isLink||this.isImage||this.checkPlaceholder();var t=this.getHTML();this.trackHTML!==t&&null!=this.trackHTML?(this.refreshImageList(),this.refreshButtons(),this.trackHTML=t,this.$textarea&&this.$textarea.val(t),this.doingRedo||this.saveUndoStep(),this.triggerEvent("contentChanged",[],!1)):null==this.trackHTML&&(this.trackHTML=t),this.syncStyle()}},e.prototype.emptyElement=function(e){if("IMG"==e.tagName||t(e).find("img").length>0)return!1;if(t(e).find("input, iframe, object").length>0)return!1;for(var i=t(e).text(),n=0;n<i.length;n++)if("\n"!==i[n]&&"\r"!==i[n]&&"	"!==i[n]&&8203!=i[n].charCodeAt(0))return!1;return!0},e.prototype.initEvents=function(){this.mobile()?(this.mousedown="touchstart",this.mouseup="touchend",this.move="touchmove"):(this.mousedown="mousedown",this.mouseup="mouseup",this.move="")},e.prototype.initDisable=function(){this.$element.on("keypress keydown keyup",t.proxy(function(t){return this.isDisabled?(t.stopPropagation(),t.preventDefault(),!1):void 0},this))},e.prototype.continueInit=function(){this.initDisable(),this.initEvents(),this.browserFixes(),this.handleEnter(),this.editableDisabled||(this.initUndoRedo(),this.enableTyping(),this.initShortcuts()),this.initTabs(),this.initEditor();for(var e=0;e<t.Editable.initializers.length;e++)t.Editable.initializers[e].call(this);this.initOptions(),this.initEditorSelection(),this.initAjaxSaver(),this.setLanguage(),this.setCustomText(),this.editableDisabled||this.registerPaste(),this.refreshDisabledState(),this.refreshUndo(),this.refreshRedo(),this.initPopupSubmit(),this.initialized=!0,this.triggerEvent("initialized",[],!1,!1)},e.prototype.initPopupSubmit=function(){this.$popup_editor.find(".froala-popup input").keydown(function(e){var i=e.which;13==i&&(e.preventDefault(),e.stopPropagation(),t(this).blur(),t(this).parents(".froala-popup").find("button.f-submit").click())})},e.prototype.lateInit=function(){this.saveSelectionByMarkers(),this.continueInit(),this.restoreSelectionByMarkers(),this.$element.focus(),this.hideOtherEditors()},e.prototype.init=function(e){this.options.paragraphy||(this.options.defaultTag="DIV"),this.options.allowStyle&&this.setAllowStyle(),this.options.allowScript&&this.setAllowScript(),this.initElement(e),this.initElementStyle(),(!this.isLink||this.isImage)&&(this.initImageEvents(),this.buildImageMove()),this.options.initOnClick?(this.editableDisabled||(this.$element.attr("contenteditable",!0),this.$element.attr("spellcheck",!1)),this.$element.bind("mousedown.element focus.element",t.proxy(function(t){return this.isLink||t.stopPropagation(),this.isDisabled?!1:(this.$element.unbind("mousedown.element focus.element"),this.browser.webkit&&(this.initMouseUp=!1),void this.lateInit())},this))):this.continueInit()},e.prototype.phone=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},e.prototype.mobile=function(){return this.phone()||this.android()||this.iOS()||this.blackberry()},e.prototype.iOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},e.prototype.iOSVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),e=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)];if(e&&e[0])return e[0]}return 0},e.prototype.iPad=function(){return/(iPad)/g.test(navigator.userAgent)},e.prototype.iPhone=function(){return/(iPhone)/g.test(navigator.userAgent)},e.prototype.iPod=function(){return/(iPod)/g.test(navigator.userAgent)},e.prototype.android=function(){return/(Android)/g.test(navigator.userAgent)},e.prototype.blackberry=function(){return/(Blackberry)/g.test(navigator.userAgent)},e.prototype.initOnTextarea=function(e){this.$textarea=t(e),void 0!==this.$textarea.attr("placeholder")&&"Type something"==this.options.placeholder&&(this.options.placeholder=this.$textarea.attr("placeholder")),this.$element=t("<div>").html(this.clean(this.$textarea.val(),!0,!1)),this.$element.find("pre br").replaceWith("\n"),this.$textarea.before(this.$element).hide(),this.$textarea.parents("form").bind("submit",t.proxy(function(){this.isHTML?this.html():this.sync()},this)),this.addListener("destroy",t.proxy(function(){this.$textarea.parents("form").unbind("submit")},this))},e.prototype.initOnLink=function(e){this.isLink=!0,this.options.linkText=!0,this.selectionDisabled=!0,this.editableDisabled=!0,this.options.buttons=[],this.$element=t(e),this.options.paragraphy=!1,this.options.countCharacters=!1,this.$box=this.$element},e.prototype.initOnImage=function(e){var i=t(e).css("float");"A"==t(e).parent().get(0).tagName&&(e=t(e).parent()),this.isImage=!0,this.editableDisabled=!0,this.imageList=[],this.options.buttons=[],this.options.paragraphy=!1,this.options.imageMargin="auto",t(e).wrap("<div>"),this.$element=t(e).parent(),this.$element.css("display","inline-block"),this.$element.css("max-width","100%"),this.$element.css("margin-left","auto"),this.$element.css("margin-right","auto"),this.$element.css("float",i),this.$element.addClass("f-image"),this.$box=t(e)},e.prototype.initForPopup=function(e){this.$element=t(e),this.$box=this.$element,this.editableDisabled=!0,this.options.countCharacters=!1,this.options.buttons=[],this.$element.on("click",t.proxy(function(t){t.preventDefault()},this))},e.prototype.initOnDefault=function(e){"DIV"!=e.tagName&&this.options.buttons.indexOf("formatBlock")>=0&&this.disabledList.push("formatBlock"),this.$element=t(e)},e.prototype.initElement=function(e){if("TEXTAREA"==e.tagName?this.initOnTextarea(e):"A"==e.tagName?this.initOnLink(e):"IMG"==e.tagName?this.initOnImage(e):this.options.editInPopup?this.initForPopup(e):this.initOnDefault(e),!this.editableDisabled){this.$box=this.$element.addClass("froala-box"),this.$wrapper=t('<div class="froala-wrapper">'),this.$element=t("<div>");var i=this.$box.html();this.$box.html(this.$wrapper.html(this.$element)),this.$element.on("keyup",t.proxy(function(){this.$element.find("ul, ol").length>1&&this.cleanupLists()},this)),this.setHTML(i,!0)}this.$element.on("drop",t.proxy(function(){setTimeout(t.proxy(function(){t("html").click(),this.$element.find(".f-img-wrap").each(function(e,i){0===t(i).find("img").length&&t(i).remove()}),this.$element.find(this.options.defaultTag+":empty").remove()},this),1)},this))},e.prototype.trim=function(t){return t=String(t).replace(/^\s+|\s+$/g,""),t=t.replace(/\u200B/gi,"")},e.prototype.unwrapText=function(){this.options.paragraphy||this.$element.find(this.options.defaultTag).each(t.proxy(function(e,i){if(0===i.attributes.length){var n=t(i).find("br:last");t(i).replaceWith(n.length&&this.isLastSibling(n.get(0))?t(i).html():t(i).html()+"<br/>")}},this))},e.prototype.wrapTextInElement=function(e,i){void 0===i&&(i=!1);var n=[],o=["SPAN","A","B","I","EM","U","S","STRONG","STRIKE","FONT","IMG","SUB","SUP","BUTTON","INPUT"],r=this;this.no_verify=!0;var a=function(){if(0===n.length)return!1;var e=t("<"+r.options.defaultTag+">"),i=t(n[0]);if(1==n.length&&"f-marker"==i.attr("class"))return void(n=[]);for(var o=0;o<n.length;o++){var a=t(n[o]);e.append(a.clone()),o==n.length-1?a.replaceWith(e):a.remove()}n=[]},s=!1,l=!1,d=!1;e.contents().filter(function(){var e=t(this);if(e.hasClass("f-marker")||e.find(".f-marker").length){var h=e;if(1==e.find(".f-marker").length||e.hasClass("f-marker")){h=e.find(".f-marker").length?t(e.find(".f-marker")[0]):e;var p=h.prev();"true"===h.attr("data-type")?p.length&&t(p[0]).hasClass("f-marker")?d=!0:(s=!0,l=!1):l=!0}else d=!0}this.nodeType==Node.TEXT_NODE&&e.text().length>0||o.indexOf(this.tagName)>=0?n.push(this):this.nodeType==Node.TEXT_NODE&&0===e.text().length&&r.options.beautifyCode?e.remove():s||i||d?("BR"===this.tagName&&(n.length>0?e.remove():n.push(this)),a(),l&&(s=!1),d=!1):n=[]}),(s||i||d)&&a(),e.find("> "+this.options.defaultTag).each(function(e,i){0===t(i).text().trim().length&&0===t(i).find("img").length&&0===t(i).find("br").length&&t(i).append(this.br)}),e.find("div:empty:not([class])").remove(),e.is(":empty")&&e.append(r.options.paragraphy===!0?"<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">":this.br),this.no_verify=!1},e.prototype.wrapText=function(e){if(this.isImage||this.isLink)return!1;this.allow_div=!0,this.removeBlankSpans();for(var i=this.getSelectionElements(),n=0;n<i.length;n++){var o=t(i[n]);["LI","TH","TD"].indexOf(o.get(0).tagName)>=0?this.wrapTextInElement(o,!0):this.parents(o,"li").length?this.wrapTextInElement(t(this.parents(o,"li")[0]),e):this.wrapTextInElement(this.$element,e)}this.allow_div=!1},e.prototype.convertNewLines=function(){this.$element.find("pre").each(function(e,i){var n=t(i),o=t(i).html();o.indexOf("\n")>=0&&n.html(o.replace(/\n/g,"<br>"))})},e.prototype.setHTML=function(e,i){this.no_verify=!0,this.allow_div=!0,void 0===i&&(i=!0),e=this.clean(e,!0,!1),e=e.replace(/>\s+</g,"><"),this.$element.html(e),this.cleanAttrs(this.$element.get(0)),this.convertNewLines(),this.imageList=[],this.refreshImageList(),this.options.paragraphy&&this.wrapText(!0),this.$element.find("li:empty").append(t.Editable.INVISIBLE_SPACE),this.cleanupLists(),this.cleanify(!1,!0,!1),i&&(this.restoreSelectionByMarkers(),this.sync()),this.$element.find("span").attr("data-fr-verified",!0),this.initialized&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.no_verify=!1,this.allow_div=!1},e.prototype.beforePaste=function(){this.saveSelectionByMarkers(),this.clipboardHTML=null,this.scrollPosition=this.$window.scrollTop(),this.$pasteDiv?this.$pasteDiv.html(""):(this.$pasteDiv=t('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; z-index: 4000; line-height: 140%;" tabindex="-1"></div>'),this.$box.after(this.$pasteDiv)),this.$pasteDiv.focus(),this.window.setTimeout(t.proxy(this.processPaste,this),1)},e.prototype.processPaste=function(){var i=this.clipboardHTML;null===this.clipboardHTML&&(i=this.$pasteDiv.html(),this.restoreSelectionByMarkers(),this.$window.scrollTop(this.scrollPosition));var n,o=this.triggerEvent("onPaste",[i],!1);"string"==typeof o&&(i=o),i=i.replace(/<img /gi,'<img data-fr-image-pasted="true" '),i.match(/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/gi)?(n=this.wordClean(i),n=this.clean(t("<div>").append(n).html(),!1,!0),n=this.removeEmptyTags(n)):(n=this.clean(i,!1,!0),n=this.removeEmptyTags(n),e.copiedText&&t("<div>").html(n).text().replace(/\u00A0/gi," ")==e.copiedText.replace(/(\u00A0|\r|\n)/gi," ")&&(n=e.copiedHTML)),this.options.plainPaste&&(n=this.plainPasteClean(n)),o=this.triggerEvent("afterPasteCleanup",[n],!1),"string"==typeof o&&(n=o),""!==n&&(this.insertHTML(n,!0,!0),this.saveSelectionByMarkers(),this.removeBlankSpans(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove(),this.restoreSelectionByMarkers(),this.$element.find("li[data-indent]").each(t.proxy(function(e,i){this.indentLi?(t(i).removeAttr("data-indent"),this.indentLi(t(i))):t(i).removeAttr("data-indent")},this)),this.$element.find("li").each(t.proxy(function(e,i){this.wrapTextInElement(t(i),!0)},this)),this.options.paragraphy&&this.wrapText(!0),this.cleanupLists()),this.afterPaste()},e.prototype.afterPaste=function(){this.uploadPastedImages(),this.checkPlaceholder(),this.pasting=!1,this.triggerEvent("afterPaste",[],!0,!1)},e.prototype.getSelectedHTML=function(){function e(e,n){for(;3==n.nodeType||i.valid_nodes.indexOf(n.tagName)<0;)3!=n.nodeType&&t(e).wrapInner("<"+n.tagName+i.attrs(n)+"></"+n.tagName+">"),n=n.parentNode}var i=this,n="";if("undefined"!=typeof window.getSelection)for(var o=this.getRanges(),r=0;r<o.length;r++){var a=document.createElement("div");a.appendChild(o[r].cloneContents()),e(a,this.getSelectionParent()),n+=a.innerHTML}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(n=document.selection.createRange().htmlText);return n},e.prototype.registerPaste=function(){this.$element.on("copy cut",t.proxy(function(){this.isHTML||(e.copiedHTML=this.getSelectedHTML(),e.copiedText=t("<div>").html(e.copiedHTML).text())},this)),this.$element.on("paste",t.proxy(function(e){if(!this.isHTML){if(e.originalEvent&&(e=e.originalEvent),!this.triggerEvent("beforePaste",[],!1))return!1;if(this.clipboardPaste(e))return!1;this.clipboardHTML="",this.pasting=!0,this.scrollPosition=this.$window.scrollTop();var i=!1;if(e&&e.clipboardData&&e.clipboardData.getData){var n="",o=e.clipboardData.types;if(t.Editable.isArray(o))for(var r=0;r<o.length;r++)n+=o[r]+";";else n=o;if(/text\/html/.test(n)?this.clipboardHTML=e.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&this.browser.safari?this.clipboardHTML=e.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(this.clipboardHTML=this.escapeEntities(e.clipboardData.getData("text/plain")).replace(/\n/g,"<br/>")),""!==this.clipboardHTML?i=!0:this.clipboardHTML=null,i)return this.processPaste(),e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!1}this.beforePaste()}},this))},e.prototype.clipboardPaste=function(e){if(e&&e.clipboardData&&e.clipboardData.items&&e.clipboardData.items[0]){var i=e.clipboardData.items[0].getAsFile();if(i){var n=new FileReader;return n.onload=t.proxy(function(t){var e=t.target.result;this.insertHTML('<img data-fr-image-pasted="true" src="'+e+'" />'),this.afterPaste()},this),n.readAsDataURL(i),!0}}return!1},e.prototype.uploadPastedImages=function(){this.options.pasteImage?this.options.imageUpload&&this.$element.find("img[data-fr-image-pasted]").each(t.proxy(function(e,i){if(0===i.src.indexOf("data:")){if(this.options.defaultImageWidth&&t(i).attr("width",this.options.defaultImageWidth),this.options.pastedImagesUploadURL){if(!this.triggerEvent("beforeUploadPastedImage",[i],!1))return!1;setTimeout(t.proxy(function(){this.showImageLoader(),this.$progress_bar.find("span").css("width","100%").text("Please wait!"),this.showByCoordinates(t(i).offset().left+t(i).width()/2,t(i).offset().top+t(i).height()+10),this.isDisabled=!0},this),10),t.ajax({type:this.options.pastedImagesUploadRequestType,url:this.options.pastedImagesUploadURL,data:t.extend({image:decodeURIComponent(i.src)},this.options.imageUploadParams),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers,dataType:"json"}).done(t.proxy(function(e){try{if(e.link){var n=new Image;n.onerror=t.proxy(function(){t(i).remove(),this.hide(),this.throwImageError(1)},this),n.onload=t.proxy(function(){i.src=e.link,this.hideImageLoader(),this.hide(),this.enable(),setTimeout(function(){t(i).trigger("touchend")},50),this.triggerEvent("afterUploadPastedImage",[t(i)])},this),n.src=e.link}else e.error?(t(i).remove(),this.hide(),this.throwImageErrorWithMessage(e.error)):(t(i).remove(),this.hide(),this.throwImageError(2))}catch(o){t(i).remove(),this.hide(),this.throwImageError(4)}},this)).fail(t.proxy(function(){t(i).remove(),this.hide(),this.throwImageError(3)},this))}}else 0!==i.src.indexOf("http")&&t(i).remove();t(i).removeAttr("data-fr-image-pasted")},this)):this.$element.find("img[data-fr-image-pasted]").remove()},e.prototype.disable=function(){this.isDisabled=!0,this.$element.blur(),this.$box.addClass("fr-disabled"),this.$element.attr("contenteditable",!1)},e.prototype.enable=function(){this.isDisabled=!1,this.$box.removeClass("fr-disabled"),this.$element.attr("contenteditable",!0)},e.prototype.wordClean=function(t){t.indexOf("<body")>=0&&(t=t.replace(/[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,"$1")),t=t.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),t=t.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),t=t.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),t=t.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),t=t.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),t=t.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),t=t.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),t=t.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),t=t.replace(/<!--[\s\S]*?-->/gi,""),t=t.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var e=["style","script","applet","embed","noframes","noscript"],i=0;i<e.length;i++){var n=new RegExp("<"+e[i]+".*?"+e[i]+"(.*?)>","gi");t=t.replace(n,"")}t=t.replace(/&nbsp;/gi," ");var o;do o=t,t=t.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(t!=o);return t=t.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),t=t.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),t=this.clean(t),t=t.replace(/<a>(.[^<]+)<\/a>/gi,"$1")},e.prototype.tabs=function(t){for(var e="",i=0;t>i;i++)e+="  ";return e},e.prototype.cleanTags=function(t,e){void 0===e&&(e=!1);var i,n,o,r,a=[],s=[],l=!1,d=!1,h=this.options.formatTags;for(n=0;n<t.length;n++)if(i=t.charAt(n),"<"==i){var p=t.indexOf(">",n+1);if(-1!==p){var c=t.substring(n,p+1),u=this.tagName(c);if(0===u.indexOf("!--")&&(p=t.indexOf("-->",n+1),-1!==p)){c=t.substring(n,p+3),s.push(c),n=p+2;continue}if(0===u.indexOf("!")&&s.length&&s[s.length-1]!=c){s.push(c),n=p;continue}if("head"==u&&this.options.fullPage&&(d=!0),d){s.push(c),n=p,"head"==u&&this.isClosingTag(c)&&(d=!1);continue}if(this.options.allowedTags.indexOf(u)<0&&(!this.options.fullPage||["html","head","body","!doctype"].indexOf(u)<0)){n=p;continue}var f=this.isClosingTag(c);if("pre"===u&&(l=f?!1:!0),this.isSelfClosingTag(c))s.push("br"===u&&l?"\n":c);else if(f)for(o=!1,r=!0;o===!1&&void 0!==r;)r=a.pop(),void 0!==r&&r.tag_name!==u?s.splice(r.i,1):(o=!0,void 0!==r&&s.push(c));else s.push(c),a.push({tag_name:u,i:s.length-1});n=p}}else"\n"===i&&this.options.beautifyCode?e&&l?s.push("<br/>"):l?s.push(i):a.length>0&&s.push(" "):9!=i.charCodeAt(0)&&s.push(i);for(;a.length>0;)r=a.pop(),s.splice(r.i,1);var m="\n";this.options.beautifyCode||(m=""),t="",a=0;var g=!0;for(n=0;n<s.length;n++)1==s[n].length?g&&" "===s[n]||(t+=s[n],g=!1):h.indexOf(this.tagName(s[n]).toLowerCase())<0?(t+=s[n],"br"==this.tagName(s[n])&&(t+=m)):this.isSelfClosingTag(s[n])?h.indexOf(this.tagName(s[n]).toLowerCase())>=0?(t+=this.tabs(a)+s[n]+m,g=!1):t+=s[n]:this.isClosingTag(s[n])?(a-=1,0===a&&(g=!0),t.length>0&&t[t.length-1]==m&&(t+=this.tabs(a)),t+=s[n]+m):(t+=m+this.tabs(a)+s[n],a+=1,g=!1);return t[0]==m&&(t=t.substring(1,t.length)),t[t.length-1]==m&&(t=t.substring(0,t.length-1)),t},e.prototype.cleanupLists=function(){this.$element.find("ul, ol").each(t.proxy(function(e,i){var n=t(i);if(this.parents(t(i),"ul, ol").length>0)return!0;if(n.find(".close-ul, .open-ul, .close-ol, .open-ol, .open-li, .close-li").length>0){var o="<"+i.tagName.toLowerCase()+">"+n.html()+"</"+i.tagName.toLowerCase()+">";o=o.replace(new RegExp('<span class="close-ul" data-fr-verified="true"></span>',"g"),"</ul>"),o=o.replace(new RegExp('<span class="open-ul" data-fr-verified="true"></span>',"g"),"<ul>"),o=o.replace(new RegExp('<span class="close-ol" data-fr-verified="true"></span>',"g"),"</ol>"),o=o.replace(new RegExp('<span class="open-ol" data-fr-verified="true"></span>',"g"),"<ol>"),o=o.replace(new RegExp('<span class="close-li" data-fr-verified="true"></span>',"g"),"</li>"),o=o.replace(new RegExp('<span class="open-li" data-fr-verified="true"></span>',"g"),"<li>"),
o=o.replace(new RegExp("<li></li>","g"),""),n.replaceWith(o)}},this)),this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(t.Editable.INVISIBLE_SPACE),this.$element.find(" > li").wrap("<ul>"),this.$element.find("ul, ol").each(t.proxy(function(e,i){var n=t(i);0===n.find(this.valid_nodes.join(",")).length&&n.remove()},this)),this.$element.find("li > ul, li > ol").each(t.proxy(function(e,i){var n=t(i).parent().get(0).previousSibling;this.isFirstSibling(i)&&(n&&"LI"==n.tagName?t(n).append(t(i)):t(i).before("<br/>"))},this)),this.$element.find("li:empty").remove();for(var e=this.$element.find("ol + ol, ul + ul"),i=0;i<e.length;i++){var n=t(e[i]);this.attrs(e[i])==this.attrs(n.prev().get(0))&&(n.prev().append(n.html()),n.remove())}this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(t.Editable.INVISIBLE_SPACE),this.$element.find("li > "+this.options.defaultTag).each(function(e,i){0===i.attributes.length&&t(i).replaceWith(t(i).html())})},e.prototype.escapeEntities=function(t){return t.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&apos;")},e.prototype.cleanNodeAttrs=function(t,e){var i=t.attributes;if(i)for(var n=new RegExp("^"+e.join("$|^")+"$","i"),o=0;o<i.length;o++){var r=i[o];n.test(r.nodeName)?t.setAttribute(r.nodeName,r.nodeValue.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")):t.removeAttribute(r.nodeName)}},e.prototype.cleanAttrs=function(t){1==t.nodeType&&t.className.indexOf("f-marker")<0&&t!==this.$element.get(0)&&"IFRAME"!=t.tagName&&this.cleanNodeAttrs(t,this.options.allowedAttrs,!0);for(var e=t.childNodes,i=0;i<e.length;i++)this.cleanAttrs(e[i])},e.prototype.clean=function(i,n,o,r,a){this.pasting&&e.copiedText===t("<div>").html(i).text()&&(o=!1,n=!0),a||(a=t.merge([],this.options.allowedAttrs)),r||(r=t.merge([],this.options.allowedTags)),n||a.indexOf("id")>-1&&a.splice(a.indexOf("id"),1),this.options.fullPage&&(i=i.replace(/<!DOCTYPE([^>]*?)>/i,"<!-- DOCTYPE$1 -->"),i=i.replace(/<html([^>]*?)>/i,"<!-- html$1 -->"),i=i.replace(/<\/html([^>]*?)>/i,"<!-- /html$1 -->"),i=i.replace(/<body([^>]*?)>/i,"<!-- body$1 -->"),i=i.replace(/<\/body([^>]*?)>/i,"<!-- /body$1 -->"),i=i.replace(/<head>([\w\W]*)<\/head>/i,function(t,e){var i=1;return e=e.replace(/(<style)/gi,function(t,e){return e+" data-id="+i++}),"<!-- head "+e.replace(/(>)([\s|\t]*)(<)/gi,"$1$3").replace(/</gi,"[").replace(/>/gi,"]")+" -->"})),this.options.allowComments?(this.options.allowedTags.push("!--"),this.options.allowedTags.push("!")):i=i.replace(/(<!--[.\s\w\W]*?-->)/gi,""),this.options.allowScript||(i=i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")),this.options.allowStyle||(i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(t,e){return"<!--"+e.replace(/</g,"[[").replace(/>/g,"]]")+"-->"});var s=new RegExp("<\\/?((?!(?:"+r.join(" |")+" |"+r.join(">|")+">|"+r.join("/>|")+"/>))\\w+)[^>]*?>","gi");if(i=i.replace(s,""),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(t,e){return"<!--"+e.replace(/\[\[/g,"<").replace(/\]\]/g,">")+"-->"}),o){var l=new RegExp("style=(\"[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/'%]*\"|'[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/\"%]*')","gi");i=i.replace(l,""),i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")}i=this.cleanTags(i,!0),i=i.replace(/(\r|\n)/gi,"");var d=new RegExp("<([^>]*)( src| href)=('[^']*'|\"[^\"]*\"|[^\\s>]+)([^>]*)>","gi");if(i=i.replace(d,t.proxy(function(t,e,i,n,o){return"<"+e+i+'="'+this.sanitizeURL(n.replace(/^["'](.*)["']\/?$/gi,"$1"))+'"'+o+">"},this)),!n){var h=t("<div>").append(i);h.find('[class]:not([class^="fr-"])').each(function(e,i){t(i).removeAttr("class")}),i=h.html()}return i},e.prototype.removeBlankSpans=function(){this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),this.$element.find("span").each(t.proxy(function(e,i){0===this.attrs(i).length&&t(i).replaceWith(t(i).html())},this)),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1},e.prototype.plainPasteClean=function(e){var i=t("<div>").html(e);i.find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote").each(t.proxy(function(e,i){t(i).replaceWith("<"+this.options.defaultTag+">"+t(i).html()+"</"+this.options.defaultTag+">")},this)),t(i.find("*").not("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br").get().reverse()).each(function(){t(this).replaceWith(t(this).html())});var n=function(e){for(var i=e.contents(),o=0;o<i.length;o++)3!=i[o].nodeType&&1!=i[o].nodeType?t(i[o]).remove():n(t(i[o]))};return n(i),i.html()},e.prototype.removeEmptyTags=function(e){for(var i,n=t("<div>").html(e),o=n.find("*:empty:not(br, img, td, th)");o.length;){for(i=0;i<o.length;i++)t(o[i]).remove();o=n.find("*:empty:not(br, img, td, th)")}for(var r=n.find("> div, td > div, th > div, li > div");r.length;){var a=t(r[r.length-1]);a.replaceWith(a.html()+"<br/>"),r=n.find("> div, td > div, th > div, li > div")}for(r=n.find("div");r.length;){for(i=0;i<r.length;i++){var s=t(r[i]),l=s.html().replace(/\u0009/gi,"").trim();s.replaceWith(l)}r=n.find("div")}return n.html()},e.prototype.initElementStyle=function(){this.editableDisabled||this.$element.attr("contenteditable",!0);var t="froala-view froala-element "+this.options.editorClass;this.browser.msie&&e.getIEversion()<9&&(t+=" ie8"),this.$element.css("outline",0),this.browser.msie||(t+=" not-msie"),this.$element.addClass(t)},e.prototype.CJKclean=function(t){var e=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return t.replace(e,"")},e.prototype.enableTyping=function(){this.typingTimer=null,this.$element.on("keydown","textarea, input",function(t){t.stopPropagation()}),this.$element.on("keydown cut",t.proxy(function(e){if(!this.isHTML){if(!this.options.multiLine&&13==e.which)return e.preventDefault(),e.stopPropagation(),!1;if("keydown"===e.type&&!this.triggerEvent("keydown",[e],!1))return!1;clearTimeout(this.typingTimer),this.ajaxSave=!1,this.oldHTML=this.getHTML(!0,!1),this.typingTimer=setTimeout(t.proxy(function(){var t=this.getHTML(!0,!1);this.ime||this.CJKclean(t)===this.CJKclean(this.oldHTML)||this.CJKclean(t)!==t||this.sync()},this),Math.max(this.options.typingTimer,500))}},this))},e.prototype.removeMarkersByRegex=function(t){return t.replace(/<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>([\S\s][^\/])*<\/span>/gi,"")},e.prototype.getImageHTML=function(){return JSON.stringify({src:this.$element.find("img").attr("src"),style:this.$element.find("img").attr("style"),alt:this.$element.find("img").attr("alt"),width:this.$element.find("img").attr("width"),link:this.$element.find("a").attr("href"),link_title:this.$element.find("a").attr("title"),link_target:this.$element.find("a").attr("target")})},e.prototype.getLinkHTML=function(){return JSON.stringify({body:this.$element.html(),href:this.$element.attr("href"),title:this.$element.attr("title"),popout:this.$element.hasClass("popout"),nofollow:"nofollow"==this.$element.attr("ref"),blank:"_blank"==this.$element.attr("target"),cls:this.$element.attr("class")?this.$element.attr("class").replace(/froala-element ?|not-msie ?|froala-view ?/gi,"").trim():""})},e.prototype.addFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").addClass("fr-tag")},e.prototype.removeFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").removeClass("fr-tag")},e.prototype.getHTML=function(e,i,n){if(void 0===e&&(e=!1),void 0===i&&(i=this.options.useFrTag),void 0===n&&(n=!0),this.$element.hasClass("f-placeholder")&&!e)return"";if(this.isHTML)return this.$html_area.val();if(this.isImage)return this.getImageHTML();if(this.isLink)return this.getLinkHTML();this.$element.find("a").data("fr-link",!0),i&&this.addFrTag(),this.$element.find(".f-img-editor > img").each(t.proxy(function(e,i){t(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(t(i).parent().attr("class")))},this)),this.options.useClasses||this.$element.find("img").each(t.proxy(function(e,i){var n=t(i);n.attr("data-style",this.getImageStyle(n))},this)),this.$element.find("pre").each(t.proxy(function(e,i){var n=t(i),o=n.html(),r=o.replace(/\&nbsp;/gi," ").replace(/\n/gi,"<br>");o!=r&&(this.saveSelectionByMarkers(),n.html(r),this.restoreSelectionByMarkers())},this)),this.$element.find("pre br").addClass("fr-br"),this.$element.find('[class=""]').removeAttr("class"),this.cleanAttrs(this.$element.get(0));var o=this.$element.html();this.removeFrTag(),this.$element.find("pre br").removeAttr("class"),o=o.replace(/<a[^>]*?><\/a>/g,""),e||(o=this.removeMarkersByRegex(o)),o=o.replace(/<span[^>]*? class\s*=\s*["']?f-img-handle[^>]+><\/span>/gi,""),o=o.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-editor[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),o=o.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-wrap[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),this.options.useClasses||(o=o.replace(/data-style/gi,"style"),o=o.replace(/(<img[^>]*)( class\s*=['"]?[a-zA-Z0-9- ]+['"]?)([^>]*\/?>)/gi,"$1$3")),this.options.simpleAmpersand&&(o=o.replace(/\&amp;/gi,"&")),n&&(o=o.replace(/ data-fr-verified="true"/gi,"")),this.options.beautifyCode&&(o=o.replace(/\n/gi,"")),o=o.replace(/<br class="fr-br">/gi,"\n"),o=o.replace(/\u200B/gi,""),this.options.fullPage&&(o=o.replace(/<!-- DOCTYPE([^>]*?) -->/i,"<!DOCTYPE$1>"),o=o.replace(/<!-- html([^>]*?) -->/i,"<html$1>"),o=o.replace(/<!-- \/html([^>]*?) -->/i,"</html$1>"),o=o.replace(/<!-- body([^>]*?) -->/i,"<body$1>"),o=o.replace(/<!-- \/body([^>]*?) -->/i,"</body$1>"),o=o.replace(/<!-- head ([\w\W]*?) -->/i,function(t,e){return"<head>"+e.replace(/\[/gi,"<").replace(/\]/gi,">")+"</head>"}));var r=this.triggerEvent("getHTML",[o],!1);return"string"==typeof r?r:o},e.prototype.getText=function(){return this.$element.text()},e.prototype.setDirty=function(t){this.dirty=t,t||(clearTimeout(this.ajaxInterval),this.ajaxHTML=this.getHTML(!1,!1))},e.prototype.initAjaxSaver=function(){this.ajaxHTML=this.getHTML(!1,!1),this.ajaxSave=!0,this.ajaxInterval=setInterval(t.proxy(function(){var t=this.getHTML(!1,!1);(this.ajaxHTML!=t||this.dirty)&&this.ajaxSave&&(this.options.autosave&&this.save(),this.dirty=!1,this.ajaxHTML=t),this.ajaxSave=!0},this),Math.max(this.options.autosaveInterval,100))},e.prototype.disableBrowserUndo=function(){this.$element.keydown(t.proxy(function(t){var e=t.which,i=(t.ctrlKey||t.metaKey)&&!t.altKey;if(!this.isHTML&&i){if(90==e&&t.shiftKey)return t.preventDefault(),!1;if(90==e)return t.preventDefault(),!1}},this))},e.prototype.shortcutEnabled=function(t){return this.options.shortcutsAvailable.indexOf(t)>=0},e.prototype.shortcuts_map={69:{cmd:"show",params:[null],id:"show"},66:{cmd:"exec",params:["bold"],id:"bold"},73:{cmd:"exec",params:["italic"],id:"italic"},85:{cmd:"exec",params:["underline"],id:"underline"},83:{cmd:"exec",params:["strikeThrough"],id:"strikeThrough"},75:{cmd:"exec",params:["createLink"],id:"createLink"},80:{cmd:"exec",params:["insertImage"],id:"insertImage"},221:{cmd:"exec",params:["indent"],id:"indent"},219:{cmd:"exec",params:["outdent"],id:"outdent"},72:{cmd:"exec",params:["html"],id:"html"},48:{cmd:"exec",params:["formatBlock","n"],id:"formatBlock n"},49:{cmd:"exec",params:["formatBlock","h1"],id:"formatBlock h1"},50:{cmd:"exec",params:["formatBlock","h2"],id:"formatBlock h2"},51:{cmd:"exec",params:["formatBlock","h3"],id:"formatBlock h3"},52:{cmd:"exec",params:["formatBlock","h4"],id:"formatBlock h4"},53:{cmd:"exec",params:["formatBlock","h5"],id:"formatBlock h5"},54:{cmd:"exec",params:["formatBlock","h6"],id:"formatBlock h6"},222:{cmd:"exec",params:["formatBlock","blockquote"],id:"formatBlock blockquote"},220:{cmd:"exec",params:["formatBlock","pre"],id:"formatBlock pre"}},e.prototype.ctrlKey=function(t){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(t.metaKey&&!t.altKey)return!0}else if(t.ctrlKey&&!t.altKey)return!0;return!1},e.prototype.initShortcuts=function(){this.options.shortcuts&&this.$element.on("keydown",t.proxy(function(t){var e=t.which,i=this.ctrlKey(t);if(!this.isHTML&&i){if(this.shortcuts_map[e]&&this.shortcutEnabled(this.shortcuts_map[e].id))return this.execDefaultShortcut(this.shortcuts_map[e].cmd,this.shortcuts_map[e].params);if(90==e&&t.shiftKey)return t.preventDefault(),t.stopPropagation(),this.redo(),!1;if(90==e)return t.preventDefault(),t.stopPropagation(),this.undo(),!1}},this))},e.prototype.initTabs=function(){this.$element.on("keydown",t.proxy(function(t){var e=t.which;if(9!=e||t.shiftKey)9==e&&t.shiftKey&&(this.raiseEvent("shift+tab")?this.options.tabSpaces?t.preventDefault():this.blur():t.preventDefault());else if(this.raiseEvent("tab"))if(this.options.tabSpaces){t.preventDefault();var i="&nbsp;&nbsp;&nbsp;&nbsp;",n=this.getSelectionElements()[0];"PRE"===n.tagName&&(i="    "),this.insertHTML(i,!1)}else this.blur();else t.preventDefault()},this))},e.prototype.textEmpty=function(e){var i=t(e).text().replace(/(\r\n|\n|\r|\t)/gm,"");return(""===i||e===this.$element.get(0))&&0===t(e).find("br").length},e.prototype.inEditor=function(t){for(;t&&"BODY"!==t.tagName;){if(t===this.$element.get(0))return!0;t=t.parentNode}return!1},e.prototype.focus=function(e){if(this.isDisabled)return!1;if(void 0===e&&(e=!0),""!==this.text()&&!this.$element.is(":focus"))return void(this.browser.msie||(this.clearSelection(),this.$element.focus()));if(!this.isHTML){if(e&&!this.pasting&&this.$element.focus(),this.pasting&&!this.$element.is(":focus")&&this.$element.focus(),this.$element.hasClass("f-placeholder"))return void this.setSelection(this.$element.find(this.options.defaultTag).length>0?this.$element.find(this.options.defaultTag)[0]:this.$element.get(0));var i=this.getRange();if(""===this.text()&&i&&(0===i.startOffset||i.startContainer===this.$element.get(0)||!this.inEditor(i.startContainer))){var n,o,r=this.getSelectionElements();if(t.merge(["IMG","BR"],this.valid_nodes).indexOf(this.getSelectionElement().tagName)<0)return!1;if(i.startOffset>0&&this.valid_nodes.indexOf(this.getSelectionElement().tagName)>=0&&"BODY"!=i.startContainer.tagName||i.startContainer&&3===i.startContainer.nodeType)return;if(!this.options.paragraphy&&r.length>=1&&r[0]===this.$element.get(0)){var a=function(e){if(!e)return null;if(3==e.nodeType&&e.textContent.length>0)return e;if(1==e.nodeType&&"BR"==e.tagName)return e;for(var i=t(e).contents(),n=0;n<i.length;n++){var o=a(i[n]);if(null!=o)return o}return null};if(0===i.startOffset&&this.$element.contents().length>0&&3!=this.$element.contents()[0].nodeType){var s=a(this.$element.get(0));null!=s&&("BR"==s.tagName?this.$element.is(":focus")&&(t(s).before(this.markers_html),this.restoreSelectionByMarkers()):this.setSelection(s))}return!1}if(r.length>=1&&r[0]!==this.$element.get(0))for(n=0;n<r.length;n++){if(o=r[n],!this.textEmpty(o)||this.browser.msie)return void this.setSelection(o);if(this.textEmpty(o)&&["LI","TD"].indexOf(o.tagName)>=0)return}if(i.startContainer===this.$element.get(0)&&i.startOffset>0&&!this.options.paragraphy)return void this.setSelection(this.$element.get(0),i.startOffset);for(r=this.$element.find(this.valid_nodes.join(",")),n=0;n<r.length;n++)if(o=r[n],!this.textEmpty(o)&&0===t(o).find(this.valid_nodes.join(",")).length)return void this.setSelection(o);this.setSelection(this.$element.get(0))}}},e.prototype.addMarkersAtEnd=function(e){if(e.find(".fr-marker").length>0)return!1;for(var i=e.get(0),n=t(i).contents();n.length&&this.valid_nodes.indexOf(n[n.length-1].tagName)>=0;)i=n[n.length-1],n=t(n[n.length-1]).contents();t(i).append(this.markers_html)},e.prototype.setFocusAtEnd=function(t){void 0===t&&(t=this.$element),this.addMarkersAtEnd(t),this.restoreSelectionByMarkers()},e.prototype.breakHTML=function(e,i){"undefined"==typeof i&&(i=!0),this.removeMarkers(),0===this.$element.find("break").length&&this.insertSimpleHTML("<break></break>");var n=this.parents(this.$element.find("break"),t.merge(["UL","OL"],this.valid_nodes).join(","))[0];if(this.parents(t(n),"ul, ol").length&&(n=this.parents(t(n),"ul, ol")[0]),void 0===n&&(n=this.$element.get(0)),["UL","OL"].indexOf(n.tagName)>=0){var o=t("<div>").html(e);o.find("> li").wrap("<"+n.tagName+">"),e=o.html()}if(n==this.$element.get(0)){if(this.$element.find("break").next().length){this.insertSimpleHTML('<div id="inserted-div">'+e+"</div>");var r=this.$element.find("div#inserted-div");this.setFocusAtEnd(r),this.saveSelectionByMarkers(),r.replaceWith(r.contents()),this.restoreSelectionByMarkers()}else this.insertSimpleHTML(e),this.setFocusAtEnd();return this.$element.find("break").remove(),this.checkPlaceholder(),!0}if("TD"===n.tagName)return this.$element.find("break").remove(),this.insertSimpleHTML(e),!0;var a=t("<div>").html(e);if(this.addMarkersAtEnd(a),e=a.html(),this.emptyElement(t(n)))return t(n).replaceWith(e),this.restoreSelectionByMarkers(),this.checkPlaceholder(),!0;this.$element.find("li").each(t.proxy(function(e,i){this.emptyElement(i)&&t(i).addClass("empty-li")},this));for(var s,l,d=t("<div></div>").append(t(n).clone()).html(),h=[],p={},c=[],u=0,f=0;f<d.length;f++)if(l=d.charAt(f),"<"==l){var m=d.indexOf(">",f+1);if(-1!==m){s=d.substring(f,m+1);var g=this.tagName(s);if(f=m,"break"==g){if(!this.isClosingTag(s)){for(var v=!0,b=[],y=h.length-1;y>=0;y--){var w=this.tagName(h[y]);if(!i&&"LI"==w.toUpperCase()){v=!1;break}c.push("</"+w+">"),b.push(h[y])}c.push(e),v||c.push("</li><li>");for(var E=0;E<b.length;E++)c.push(b[E])}}else if(c.push(s),!this.isSelfClosingTag(s))if(this.isClosingTag(s)){var x=p[g].pop();h.splice(x,1)}else h.push(s),void 0===p[g]&&(p[g]=[]),p[g].push(h.length-1)}}else u++,c.push(l);t(n).replaceWith(c.join("")),this.$element.find("li").each(t.proxy(function(e,i){var n=t(i);n.hasClass("empty-li")?n.removeClass("empty-li"):this.emptyElement(i)&&n.remove()},this)),this.cleanupLists(),this.restoreSelectionByMarkers()},e.prototype.insertSimpleHTML=function(t){var e,i;if(this.no_verify=!0,this.window.getSelection){if(e=this.window.getSelection(),e.getRangeAt&&e.rangeCount){i=e.getRangeAt(0),this.browser.webkit?i.collapsed||this.document.execCommand("delete"):i.deleteContents(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove();var n=this.document.createElement("div");n.innerHTML=t;for(var o,r,a=this.document.createDocumentFragment();o=n.firstChild;)r=a.appendChild(o);i.insertNode(a),r&&(i=i.cloneRange(),i.setStartAfter(r),i.collapse(!0),e.removeAllRanges(),e.addRange(i))}}else if((e=this.document.selection)&&"Control"!=e.type){var s=e.createRange();s.collapse(!0),e.createRange().pasteHTML(t)}this.no_verify=!1},e.prototype.insertHTML=function(e,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!1),!this.isHTML&&i&&this.focus(),this.removeMarkers(),this.insertSimpleHTML("<break></break>"),this.checkPlaceholder(!0),this.$element.hasClass("f-placeholder"))return this.$element.html(e),this.options.paragraphy&&this.wrapText(!0),this.$element.find("p > br").each(function(){var e=this.parentNode;1==t(e).contents().length&&t(e).remove()}),this.$element.find("break").remove(),this.setFocusAtEnd(),this.checkPlaceholder(),this.convertNewLines(),!1;for(var o=t("<div>").append(e).find("*"),r=0;r<o.length;r++)if(this.valid_nodes.indexOf(o[r].tagName)>=0)return this.breakHTML(e),this.$element.find("break").remove(),this.convertNewLines(),!1;this.$element.find("break").remove(),this.insertSimpleHTML(e),this.convertNewLines()},e.prototype.execDefaultShortcut=function(t,e){return this[t].apply(this,e),!1},e.prototype.initEditor=function(){var i="froala-editor";this.mobile()&&(i+=" touch"),this.browser.msie&&e.getIEversion()<9&&(i+=" ie8"),this.$editor=t('<div class="'+i+'" style="display: none;">');var n=this.$document.find(this.options.scrollableContainer);n.append(this.$editor),this.options.inlineMode?this.initInlineEditor():this.initBasicEditor()},e.prototype.refreshToolbarPosition=function(){this.$window.scrollTop()>this.$box.offset().top&&this.$window.scrollTop()<this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.iOS()&&(this.$element.is(":focus")?this.$editor.css("top",this.$window.scrollTop()):this.$editor.css("top",""))):this.$window.scrollTop()<this.$box.offset().top?this.iOS()&&this.$element.is(":focus")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.$editor.css("top",this.$box.offset().top)):(this.$editor.removeClass("f-scroll f-scroll-abs").css("bottom","").css("top","").width(""),this.$element.css("padding-top",""),this.$placeholder.css("margin-top","")):this.$window.scrollTop()>this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()&&!this.$editor.hasClass("f-scroll-abs")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.removeClass("f-scroll").addClass("f-scroll-abs"),this.$editor.css("bottom",0).css("top","").css("left","")):this.$editor.removeClass("f-scroll").css("bottom","").css("top","").css("left","").width("")},e.prototype.toolbarTop=function(){this.options.toolbarFixed||this.options.inlineMode||(this.$element.data("padding-top",parseInt(this.$element.css("padding-top"),10)),this.$window.on("scroll resize load",t.proxy(function(){this.refreshToolbarPosition()},this)),this.iOS()&&this.$element.on("focus blur",t.proxy(function(){this.refreshToolbarPosition()},this)))},e.prototype.initBasicEditor=function(){this.$element.addClass("f-basic"),this.$wrapper.addClass("f-basic"),this.$popup_editor=this.$editor.clone();var t=this.$document.find(this.options.scrollableContainer);this.$popup_editor.appendTo(t).addClass("f-inline"),this.$editor.addClass("f-basic").show(),this.$editor.insertBefore(this.$wrapper),this.toolbarTop()},e.prototype.initInlineEditor=function(){this.$editor.addClass("f-inline"),this.$element.addClass("f-inline"),this.$popup_editor=this.$editor},e.prototype.initDrag=function(){this.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!this.window.FormData,progress:"upload"in new XMLHttpRequest}},e.prototype.initOptions=function(){this.setDimensions(),this.setSpellcheck(),this.setImageUploadURL(),this.setButtons(),this.setDirection(),this.setZIndex(),this.setTheme(),this.options.editInPopup&&this.buildEditPopup(),this.editableDisabled||(this.setPlaceholder(),this.setPlaceholderEvents())},e.prototype.setAllowStyle=function(t){"undefined"==typeof t&&(t=this.options.allowStyle),t?this.options.allowedTags.push("style"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("style"),1)},e.prototype.setAllowScript=function(t){"undefined"==typeof t&&(t=this.options.allowScript),t?this.options.allowedTags.push("script"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("script"),1)},e.prototype.isTouch=function(){return WYSIWYGModernizr.touch&&void 0!==this.window.Touch},e.prototype.initEditorSelection=function(){this.$element.on("keyup",t.proxy(function(t){return this.triggerEvent("keyup",[t],!1)},this)),this.$element.on("focus",t.proxy(function(){this.blurred&&(this.blurred=!1,this.pasting||""!==this.text()||this.focus(!1),this.triggerEvent("focus",[],!1))},this)),this.$element.on("mousedown touchstart",t.proxy(function(){return this.isDisabled?!1:void(this.isResizing()||(this.closeImageMode(),this.hide()))},this)),this.options.disableRightClick&&this.$element.contextmenu(t.proxy(function(t){return t.preventDefault(),this.options.inlineMode&&this.$element.focus(),!1},this)),this.$element.on(this.mouseup,t.proxy(function(e){if(this.isDisabled)return!1;if(!this.isResizing()){var i=this.text();e.stopPropagation(),this.imageMode=!1,!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==e.which||2==e.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode?this.options.inlineMode||this.refreshButtons():setTimeout(t.proxy(function(){i=this.text(),!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==e.which||2==e.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode||(this.show(e),this.options.editInPopup&&this.showEditPopup())},this),0)}this.hideDropdowns(),this.hideOtherEditors()},this)),this.$editor.on(this.mouseup,t.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||(t.stopPropagation(),this.options.inlineMode===!1&&this.hide()))},this)),this.$editor.on("mousedown",".fr-dropdown-menu",t.proxy(function(t){return this.isDisabled?!1:(t.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mousedown",".fr-dropdown-menu",t.proxy(function(t){return this.isDisabled?!1:(t.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mouseup",t.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||t.stopPropagation())},this)),this.$edit_popup_wrapper&&this.$edit_popup_wrapper.on("mouseup",t.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||t.stopPropagation())},this)),this.setDocumentSelectionChangeEvent(),this.setWindowMouseUpEvent(),this.setWindowKeyDownEvent(),this.setWindowKeyUpEvent(),this.setWindowOrientationChangeEvent(),this.setWindowHideEvent(),this.setWindowBlurEvent(),this.options.trackScroll&&this.setWindowScrollEvent(),this.setWindowResize()},e.prototype.setWindowResize=function(){this.$window.on("resize."+this._id,t.proxy(function(){this.hide(),this.closeImageMode(),this.imageMode=!1},this))},e.prototype.blur=function(e){this.blurred||this.pasting||(this.selectionDisabled=!0,this.triggerEvent("blur",[]),e&&0===t("*:focus").length&&this.clearSelection(),this.isLink||this.isImage||(this.selectionDisabled=!1),this.blurred=!0)},e.prototype.setWindowBlurEvent=function(){this.$window.on("blur."+this._id,t.proxy(function(t,e){this.blur(e)},this))},e.prototype.setWindowHideEvent=function(){this.$window.on("hide."+this._id,t.proxy(function(){this.isResizing()?this.$element.find(".f-img-handle").trigger("moveend"):this.hide(!1)},this))},e.prototype.setWindowOrientationChangeEvent=function(){this.$window.on("orientationchange."+this._id,t.proxy(function(){setTimeout(t.proxy(function(){this.hide()},this),10)},this))},e.prototype.setDocumentSelectionChangeEvent=function(){this.$document.on("selectionchange."+this._id,t.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||this.isScrolling||(clearTimeout(this.selectionChangedTimeout),this.selectionChangedTimeout=setTimeout(t.proxy(function(){if(this.options.inlineMode&&this.selectionInEditor()&&this.link!==!0&&this.isTouch()){var t=this.text();""!==t?(this.iPod()?this.options.alwaysVisible&&this.hide():this.show(null),e.stopPropagation()):this.options.alwaysVisible?this.show(null):(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this),75)))},this))},e.prototype.setWindowMouseUpEvent=function(){this.$window.on(this.mouseup+"."+this._id,t.proxy(function(){return this.browser.webkit&&!this.initMouseUp?(this.initMouseUp=!0,!1):(this.isResizing()||this.isScrolling||this.isDisabled||(this.$bttn_wrapper.find("button.fr-trigger").removeClass("active"),this.selectionInEditor()&&""!==this.text()&&!this.isTouch()?this.show(null):this.$popup_editor.is(":visible")&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.blur(!0)),void t("[data-down]").removeAttr("data-down"))},this))},e.prototype.setWindowKeyDownEvent=function(){this.$window.on("keydown."+this._id,t.proxy(function(e){var i=e.which;if(27==i&&(this.focus(),this.restoreSelection(),this.hide(),this.closeImageMode(),this.imageMode=!1),this.imageMode){if(13==i)return this.$element.find(".f-img-editor").parents(".f-img-wrap").before("<br/>"),this.sync(),this.$element.find(".f-img-editor img").click(),!1;if(46==i||8==i)return e.stopPropagation(),e.preventDefault(),setTimeout(t.proxy(function(){this.removeImage(this.$element.find(".f-img-editor img"))},this),0),!1}else if(this.selectionInEditor()){if(this.isDisabled)return!0;var n=(e.ctrlKey||e.metaKey)&&!e.altKey;!n&&this.$popup_editor.is(":visible")&&this.$bttn_wrapper.is(":visible")&&this.options.inlineMode&&(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this))},e.prototype.setWindowKeyUpEvent=function(){this.$window.on("keyup."+this._id,t.proxy(function(){return this.isDisabled?!1:void(this.selectionInEditor()&&""!==this.text()&&!this.$popup_editor.is(":visible")&&this.repositionEditor())},this))},e.prototype.setWindowScrollEvent=function(){t.merge(this.$window,t(this.options.scrollableContainer)).on("scroll."+this._id,t.proxy(function(){return this.isDisabled?!1:(clearTimeout(this.scrollTimer),this.isScrolling=!0,void(this.scrollTimer=setTimeout(t.proxy(function(){this.isScrolling=!1},this),2500)))},this))},e.prototype.setPlaceholder=function(e){e&&(this.options.placeholder=e),this.$textarea&&this.$textarea.attr("placeholder",this.options.placeholder),this.$placeholder||(this.$placeholder=t('<span class="fr-placeholder" unselectable="on"></span>').bind("click",t.proxy(function(){this.focus()},this)),this.$element.after(this.$placeholder)),this.$placeholder.text(this.options.placeholder)},e.prototype.isEmpty=function(){var e=this.$element.text().replace(/(\r\n|\n|\r|\t|\u200B|\u0020)/gm,"");return""===e&&0===this.$element.find("img, table, iframe, input, textarea, hr, li, object").length&&0===this.$element.find(this.options.defaultTag+" > br, br").length&&0===this.$element.find(t.map(this.valid_nodes,t.proxy(function(t){return this.options.defaultTag==t?null:t},this)).join(", ")).length},e.prototype.checkPlaceholder=function(i){if(this.isDisabled&&!i)return!1;if(this.pasting&&!i)return!1;if(this.$element.find("td:empty, th:empty").append(t.Editable.INVISIBLE_SPACE),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").append(this.br),!this.isHTML)if(this.isEmpty()&&!this.fakeEmpty()){var n,o=this.selectionInEditor()||this.$element.is(":focus");this.options.paragraphy?(n=t("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"),this.$element.html(n),o&&this.setSelection(n.get(0)),this.$element.addClass("f-placeholder")):(0!==this.$element.find("br").length||this.browser.msie&&e.getIEversion()<=10||(this.$element.append(this.br),o&&this.browser.msie&&this.focus()),this.$element.addClass("f-placeholder"))}else!this.$element.find(this.options.defaultTag+", li, td, th").length&&this.options.paragraphy?(this.wrapText(!0),this.$element.find(this.options.defaultTag).length&&""===this.text()?this.setSelection(this.$element.find(this.options.defaultTag)[0],this.$element.find(this.options.defaultTag).text().length,null,this.$element.find(this.options.defaultTag).text().length):this.$element.removeClass("f-placeholder")):this.fakeEmpty()===!1&&(!this.options.paragraphy||this.$element.find(this.valid_nodes.join(",")).length>=1)?this.$element.removeClass("f-placeholder"):!this.options.paragraphy&&this.$element.find(this.valid_nodes.join(",")).length>=1?this.$element.removeClass("f-placeholder"):this.$element.addClass("f-placeholder");return!0},e.prototype.fakeEmpty=function(t){void 0===t&&(t=this.$element);var e=!0;this.options.paragraphy&&(e=1==t.find(this.options.defaultTag).length?!0:!1);var i=t.text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return""===i&&e&&1==t.find("br, li").length&&0===t.find("img, table, iframe, input, textarea, hr, li").length},e.prototype.setPlaceholderEvents=function(){this.browser.msie&&e.getIEversion()<9||(this.$element.on("focus click",t.proxy(function(t){return this.isDisabled?!1:void(""!==this.$element.text()||this.pasting||(this.$element.data("focused")||"click"!==t.type?"focus"==t.type&&this.focus(!1):this.$element.focus(),this.$element.data("focused",!0)))},this)),this.$element.on("keyup keydown input focus placeholderCheck",t.proxy(function(){return this.checkPlaceholder()},this)),this.$element.trigger("placeholderCheck"));
},e.prototype.setDimensions=function(t,e,i,n){t&&(this.options.height=t),e&&(this.options.width=e),i&&(this.options.minHeight=i),n&&(this.options.maxHeight=n),"auto"!=this.options.height&&(this.$wrapper.css("height",this.options.height),this.$element.css("minHeight",this.options.height-parseInt(this.$element.css("padding-top"),10)-parseInt(this.$element.css("padding-bottom"),10))),"auto"!=this.options.minHeight&&(this.$wrapper.css("minHeight",this.options.minHeight),this.$element.css("minHeight",this.options.minHeight)),"auto"!=this.options.maxHeight&&this.$wrapper.css("maxHeight",this.options.maxHeight),"auto"!=this.options.width&&this.$box.css("width",this.options.width)},e.prototype.setDirection=function(t){t&&(this.options.direction=t),"ltr"!=this.options.direction&&"rtl"!=this.options.direction&&(this.options.direction="ltr"),"rtl"==this.options.direction?(this.$element.removeAttr("dir"),this.$box.addClass("f-rtl"),this.$element.addClass("f-rtl"),this.$editor.addClass("f-rtl"),this.$popup_editor.addClass("f-rtl"),this.$image_modal&&this.$image_modal.addClass("f-rtl")):(this.$element.attr("dir","auto"),this.$box.removeClass("f-rtl"),this.$element.removeClass("f-rtl"),this.$editor.removeClass("f-rtl"),this.$popup_editor.removeClass("f-rtl"),this.$image_modal&&this.$image_modal.removeClass("f-rtl"))},e.prototype.setZIndex=function(t){t&&(this.options.zIndex=t),this.$editor.css("z-index",this.options.zIndex),this.$popup_editor.css("z-index",this.options.zIndex+1),this.$overlay&&this.$overlay.css("z-index",this.options.zIndex+1002),this.$image_modal&&this.$image_modal.css("z-index",this.options.zIndex+1003)},e.prototype.setTheme=function(t){t&&(this.options.theme=t),null!=this.options.theme&&(this.$editor.addClass(this.options.theme+"-theme"),this.$popup_editor.addClass(this.options.theme+"-theme"),this.$box&&this.$box.addClass(this.options.theme+"-theme"),this.$image_modal&&this.$image_modal.addClass(this.options.theme+"-theme"))},e.prototype.setSpellcheck=function(t){void 0!==t&&(this.options.spellcheck=t),this.$element.attr("spellcheck",this.options.spellcheck)},e.prototype.customizeText=function(e){if(e){var i=this.$editor.find("[title]").add(this.$popup_editor.find("[title]"));this.$image_modal&&(i=i.add(this.$image_modal.find("[title]"))),i.each(t.proxy(function(i,n){for(var o in e)t(n).attr("title").toLowerCase()==o.toLowerCase()&&t(n).attr("title",e[o])},this)),i=this.$editor.find('[data-text="true"]').add(this.$popup_editor.find('[data-text="true"]')),this.$image_modal&&(i=i.add(this.$image_modal.find('[data-text="true"]'))),i.each(t.proxy(function(i,n){for(var o in e)t(n).text().toLowerCase()==o.toLowerCase()&&t(n).text(e[o])},this))}},e.prototype.setLanguage=function(e){void 0!==e&&(this.options.language=e),t.Editable.LANGS[this.options.language]&&(this.customizeText(t.Editable.LANGS[this.options.language].translation),t.Editable.LANGS[this.options.language].direction&&t.Editable.LANGS[this.options.language].direction!=t.Editable.DEFAULTS.direction&&this.setDirection(t.Editable.LANGS[this.options.language].direction),t.Editable.LANGS[this.options.language].translation[this.options.placeholder]&&this.setPlaceholder(t.Editable.LANGS[this.options.language].translation[this.options.placeholder]))},e.prototype.setCustomText=function(t){t&&(this.options.customText=t),this.options.customText&&this.customizeText(this.options.customText)},e.prototype.execHTML=function(){this.html()},e.prototype.initHTMLArea=function(){this.$html_area=t('<textarea wrap="hard">').keydown(function(e){var i=e.keyCode||e.which;if(9==i){e.preventDefault();var n=t(this).get(0).selectionStart,o=t(this).get(0).selectionEnd;t(this).val(t(this).val().substring(0,n)+"	"+t(this).val().substring(o)),t(this).get(0).selectionStart=t(this).get(0).selectionEnd=n+1}}).focus(t.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this)).mouseup(t.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this))},e.prototype.command_dispatcher={align:function(t){var e=this.buildDropdownAlign(t),i=this.buildDropdownButton(t,e);return i},formatBlock:function(t){var e=this.buildDropdownFormatBlock(t),i=this.buildDropdownButton(t,e);return i},html:function(e){var i=this.buildDefaultButton(e);return this.options.inlineMode&&this.$box.append(t(i).clone(!0).addClass("html-switch").attr("title","Hide HTML").click(t.proxy(this.execHTML,this))),this.initHTMLArea(),i}},e.prototype.setButtons=function(t){t&&(this.options.buttons=t),this.$editor.append('<div class="bttn-wrapper" id="bttn-wrapper-'+this._id+'">'),this.$bttn_wrapper=this.$editor.find("#bttn-wrapper-"+this._id),this.mobile()&&this.$bttn_wrapper.addClass("touch");for(var i,n,o="",r=0;r<this.options.buttons.length;r++){var a=this.options.buttons[r];if("sep"!=a){var s=e.commands[a];if(void 0!==s){s.cmd=a;var l=this.command_dispatcher[s.cmd];l?o+=l.apply(this,[s]):s.seed?(i=this.buildDefaultDropdown(s),n=this.buildDropdownButton(s,i),o+=n):(n=this.buildDefaultButton(s),o+=n,this.bindRefreshListener(s))}else{if(s=this.options.customButtons[a],void 0===s){if(s=this.options.customDropdowns[a],void 0===s)continue;n=this.buildCustomDropdown(s,a),o+=n,this.bindRefreshListener(s);continue}n=this.buildCustomButton(s,a),o+=n,this.bindRefreshListener(s)}}else o+=this.options.inlineMode?'<div class="f-clear"></div><hr/>':'<span class="f-sep"></span>'}this.$bttn_wrapper.html(o),this.$bttn_wrapper.find('button[data-cmd="undo"], button[data-cmd="redo"]').prop("disabled",!0),this.bindButtonEvents()},e.prototype.bindRefreshListener=function(e){e.refresh&&this.addListener("refresh",t.proxy(function(){e.refresh.apply(this,[e.cmd])},this))},e.prototype.buildDefaultButton=function(t){var e='<button tabIndex="-1" type="button" class="fr-bttn" title="'+t.title+'" data-cmd="'+t.cmd+'">';return e+=void 0===this.options.icons[t.cmd]?this.addButtonIcon(t):this.prepareIcon(this.options.icons[t.cmd],t.title),e+="</button>"},e.prototype.prepareIcon=function(t,e){switch(t.type){case"font":return this.addButtonIcon({icon:t.value});case"img":return this.addButtonIcon({icon_img:t.value,title:e});case"txt":return this.addButtonIcon({icon_txt:t.value})}},e.prototype.addButtonIcon=function(t){return t.icon?'<i class="'+t.icon+'"></i>':t.icon_alt?'<i class="for-text">'+t.icon_alt+"</i>":t.icon_img?'<img src="'+t.icon_img+'" alt="'+t.title+'"/>':t.icon_txt?"<i>"+t.icon_txt+"</i>":t.title},e.prototype.buildCustomButton=function(t,e){this["call_"+e]=t.callback;var i='<button tabIndex="-1" type="button" class="fr-bttn" data-callback="call_'+e+'" data-cmd="button_name" data-name="'+e+'" title="'+t.title+'">'+this.prepareIcon(t.icon,t.title)+"</button>";return i},e.prototype.callDropdown=function(e,i){this.$bttn_wrapper.on("click touch",'[data-name="'+e+'"]',t.proxy(function(t){t.preventDefault(),t.stopPropagation(),i.apply(this)},this))},e.prototype.buildCustomDropdown=function(t,e){var i='<div class="fr-bttn fr-dropdown">';i+='<button tabIndex="-1" type="button" class="fr-trigger" title="'+t.title+'" data-name="'+e+'">'+this.prepareIcon(t.icon,t.title)+"</button>",i+='<ul class="fr-dropdown-menu">';var n=0;for(var o in t.options){this["call_"+e+n]=t.options[o];var r='<li data-callback="call_'+e+n+'" data-cmd="'+e+n+'" data-name="'+e+n+'"><a href="#">'+o+"</a></li>";i+=r,n++}return i+="</ul></div>"},e.prototype.buildDropdownButton=function(t,e,i){i=i||"";var n='<div class="fr-bttn fr-dropdown '+i+'">',o="";o+=void 0===this.options.icons[t.cmd]?this.addButtonIcon(t):this.prepareIcon(this.options.icons[t.cmd],t.title);var r='<button tabIndex="-1" type="button" data-name="'+t.cmd+'" class="fr-trigger" title="'+t.title+'">'+o+"</button>";return n+=r,n+=e,n+="</div>"},e.prototype.buildDropdownAlign=function(t){this.bindRefreshListener(t);for(var e='<ul class="fr-dropdown-menu f-align">',i=0;i<t.seed.length;i++){var n=t.seed[i];e+='<li data-cmd="align" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return e+="</ul>"},e.prototype.buildDropdownFormatBlock=function(t){var e='<ul class="fr-dropdown-menu">';for(var i in this.options.blockTags){var n='<li data-cmd="'+t.cmd+'" data-val="'+i+'">';n+='<a href="#" data-text="true" class="format-'+i+'" title="'+this.options.blockTags[i]+'">'+this.options.blockTags[i]+"</a></li>",e+=n}return e+="</ul>"},e.prototype.buildDefaultDropdown=function(t){for(var e='<ul class="fr-dropdown-menu">',i=0;i<t.seed.length;i++){var n=t.seed[i],o='<li data-namespace="'+t.namespace+'" data-cmd="'+(n.cmd||t.cmd)+'" data-val="'+n.value+'" data-param="'+(n.param||t.param)+'">';o+='<a href="#" data-text="true" class="'+n.value+'" title="'+n.title+'">'+n.title+"</a></li>",e+=o}return e+="</ul>"},e.prototype.createEditPopupHTML=function(){var t='<div class="froala-popup froala-text-popup" style="display:none;">';return t+='<h4><span data-text="true">Edit text</span><i title="Cancel" class="fa fa-times" id="f-text-close-'+this._id+'"></i></h4></h4>',t+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu" id="f-ti-'+this._id+'">',t+='<button data-text="true" type="button" class="f-ok" id="f-edit-popup-ok-'+this._id+'">OK</button>',t+="</div>",t+="</div>"},e.prototype.buildEditPopup=function(){this.$edit_popup_wrapper=t(this.createEditPopupHTML()),this.$popup_editor.append(this.$edit_popup_wrapper),this.$edit_popup_wrapper.find("#f-ti-"+this._id).on("mouseup keydown",function(t){t.stopPropagation()}),this.addListener("hidePopups",t.proxy(function(){this.$edit_popup_wrapper.hide()},this)),this.$edit_popup_wrapper.on("click","#f-edit-popup-ok-"+this._id,t.proxy(function(){this.$element.text(this.$edit_popup_wrapper.find("#f-ti-"+this._id).val()),this.sync(),this.hide()},this)),this.$edit_popup_wrapper.on("click","i#f-text-close-"+this._id,t.proxy(function(){this.hide()},this))},e.prototype.createCORSRequest=function(t,e){var i=new XMLHttpRequest;if("withCredentials"in i){i.open(t,e,!0),this.options.withCredentials&&(i.withCredentials=!0);for(var n in this.options.headers)i.setRequestHeader(n,this.options.headers[n])}else"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(t,e)):i=null;return i},e.prototype.isEnabled=function(e){return t.inArray(e,this.options.buttons)>=0},e.prototype.bindButtonEvents=function(){this.bindDropdownEvents(this.$bttn_wrapper),this.bindCommandEvents(this.$bttn_wrapper)},e.prototype.bindDropdownEvents=function(i){var n=this;i.on(this.mousedown,".fr-dropdown .fr-trigger:not([disabled])",function(e){return"mousedown"===e.type&&1!==e.which?!0:("LI"===this.tagName&&"touchstart"===e.type&&n.android()||n.iOS()||e.preventDefault(),void t(this).attr("data-down",!0))}),i.on(this.mouseup,".fr-dropdown .fr-trigger:not([disabled])",function(o){if(n.isDisabled)return!1;if(o.stopPropagation(),o.preventDefault(),!t(this).attr("data-down"))return t("[data-down]").removeAttr("data-down"),!1;t("[data-down]").removeAttr("data-down"),n.options.inlineMode===!1&&0===t(this).parents(".froala-popup").length&&(n.hide(),n.closeImageMode(),n.imageMode=!1),t(this).toggleClass("active").trigger("blur");var r,a=t(this).attr("data-name");return e.commands[a]?r=e.commands[a].refreshOnShow:n.options.customDropdowns[a]?r=n.options.customDropdowns[a].refreshOnShow:e.image_commands[a]&&(r=e.image_commands[a].refreshOnShow),r&&r.call(n),i.find("button.fr-trigger").not(this).removeClass("active"),!1}),i.on(this.mouseup,".fr-dropdown",function(t){t.stopPropagation(),t.preventDefault()}),this.$element.on("mouseup","img, a",t.proxy(function(){return this.isDisabled?!1:void i.find(".fr-dropdown .fr-trigger").removeClass("active")},this)),i.on("click","li[data-cmd] > a",function(t){t.preventDefault()})},e.prototype.bindCommandEvents=function(e){var i=this;e.on(this.mousedown,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",function(e){return"mousedown"===e.type&&1!==e.which?!0:("LI"===this.tagName&&"touchstart"===e.type&&i.android()||i.iOS()||e.preventDefault(),void t(this).attr("data-down",!0))}),e.on(this.mouseup+" "+this.move,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",t.proxy(function(e){if(i.isDisabled)return!1;if("mouseup"===e.type&&1!==e.which)return!0;var n=e.currentTarget;if("touchmove"!=e.type){if(e.stopPropagation(),e.preventDefault(),!t(n).attr("data-down"))return t("[data-down]").removeAttr("data-down"),!1;if(t("[data-down]").removeAttr("data-down"),t(n).data("dragging")||t(n).attr("disabled"))return t(n).removeData("dragging"),!1;var o=t(n).data("timeout");o&&(clearTimeout(o),t(n).removeData("timeout"));var r=t(n).attr("data-callback");if(i.options.inlineMode===!1&&0===t(n).parents(".froala-popup").length&&(i.hide(),i.closeImageMode(),i.imageMode=!1),r)t(n).parents(".fr-dropdown").find(".fr-trigger.active").removeClass("active"),i[r]();else{var a=t(n).attr("data-namespace"),s=t(n).attr("data-cmd"),l=t(n).attr("data-val"),d=t(n).attr("data-param");a?i["exec"+a](s,l,d):(i.exec(s,l,d),i.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"))}return!1}t(n).data("timeout")||t(n).data("timeout",setTimeout(function(){t(n).data("dragging",!0)},200))},this))},e.prototype.save=function(){if(!this.triggerEvent("beforeSave",[],!1))return!1;if(this.options.saveURL){var e={};for(var i in this.options.saveParams){var n=this.options.saveParams[i];e[i]="function"==typeof n?n.call(this):n}var o={};o[this.options.saveParam]=this.getHTML(),t.ajax({type:this.options.saveRequestType,url:this.options.saveURL,data:t.extend(o,e),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(t.proxy(function(t){this.triggerEvent("afterSave",[t])},this)).fail(t.proxy(function(){this.triggerEvent("saveError",["Save request failed on the server."])},this))}else this.triggerEvent("saveError",["Missing save URL."])},e.prototype.isURL=function(t){if(!/^(https?:|ftps?:|)\/\//.test(t))return!1;t=String(t).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var e=/\(?(?:(https?:|ftps?:|)\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|(?:www.)?(?:[^\W\s]|\.|-)|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/gi;return e.test(t)},e.prototype.sanitizeURL=function(t){if(/^(https?:|ftps?:|)\/\//.test(t)){if(!this.isURL(t))return""}else t=encodeURIComponent(t).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/g,"mailto:").replace(/tel%3A/g,"tel:").replace(/data%3Aimage/g,"data:image").replace(/webkit-fake-url%3A/g,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@");return t},e.prototype.parents=function(t,e){return t.get(0)!=this.$element.get(0)?t.parentsUntil(this.$element,e):[]},e.prototype.option=function(e,i){if(void 0===e)return this.options;if(e instanceof Object)this.options=t.extend({},this.options,e),this.initOptions(),this.setCustomText(),this.setLanguage(),this.setAllowScript(),this.setAllowStyle();else{if(void 0===i)return this.options[e];switch(this.options[e]=i,e){case"direction":this.setDirection();break;case"height":case"width":case"minHeight":case"maxHeight":this.setDimensions();break;case"spellcheck":this.setSpellcheck();break;case"placeholder":this.setPlaceholder();break;case"customText":this.setCustomText();break;case"language":this.setLanguage();break;case"textNearImage":this.setTextNearImage();break;case"zIndex":this.setZIndex();break;case"theme":this.setTheme();break;case"allowScript":this.setAllowScript();break;case"allowStyle":this.setAllowStyle()}}};var i=t.fn.editable;t.fn.editable=function(i){for(var n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);if("string"==typeof i){var r=[];return this.each(function(){var e=t(this),o=e.data("fa.editable");if(!o[i])return t.error("Method "+i+" does not exist in Froala Editor.");var a=o[i].apply(o,n.slice(1));void 0===a?r.push(this):0===r.length&&r.push(a)}),1==r.length?r[0]:r}return"object"!=typeof i&&i?void 0:this.each(function(){var n=this,o=t(n),r=o.data("fa.editable");r||o.data("fa.editable",r=new e(n,i))})},t.fn.editable.Constructor=e,t.Editable=e,t.fn.editable.noConflict=function(){return t.fn.editable=i,this}}(window.jQuery),function(t){t.Editable.prototype.initUndoRedo=function(){this.undoStack=[],this.undoIndex=0,this.saveUndoStep(),this.disableBrowserUndo()},t.Editable.prototype.undo=function(){if(this.no_verify=!0,this.undoIndex>1){clearTimeout(this.typingTimer),this.triggerEvent("beforeUndo",[],!1);var t=this.undoStack[--this.undoIndex-1];this.restoreSnapshot(t),this.doingRedo=!0,this.triggerEvent("afterUndo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},t.Editable.prototype.redo=function(){if(this.no_verify=!0,this.undoIndex<this.undoStack.length){clearTimeout(this.typingTimer),this.triggerEvent("beforeRedo",[],!1);var t=this.undoStack[this.undoIndex++];this.restoreSnapshot(t),this.doingRedo=!0,this.triggerEvent("afterRedo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},t.Editable.prototype.saveUndoStep=function(){if(!this.undoStack)return!1;for(;this.undoStack.length>this.undoIndex;)this.undoStack.pop();var t=this.getSnapshot();this.undoStack[this.undoIndex-1]&&this.identicSnapshots(this.undoStack[this.undoIndex-1],t)||(this.undoStack.push(t),this.undoIndex++),this.refreshUndo(),this.refreshRedo()},t.Editable.prototype.refreshUndo=function(){if(this.isEnabled("undo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="undo"]').removeAttr("disabled"),(0===this.undoStack.length||this.undoIndex<=1||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="undo"]').attr("disabled",!0)}},t.Editable.prototype.refreshRedo=function(){if(this.isEnabled("redo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="redo"]').removeAttr("disabled"),(this.undoIndex==this.undoStack.length||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="redo"]').prop("disabled",!0)}},t.Editable.prototype.getNodeIndex=function(t){for(var e=t.parentNode.childNodes,i=0,n=null,o=0;o<e.length;o++){if(n){var r=3===e[o].nodeType&&""===e[o].textContent,a=3===n.nodeType&&3===e[o].nodeType;r||a||i++}if(e[o]==t)return i;n=e[o]}},t.Editable.prototype.getNodeLocation=function(t){var e=[];if(!t.parentNode)return[];for(;t!=this.$element.get(0);)e.push(this.getNodeIndex(t)),t=t.parentNode;return e.reverse()},t.Editable.prototype.getNodeByLocation=function(t){for(var e=this.$element.get(0),i=0;i<t.length;i++)e=e.childNodes[t[i]];return e},t.Editable.prototype.getRealNodeOffset=function(t,e){for(;t&&3===t.nodeType;){var i=t.previousSibling;i&&3==i.nodeType&&(e+=i.textContent.length),t=i}return e},t.Editable.prototype.getRangeSnapshot=function(t){return{scLoc:this.getNodeLocation(t.startContainer),scOffset:this.getRealNodeOffset(t.startContainer,t.startOffset),ecLoc:this.getNodeLocation(t.endContainer),ecOffset:this.getRealNodeOffset(t.endContainer,t.endOffset)}},t.Editable.prototype.getSnapshot=function(){var t={};if(t.html=this.$element.html(),t.ranges=[],this.selectionInEditor()&&this.$element.is(":focus"))for(var e=this.getRanges(),i=0;i<e.length;i++)t.ranges.push(this.getRangeSnapshot(e[i]));return t},t.Editable.prototype.identicSnapshots=function(t,e){return t.html!=e.html?!1:JSON.stringify(t.ranges)!=JSON.stringify(e.ranges)?!1:!0},t.Editable.prototype.restoreRangeSnapshot=function(t,e){try{var i=this.getNodeByLocation(t.scLoc),n=t.scOffset,o=this.getNodeByLocation(t.ecLoc),r=t.ecOffset,a=this.document.createRange();a.setStart(i,n),a.setEnd(o,r),e.addRange(a)}catch(s){}},t.Editable.prototype.restoreSnapshot=function(e){this.$element.html()!=e.html&&this.$element.html(e.html);var i=this.getSelection();this.clearSelection(),this.$element.focus();for(var n=0;n<e.ranges.length;n++)this.restoreRangeSnapshot(e.ranges[n],i);setTimeout(t.proxy(function(){this.$element.find(".f-img-wrap img").click()},this),0)}}(jQuery),function(t){t.Editable.prototype.refreshButtons=function(e){return this.initialized&&(this.selectionInEditor()&&!this.isHTML||this.browser.msie&&t.Editable.getIEversion()<9||e)?(this.$editor.find("button[data-cmd]").removeClass("active"),this.refreshDisabledState(),void this.raiseEvent("refresh")):!1},t.Editable.prototype.refreshDisabledState=function(){if(this.isHTML)return!1;if(this.$editor){for(var e=0;e<this.options.buttons.length;e++){var i=this.options.buttons[e];if(void 0!==t.Editable.commands[i]){var n=!1;t.isFunction(t.Editable.commands[i].disabled)?n=t.Editable.commands[i].disabled.apply(this):void 0!==t.Editable.commands[i].disabled&&(n=!0),n?(this.$editor.find('button[data-cmd="'+i+'"]').prop("disabled",!0),this.$editor.find('button[data-name="'+i+'"]').prop("disabled",!0)):(this.$editor.find('button[data-cmd="'+i+'"]').removeAttr("disabled"),this.$editor.find('button[data-name="'+i+'"]').removeAttr("disabled"))}}this.refreshUndo(),this.refreshRedo()}},t.Editable.prototype.refreshFormatBlocks=function(){var t=this.getSelectionElements()[0],e=t.tagName.toLowerCase();this.options.paragraphy&&e===this.options.defaultTag.toLowerCase()&&(e="n"),this.$editor.find('.fr-bttn > button[data-name="formatBlock"] + ul li').removeClass("active"),this.$bttn_wrapper.find('.fr-bttn > button[data-name="formatBlock"] + ul li[data-val="'+e+'"]').addClass("active")},t.Editable.prototype.refreshDefault=function(t){try{this.document.queryCommandState(t)===!0&&this.$editor.find('[data-cmd="'+t+'"]').addClass("active")}catch(e){}},t.Editable.prototype.refreshAlign=function(){var e=t(this.getSelectionElements()[0]);this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var i,n=e.css("text-align");["left","right","justify","center"].indexOf(n)<0&&(n="left"),"left"==n?i="justifyLeft":"right"==n?i="justifyRight":"justify"==n?i="justifyFull":"center"==n&&(i="justifyCenter"),this.$editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+n),this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+i+'"]').addClass("active")},t.Editable.prototype.refreshHTML=function(){this.isActive("html")?this.$editor.find('[data-cmd="html"]').addClass("active"):this.$editor.find('[data-cmd="html"]').removeClass("active")}}(jQuery),function(t){t.Editable.commands={bold:{title:"Bold",icon:"fa fa-bold",shortcut:"(Ctrl + B)",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},italic:{title:"Italic",icon:"fa fa-italic",shortcut:"(Ctrl + I)",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},underline:{cmd:"underline",title:"Underline",icon:"fa fa-underline",shortcut:"(Ctrl + U)",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},strikeThrough:{title:"Strikethrough",icon:"fa fa-strikethrough",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},subscript:{title:"Subscript",icon:"fa fa-subscript",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},superscript:{title:"Superscript",icon:"fa fa-superscript",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},formatBlock:{title:"Format Block",icon:"fa fa-paragraph",refreshOnShow:t.Editable.prototype.refreshFormatBlocks,callback:function(t,e){this.formatBlock(e)},undo:!0},align:{title:"Alignment",icon:"fa fa-align-left",refresh:t.Editable.prototype.refreshAlign,refreshOnShow:t.Editable.prototype.refreshAlign,seed:[{cmd:"justifyLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"justifyCenter",title:"Align Center",icon:"fa fa-align-center"},{cmd:"justifyRight",title:"Align Right",icon:"fa fa-align-right"},{cmd:"justifyFull",title:"Justify",icon:"fa fa-align-justify"}],callback:function(t,e){this.align(e)},undo:!0},outdent:{title:"Indent Less",icon:"fa fa-dedent",activeless:!0,shortcut:"(Ctrl + <)",callback:function(){this.outdent(!0)},undo:!0},indent:{title:"Indent More",icon:"fa fa-indent",activeless:!0,shortcut:"(Ctrl + >)",callback:function(){this.indent()},undo:!0},selectAll:{title:"Select All",icon:"fa fa-file-text",shortcut:"(Ctrl + A)",callback:function(t,e){this.$element.focus(),this.execDefault(t,e)},undo:!1},createLink:{title:"Insert Link",icon:"fa fa-link",shortcut:"(Ctrl + K)",callback:function(){this.insertLink()},undo:!1},insertImage:{title:"Insert Image",icon:"fa fa-picture-o",activeless:!0,shortcut:"(Ctrl + P)",callback:function(){this.insertImage()},undo:!1},undo:{title:"Undo",icon:"fa fa-undo",activeless:!0,shortcut:"(Ctrl+Z)",refresh:t.Editable.prototype.refreshUndo,callback:function(){this.undo()},undo:!1},redo:{title:"Redo",icon:"fa fa-repeat",activeless:!0,shortcut:"(Shift+Ctrl+Z)",refresh:t.Editable.prototype.refreshRedo,callback:function(){this.redo()},undo:!1},html:{title:"Show HTML",icon:"fa fa-code",refresh:t.Editable.prototype.refreshHTML,callback:function(){this.html()},undo:!1},save:{title:"Save",icon:"fa fa-floppy-o",callback:function(){this.save()},undo:!1},insertHorizontalRule:{title:"Insert Horizontal Line",icon:"fa fa-minus",callback:function(t){this.insertHR(t)},undo:!0},removeFormat:{title:"Clear formatting",icon:"fa fa-eraser",activeless:!0,callback:function(){this.removeFormat()},undo:!0}},t.Editable.prototype.exec=function(e,i,n){return!this.selectionInEditor()&&t.Editable.commands[e].undo&&this.focus(),this.selectionInEditor()&&""===this.text()&&t.Editable.commands[e].callbackWithoutSelection?(t.Editable.commands[e].callbackWithoutSelection.apply(this,[e,i,n]),!1):void(t.Editable.commands[e].callback?t.Editable.commands[e].callback.apply(this,[e,i,n]):this.execDefault(e,i))},t.Editable.prototype.html=function(){var t;this.isHTML?(this.isHTML=!1,t=this.$html_area.val(),this.$box.removeClass("f-html"),this.$element.attr("contenteditable",!0),this.setHTML(t,!1),this.$editor.find('.fr-bttn:not([data-cmd="html"]), .fr-trigger').removeAttr("disabled"),this.$editor.find('.fr-bttn[data-cmd="html"]').removeClass("active"),this.$element.blur(),this.focus(),this.refreshButtons(),this.triggerEvent("htmlHide",[t],!0,!1)):(this.$box.removeClass("f-placeholder"),this.clearSelection(),this.cleanify(!1,!0,!1),t=this.cleanTags(this.getHTML(!1,!1)),this.$html_area.val(t).trigger("resize"),this.$html_area.css("height",this.$element.height()-1),this.$element.html("").append(this.$html_area).removeAttr("contenteditable"),this.$box.addClass("f-html"),this.$editor.find('button.fr-bttn:not([data-cmd="html"]), button.fr-trigger').attr("disabled",!0),this.$editor.find('.fr-bttn[data-cmd="html"]').addClass("active"),this.isHTML=!0,this.hide(),this.imageMode=!1,this.$element.blur(),this.$element.removeAttr("contenteditable"),this.triggerEvent("htmlShow",[t],!0,!1))},t.Editable.prototype.insertHR=function(e){this.$element.find("hr").addClass("fr-tag"),this.$element.hasClass("f-placeholder")?t(this.$element.find("> "+this.valid_nodes.join(", >"))[0]).before("<hr/>"):this.document.execCommand(e),this.hide();var i=this.$element.find("hr:not(.fr-tag)").next(this.valid_nodes.join(","));i.length>0?t(i[0]).prepend(this.markers_html):this.$element.find("hr:not(.fr-tag)").after(this.options.paragraphy?"<p>"+this.markers_html+"<br/></p>":this.markers_html),this.restoreSelectionByMarkers(),this.triggerEvent(e,[],!0,!1)},t.Editable.prototype.formatBlock=function(e){if(this.disabledList.indexOf("formatBlock")>=0)return!1;if(this.browser.msie&&t.Editable.getIEversion()<9)return"n"==e&&(e=this.options.defaultTag),this.document.execCommand("formatBlock",!1,"<"+e+">"),this.triggerEvent("formatBlock"),!1;if(this.$element.hasClass("f-placeholder")){if(this.options.paragraphy||"n"!=e){"n"==e&&(e=this.options.defaultTag);var i=t("<"+e+"><br/></"+e+">");this.$element.html(i),this.setSelection(i.get(0),0),this.$element.removeClass("f-placeholder")}}else{this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var n=this.getSelectionElements();n[0]==this.$element.get(0)&&(n=this.$element.find("> "+this.valid_nodes.join(", >"))),this.saveSelectionByMarkers();for(var o,r=function(e){if("PRE"==e.get(0).tagName)for(;e.find("br + br").length>0;){var i=t(e.find("br + br")[0]);i.prev().remove(),i.replaceWith("\n\n")}},a=0;a<n.length;a++){var s=t(n[a]);if(!this.fakeEmpty(s)){if(r(s),!this.options.paragraphy&&this.emptyElement(s.get(0))&&s.append("<br/>"),"n"==e)if(this.options.paragraphy){var l="<"+this.options.defaultTag+this.attrs(s.get(0))+">"+s.html()+"</"+this.options.defaultTag+">";o=t(l)}else o=s.html()+"<br/>";else o=t("<"+e+this.attrs(s.get(0))+">").html(s.html());s.get(0)!=this.$element.get(0)?s.replaceWith(o):s.html(o)}}this.unwrapText(),this.$element.find("pre + pre").each(function(){t(this).prepend(t(this).prev().html()+"<br/><br/>"),t(this).prev().remove()});var d=this;this.$element.find(this.valid_nodes.join(",")).each(function(){"PRE"!=this.tagName&&t(this).replaceWith("<"+this.tagName+d.attrs(this)+">"+t(this).html().replace(/\n\n/gi,"</"+this.tagName+"><"+this.tagName+">")+"</"+this.tagName+">")}),this.$element.find(this.valid_nodes.join(":empty ,")+":empty").append("<br/>"),this.cleanupLists(),this.restoreSelectionByMarkers()}this.triggerEvent("formatBlock"),this.repositionEditor()},t.Editable.prototype.align=function(e){if(this.browser.msie&&t.Editable.getIEversion()<9)return this.document.execCommand(e,!1,!1),this.triggerEvent("align",[e]),!1;this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers(),this.saveSelectionByMarkers();var i=this.getSelectionElements();"justifyLeft"==e?e="left":"justifyRight"==e?e="right":"justifyCenter"==e?e="center":"justifyFull"==e&&(e="justify");for(var n=0;n<i.length;n++)this.parents(t(i[n]),"LI").length>0&&(i[n]=t(i[n]).parents("LI").get(0)),t(i[n]).css("text-align",e);this.cleanupLists(),this.unwrapText(),this.restoreSelectionByMarkers(),this.repositionEditor(),this.triggerEvent("align",[e])},t.Editable.prototype.indent=function(e,i){if(void 0===i&&(i=!0),this.browser.msie&&t.Editable.getIEversion()<9)return e?this.document.execCommand("outdent",!1,!1):this.document.execCommand("indent",!1,!1),!1;var n=20;e&&(n=-20),this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var o=this.getSelectionElements();this.saveSelectionByMarkers();for(var r=0;r<o.length;r++)t(o[r]).parentsUntil(this.$element,"li").length>0&&(o[r]=t(o[r]).closest("li").get(0));for(var a=0;a<o.length;a++){var s=t(o[a]);if(this.raiseEvent("indent",[s,e]))if(s.get(0)!=this.$element.get(0)){var l=parseInt(s.css("margin-left"),10),d=Math.max(0,l+n);s.css("marginLeft",d),0===d&&(s.css("marginLeft",""),void 0===s.css("style")&&s.removeAttr("style"))}else{var h=t("<div>").html(s.html());s.html(h),h.css("marginLeft",Math.max(0,n)),0===Math.max(0,n)&&(h.css("marginLeft",""),void 0===h.css("style")&&h.removeAttr("style"))}}this.unwrapText(),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),e||this.triggerEvent("indent")},t.Editable.prototype.outdent=function(t){this.indent(!0,t),this.triggerEvent("outdent")},t.Editable.prototype.execDefault=function(t,e){this.saveUndoStep(),this.document.execCommand(t,!1,e),this.triggerEvent(t,[],!0,!0)},t.Editable.prototype._startInDefault=function(t){this.focus(),this.document.execCommand(t,!1,!1),this.refreshButtons()},t.Editable.prototype._startInFontExec=function(e,i,n){this.focus();try{var o=this.getRange(),r=o.cloneRange();r.collapse(!1);var a=t('<span data-inserted="true" data-fr-verified="true" style="'+e+": "+n+';">'+t.Editable.INVISIBLE_SPACE+"</span>",this.document);r.insertNode(a[0]),a=this.$element.find("[data-inserted]"),a.removeAttr("data-inserted"),this.setSelection(a.get(0),1),null!=i&&this.triggerEvent(i,[n],!0,!0)}catch(s){}},t.Editable.prototype.removeFormat=function(){this.document.execCommand("removeFormat",!1,!1),this.document.execCommand("unlink",!1,!1),this.refreshButtons()},t.Editable.prototype.inlineStyle=function(e,i,n){if(this.browser.webkit){var o=function(t){return t.attr("style").indexOf("font-size")>=0};this.$element.find("[style]").each(function(e,i){var n=t(i);o(n)&&(n.attr("data-font-size",n.css("font-size")),n.css("font-size",""))})}this.document.execCommand("fontSize",!1,4),
this.saveSelectionByMarkers(),this.browser.webkit&&this.$element.find("[data-font-size]").each(function(e,i){var n=t(i);n.css("font-size",n.attr("data-font-size")),n.removeAttr("data-font-size")});var r=function(i){var o=t(i);o.css(e)!=n&&o.css(e,""),""===o.attr("style")&&o.replaceWith(o.html())};this.$element.find("font").each(function(i,o){var a=t('<span data-fr-verified="true" style="'+e+": "+n+';">'+t(o).html()+"</span>");t(o).replaceWith(a);for(var s=a.find("span"),l=s.length-1;l>=0;l--)r(s[l])}),this.removeBlankSpans(),this.restoreSelectionByMarkers(),this.repositionEditor(),null!=i&&this.triggerEvent(i,[n],!0,!0)}}(jQuery),function(t){t.Editable.prototype.addListener=function(t,e){var i=this._events,n=i[t]=i[t]||[];n.push(e)},t.Editable.prototype.raiseEvent=function(t,e){void 0===e&&(e=[]);var i=!0,n=this._events[t];if(n)for(var o=0,r=n.length;r>o;o++){var a=n[o].apply(this,e);void 0!==a&&i!==!1&&(i=a)}return void 0===i&&(i=!0),i}}(jQuery),function(t){t.Editable.prototype.start_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',t.Editable.prototype.end_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span>',t.Editable.prototype.markers_html='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span><span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',t.Editable.prototype.text=function(){var t="";return this.window.getSelection?t=this.window.getSelection():this.document.getSelection?t=this.document.getSelection():this.document.selection&&(t=this.document.selection.createRange().text),t.toString()},t.Editable.prototype.selectionInEditor=function(){var e=this.getSelectionParent(),i=!1;return e==this.$element.get(0)&&(i=!0),i===!1&&t(e).parents().each(t.proxy(function(t,e){e==this.$element.get(0)&&(i=!0)},this)),i},t.Editable.prototype.getSelection=function(){var t="";return t=this.window.getSelection?this.window.getSelection():this.document.getSelection?this.document.getSelection():this.document.selection.createRange()},t.Editable.prototype.getRange=function(){var t=this.getRanges();return t.length>0?t[0]:null},t.Editable.prototype.getRanges=function(){var t=this.getSelection();if(t.getRangeAt&&t.rangeCount){for(var e=[],i=0;i<t.rangeCount;i++)e.push(t.getRangeAt(i));return e}return this.document.createRange?[this.document.createRange()]:[]},t.Editable.prototype.clearSelection=function(){var t=this.getSelection();try{t.removeAllRanges?t.removeAllRanges():t.empty?t.empty():t.clear&&t.clear()}catch(e){}},t.Editable.prototype.getSelectionElement=function(){var e=this.getSelection();if(e&&e.rangeCount){var i=this.getRange(),n=i.startContainer;if(1==n.nodeType){var o=!1;n.childNodes.length>0&&n.childNodes[i.startOffset]&&t(n.childNodes[i.startOffset]).text()===this.text()&&(n=n.childNodes[i.startOffset],o=!0),!o&&n.childNodes.length>0&&t(n.childNodes[0]).text()===this.text()&&["BR","IMG","HR"].indexOf(n.childNodes[0].tagName)<0&&(n=n.childNodes[0])}for(;1!=n.nodeType&&n.parentNode;)n=n.parentNode;for(var r=n;r&&"BODY"!=r.tagName;){if(r==this.$element.get(0))return n;r=t(r).parent()[0]}}return this.$element.get(0)},t.Editable.prototype.getSelectionParent=function(){var e,i=null;return this.window.getSelection?(e=this.window.getSelection(),e&&e.rangeCount&&(i=e.getRangeAt(0).commonAncestorContainer,1!=i.nodeType&&(i=i.parentNode))):(e=this.document.selection)&&"Control"!=e.type&&(i=e.createRange().parentElement()),null!=i&&(t.inArray(this.$element.get(0),t(i).parents())>=0||i==this.$element.get(0))?i:null},t.Editable.prototype.nodeInRange=function(t,e){var i;if(t.intersectsNode)return t.intersectsNode(e);i=e.ownerthis.document.createRange();try{i.selectNode(e)}catch(n){i.selectNodeContents(e)}return-1==t.compareBoundaryPoints(Range.END_TO_START,i)&&1==t.compareBoundaryPoints(Range.START_TO_END,i)},t.Editable.prototype.getElementFromNode=function(e){for(1!=e.nodeType&&(e=e.parentNode);null!==e&&this.valid_nodes.indexOf(e.tagName)<0;)e=e.parentNode;return null!=e&&"LI"==e.tagName&&t(e).find(this.valid_nodes.join(",")).not("li").length>0?null:t.makeArray(t(e).parents()).indexOf(this.$element.get(0))>=0?e:null},t.Editable.prototype.nextNode=function(t,e){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling&&t!=e;)t=t.parentNode;return t&&t!=e?t.nextSibling:null},t.Editable.prototype.getRangeSelectedNodes=function(t){var e=[],i=t.startContainer,n=t.endContainer;if(i==n&&"TR"!=i.tagName){if(i.hasChildNodes()&&0!==i.childNodes.length){for(var o=i.childNodes,r=t.startOffset;r<t.endOffset;r++)o[r]&&e.push(o[r]);return 0===e.length&&e.push(i),e}return[i]}if(i==n&&"TR"==i.tagName){var a=i.childNodes,s=t.startOffset;if(a.length>s&&s>=0){var l=a[s];if("TD"==l.tagName||"TH"==l.tagName)return[l]}}for(;i&&i!=n;)i=this.nextNode(i,n),(i!=n||t.endOffset>0)&&e.push(i);for(i=t.startContainer;i&&i!=t.commonAncestorContainer;)e.unshift(i),i=i.parentNode;return e},t.Editable.prototype.getSelectedNodes=function(){if(this.window.getSelection){var e=this.window.getSelection();if(!e.isCollapsed){for(var i=this.getRanges(),n=[],o=0;o<i.length;o++)n=t.merge(n,this.getRangeSelectedNodes(i[o]));return n}if(this.selectionInEditor()){var r=e.getRangeAt(0).startContainer;return 3==r.nodeType?[r.parentNode]:[r]}}return[]},t.Editable.prototype.getSelectionElements=function(){var e=this.getSelectedNodes(),i=[];return t.each(e,t.proxy(function(t,e){if(null!==e){var n=this.getElementFromNode(e);i.indexOf(n)<0&&n!=this.$element.get(0)&&null!==n&&i.push(n)}},this)),0===i.length&&i.push(this.$element.get(0)),i},t.Editable.prototype.getSelectionLink=function(){var e=this.getSelectionLinks();return e.length>0?t(e[0]).attr("href"):null},t.Editable.prototype.saveSelection=function(){if(!this.selectionDisabled){this.savedRanges=[];for(var t=this.getRanges(),e=0;e<t.length;e++)this.savedRanges.push(t[e].cloneRange())}},t.Editable.prototype.restoreSelection=function(){if(!this.selectionDisabled){var t,e,i=this.getSelection();if(this.savedRanges&&this.savedRanges.length)for(i.removeAllRanges(),t=0,e=this.savedRanges.length;e>t;t+=1)i.addRange(this.savedRanges[t]);this.savedRanges=null}},t.Editable.prototype.insertMarkersAtPoint=function(t){var e=t.clientX,i=t.clientY;this.removeMarkers();var n,o=null;if("undefined"!=typeof this.document.caretPositionFromPoint?(n=this.document.caretPositionFromPoint(e,i),o=this.document.createRange(),o.setStart(n.offsetNode,n.offset),o.setEnd(n.offsetNode,n.offset)):"undefined"!=typeof this.document.caretRangeFromPoint&&(n=this.document.caretRangeFromPoint(e,i),o=this.document.createRange(),o.setStart(n.startContainer,n.startOffset),o.setEnd(n.startContainer,n.startOffset)),null!==o&&"undefined"!=typeof this.window.getSelection){var r=this.window.getSelection();r.removeAllRanges(),r.addRange(o)}else if("undefined"!=typeof this.document.body.createTextRange)try{o=this.document.body.createTextRange(),o.moveToPoint(e,i);var a=o.duplicate();a.moveToPoint(e,i),o.setEndPoint("EndToEnd",a),o.select()}catch(s){}this.placeMarker(o,!0,0),this.placeMarker(o,!1,0)},t.Editable.prototype.saveSelectionByMarkers=function(){if(!this.selectionDisabled){this.selectionInEditor()||this.focus(),this.removeMarkers();for(var t=this.getRanges(),e=0;e<t.length;e++)if(t[e].startContainer!==this.document){var i=t[e];this.placeMarker(i,!0,e),this.placeMarker(i,!1,e)}}},t.Editable.prototype.hasSelectionByMarkers=function(){var t=this.$element.find('.f-marker[data-type="true"]');return t.length>0?!0:!1},t.Editable.prototype.restoreSelectionByMarkers=function(e){if(void 0===e&&(e=!0),!this.selectionDisabled){var i=this.$element.find('.f-marker[data-type="true"]');if(0===i.length)return!1;this.$element.is(":focus")||this.browser.msie||this.$element.focus();var n=this.getSelection();(e||this.getRange()&&!this.getRange().collapsed||!t(i[0]).attr("data-collapsed"))&&(this.browser.msie&&t.Editable.getIEversion()<9||(this.clearSelection(),e=!0));for(var o=0;o<i.length;o++){var r=t(i[o]).data("id"),a=i[o],s=this.$element.find('.f-marker[data-type="false"][data-id="'+r+'"]');if(this.browser.msie&&t.Editable.getIEversion()<9)return this.setSelection(a,0,s,0),this.removeMarkers(),!1;var l;if(l=e?this.document.createRange():this.getRange(),s.length>0){s=s[0];try{l.setStartAfter(a),l.setEndBefore(s)}catch(d){}}e&&n.addRange(l)}this.removeMarkers()}},t.Editable.prototype.setSelection=function(t,e,i,n){var o=this.getSelection();if(o){this.clearSelection();try{i||(i=t),void 0===e&&(e=0),void 0===n&&(n=e);var r=this.getRange();r.setStart(t,e),r.setEnd(i,n),o.addRange(r)}catch(a){}}},t.Editable.prototype.buildMarker=function(e,i,n){return void 0===n&&(n=""),t('<span class="f-marker"'+n+' style="display:none; line-height: 0;" data-fr-verified="true" data-id="'+i+'" data-type="'+e+'">',this.document)[0]},t.Editable.prototype.placeMarker=function(e,i,n){var o="";e.collapsed&&(o=' data-collapsed="true"');try{var r=e.cloneRange();r.collapse(i);var a,s,l;if(r.insertNode(this.buildMarker(i,n,o)),i===!0&&o)for(a=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;3===a.nodeType&&0===a.data.length;)t(a).remove(),a=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;if(i===!0&&""===o&&(l=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0),a=l.nextSibling,a&&a.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(a.tagName)>=0)){s=[a];do a=s[0],s=t(a).contents();while(s[0]&&this.valid_nodes.indexOf(s[0].tagName)>=0);t(a).prepend(t(l))}if(i===!1&&""===o&&(l=this.$element.find('span.f-marker[data-type="false"][data-id="'+n+'"]').get(0),a=l.previousSibling,a&&a.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(a.tagName)>=0)){s=[a];do a=s[s.length-1],s=t(a).contents();while(s[s.length-1]&&this.valid_nodes.indexOf(s[s.length-1].tagName)>=0);t(a).append(t(l))}}catch(d){}},t.Editable.prototype.removeMarkers=function(){this.$element.find(".f-marker").remove()},t.Editable.prototype.getSelectionTextInfo=function(t){var e,i,n=!1,o=!1;if(this.window.getSelection){var r=this.window.getSelection();r&&r.rangeCount&&(e=r.getRangeAt(0),i=e.cloneRange(),i.selectNodeContents(t),i.setEnd(e.startContainer,e.startOffset),n=""===i.toString(),i.selectNodeContents(t),i.setStart(e.endContainer,e.endOffset),o=""===i.toString())}else this.document.selection&&"Control"!=this.document.selection.type&&(e=this.document.selection.createRange(),i=e.duplicate(),i.moveToElementText(t),i.setEndPoint("EndToStart",e),n=""===i.text,i.moveToElementText(t),i.setEndPoint("StartToEnd",e),o=""===i.text);return{atStart:n,atEnd:o}},t.Editable.prototype.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)}}(jQuery),function(t){t.Editable.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},t.Editable.hexToRGBString=function(t){var e=this.hexToRGB(t);return e?"rgb("+e.r+", "+e.g+", "+e.b+")":""},t.Editable.RGBToHex=function(t){function e(t){return("0"+parseInt(t,10).toString(16)).slice(-2)}try{return t&&"transparent"!==t?/^#[0-9A-F]{6}$/i.test(t)?t:(t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+e(t[1])+e(t[2])+e(t[3])).toUpperCase()):""}catch(i){return null}},t.Editable.getIEversion=function(){var t,e,i=-1;return"Microsoft Internet Explorer"==navigator.appName?(t=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(t=navigator.userAgent,e=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))),i},t.Editable.browser=function(){var t={};if(this.getIEversion()>0)t.msie=!0;else{var e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n={browser:i[1]||"",version:i[2]||"0"};i[1]&&(t[n.browser]=!0),parseInt(n.version,10)<9&&t.msie&&(t.oldMsie=!0),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0)}return t},t.Editable.isArray=function(t){return t&&!t.propertyIsEnumerable("length")&&"object"==typeof t&&"number"==typeof t.length},t.Editable.uniq=function(e){return t.grep(e,function(i,n){return n==t.inArray(i,e)})},t.Editable.cleanWhitespace=function(e){e.contents().filter(function(){return 1==this.nodeType&&t.Editable.cleanWhitespace(t(this)),3==this.nodeType&&!/\S/.test(this.nodeValue)}).remove()}}(jQuery),function(t){t.Editable.prototype.show=function(e){if(this.hideDropdowns(),void 0!==e){if(this.options.inlineMode||this.options.editInPopup)if(null!==e&&"touchend"!==e.type){if(this.options.showNextToCursor){var i=e.pageX,n=e.pageY;i<this.$element.offset().left&&(i=this.$element.offset().left),i>this.$element.offset().left+this.$element.width()&&(i=this.$element.offset().left+this.$element.width()),n<this.$element.offset.top&&(n=this.$element.offset().top),n>this.$element.offset().top+this.$element.height()&&(n=this.$element.offset().top+this.$element.height()),20>i&&(i=20),0>n&&(n=0),this.showByCoordinates(i,n)}else this.repositionEditor();t(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),0!==this.options.buttons.length||this.options.editInPopup||this.$editor.hide()}else t(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),this.repositionEditor();this.hidePopups(),this.options.editInPopup||this.showEditPopupWrapper(),this.$bttn_wrapper.show(),this.refreshButtons(),this.imageMode=!1}},t.Editable.prototype.hideDropdowns=function(){this.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"),this.$bttn_wrapper.find(".fr-dropdown .fr-trigger")},t.Editable.prototype.hide=function(t){return this.initialized?(void 0===t&&(t=!0),t?this.hideOtherEditors():(this.closeImageMode(),this.imageMode=!1),this.$popup_editor.hide(),this.hidePopups(!1),void(this.link=!1)):!1},t.Editable.prototype.hideOtherEditors=function(){for(var e=1;e<=t.Editable.count;e++)e!=this._id&&this.$window.trigger("hide."+e)},t.Editable.prototype.hideBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.hide()},t.Editable.prototype.showBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.show()},t.Editable.prototype.showEditPopupWrapper=function(){this.$edit_popup_wrapper&&(this.$edit_popup_wrapper.show(),setTimeout(t.proxy(function(){this.$edit_popup_wrapper.find("input").val(this.$element.text()).focus().select()},this),1))},t.Editable.prototype.hidePopups=function(t){void 0===t&&(t=!0),t&&this.hideBttnWrapper(),this.raiseEvent("hidePopups")},t.Editable.prototype.showEditPopup=function(){this.showEditPopupWrapper()}}(jQuery),function(t){t.Editable.prototype.getBoundingRect=function(){var e;if(this.isLink){e={};var i=this.$element;e.left=i.offset().left-this.$window.scrollLeft(),e.top=i.offset().top-this.$window.scrollTop(),e.width=i.outerWidth(),e.height=parseInt(i.css("padding-top").replace("px",""),10)+i.height(),e.right=1,e.bottom=1,e.ok=!0}else if(this.getRange()&&this.getRange().collapsed){var n=t(this.getSelectionElement());this.saveSelectionByMarkers();var o=this.$element.find(".f-marker:first");o.css("display","inline");var r=o.offset();o.css("display","none"),e={},e.left=r.left-this.$window.scrollLeft(),e.width=0,e.height=(parseInt(n.css("line-height").replace("px",""),10)||10)-10-this.$window.scrollTop(),e.top=r.top,e.right=1,e.bottom=1,e.ok=!0,this.removeMarkers()}else this.getRange()&&(e=this.getRange().getBoundingClientRect());return e},t.Editable.prototype.repositionEditor=function(t){var e,i,n;if(this.options.inlineMode||t){if(e=this.getBoundingRect(),this.showBttnWrapper(),e.ok||e.left>=0&&e.top>=0&&e.right>0&&e.bottom>0)i=e.left+e.width/2,n=e.top+e.height,this.iOS()&&this.iOSVersion()<8||(i+=this.$window.scrollLeft(),n+=this.$window.scrollTop()),this.showByCoordinates(i,n);else if(this.options.alwaysVisible)this.hide();else{var o=this.$element.offset();this.showByCoordinates(o.left,o.top+10)}0===this.options.buttons.length&&this.hide()}},t.Editable.prototype.showByCoordinates=function(t,e){t-=22,e+=8;var i=this.$document.find(this.options.scrollableContainer);"body"!=this.options.scrollableContainer&&(t-=i.offset().left,e-=i.offset().top,this.iPad()||(t+=i.scrollLeft(),e+=i.scrollTop()));var n=Math.max(this.$popup_editor.outerWidth(),250);t+n>=i.outerWidth()-50&&t+44-n>0?(this.$popup_editor.addClass("right-side"),t=i.outerWidth()-(t+44),"static"==i.css("position")&&(t=t+parseFloat(i.css("margin-left"),10)+parseFloat(i.css("margin-right"),10)),this.$popup_editor.css("top",e),this.$popup_editor.css("right",t),this.$popup_editor.css("left","auto")):t+n<i.outerWidth()-50?(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",e),this.$popup_editor.css("left",t),this.$popup_editor.css("right","auto")):(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",e),this.$popup_editor.css("left",Math.max(i.outerWidth()-n,10)/2),this.$popup_editor.css("right","auto")),this.$popup_editor.show()},t.Editable.prototype.positionPopup=function(e){if(t(this.$editor.find('button.fr-bttn[data-cmd="'+e+'"]')).length){var i=this.$editor.find('button.fr-bttn[data-cmd="'+e+'"]'),n=i.width(),o=i.height(),r=i.offset().left+n/2,a=i.offset().top+o;this.showByCoordinates(r,a)}}}(jQuery),function(t){t.Editable.prototype.refreshImageAlign=function(t){this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var e="floatImageNone",i="center";t.hasClass("fr-fil")?(i="left",e="floatImageLeft"):t.hasClass("fr-fir")&&(i="right",e="floatImageRight"),this.$image_editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+i),this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+e+'"]').addClass("active")},t.Editable.prototype.refreshImageDisplay=function(){var t=this.$element.find(".f-img-editor");this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li').removeClass("active"),t.hasClass("fr-dib")?this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dib"]').addClass("active"):this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dii"]').addClass("active")},t.Editable.image_commands={align:{title:"Alignment",icon:"fa fa-align-center",refresh:t.Editable.prototype.refreshImageAlign,refreshOnShow:t.Editable.prototype.refreshImageAlign,seed:[{cmd:"floatImageLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"floatImageNone",title:"Align Center",icon:"fa fa-align-center"},{cmd:"floatImageRight",title:"Align Right",icon:"fa fa-align-right"}],callback:function(t,e,i){this[i](t)},undo:!0},display:{title:"Text Wrap",icon:"fa fa-star",refreshOnShow:t.Editable.prototype.refreshImageDisplay,namespace:"Image",seed:[{title:"Inline",value:"fr-dii"},{title:"Break Text",value:"fr-dib"}],callback:function(t,e,i){this.displayImage(t,i)},undo:!0},linkImage:{title:"Insert Link",icon:{type:"font",value:"fa fa-link"},callback:function(t){this.linkImage(t)}},replaceImage:{title:"Replace Image",icon:{type:"font",value:"fa fa-exchange"},callback:function(t){this.replaceImage(t)}},removeImage:{title:"Remove Image",icon:{type:"font",value:"fa fa-trash-o"},callback:function(t){this.removeImage(t)}}},t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{allowedImageTypes:["jpeg","jpg","png","gif"],customImageButtons:{},defaultImageTitle:"Image title",defaultImageWidth:300,defaultImageDisplay:"block",defaultImageAlignment:"center",imageButtons:["display","align","linkImage","replaceImage","removeImage"],imageDeleteConfirmation:!0,imageDeleteURL:null,imageDeleteParams:{},imageMove:!0,imageResize:!0,imageLink:!0,imageTitle:!0,imageUpload:!0,imageUploadParams:{},imageUploadParam:"file",imageUploadToS3:!1,imageUploadURL:"http://i.froala.com/upload",maxImageSize:10485760,pasteImage:!0,textNearImage:!0}),t.Editable.prototype.hideImageEditorPopup=function(){this.$image_editor&&this.$image_editor.hide()},t.Editable.prototype.showImageEditorPopup=function(){this.$image_editor&&this.$image_editor.show(),this.options.imageMove||this.$element.attr("contenteditable",!1)},t.Editable.prototype.showImageWrapper=function(){this.$image_wrapper&&this.$image_wrapper.show()},t.Editable.prototype.hideImageWrapper=function(t){this.$image_wrapper&&(this.$element.attr("data-resize")||t||(this.closeImageMode(),this.imageMode=!1),this.$image_wrapper.hide(),this.$image_wrapper.find("input").blur())},t.Editable.prototype.showInsertImage=function(){this.hidePopups(),this.showImageWrapper()},t.Editable.prototype.showImageEditor=function(){this.hidePopups(),this.showImageEditorPopup()},t.Editable.prototype.insertImageHTML=function(){var e='<div class="froala-popup froala-image-popup" style="display: none;"><h4><span data-text="true">Insert Image</span><span data-text="true">Uploading image</span><i title="Cancel" class="fa fa-times" id="f-image-close-'+this._id+'"></i></h4>';return e+='<div id="f-image-list-'+this._id+'">',this.options.imageUpload&&(e+='<div class="f-popup-line drop-upload">',e+='<div class="f-upload" id="f-upload-div-'+this._id+'"><strong data-text="true">Drop Image</strong><br>(<span data-text="true">or click</span>)<form target="frame-'+this._id+'" enctype="multipart/form-data" encoding="multipart/form-data" action="'+this.options.imageUploadURL+'" method="post" id="f-upload-form-'+this._id+'"><input id="f-file-upload-'+this._id+'" type="file" name="'+this.options.imageUploadParam+'" accept="image/*"></form></div>',this.browser.msie&&t.Editable.getIEversion()<=9&&(e+='<iframe id="frame-'+this._id+'" name="frame-'+this._id+'" src="javascript:false;" style="width:0; height:0; border:0px solid #FFF; position: fixed; z-index: -1;"></iframe>'),e+="</div>"),this.options.imageLink&&(e+='<div class="f-popup-line"><label><span data-text="true">Enter URL</span>: </label><input id="f-image-url-'+this._id+'" type="text" placeholder="http://example.com"><button class="f-browse fr-p-bttn" id="f-browser-'+this._id+'"><i class="fa fa-search"></i></button><button data-text="true" class="f-ok fr-p-bttn f-submit" id="f-image-ok-'+this._id+'">OK</button></div>'),e+="</div>",e+='<p class="f-progress" id="f-progress-'+this._id+'"><span></span></p>',e+="</div>"},t.Editable.prototype.iFrameLoad=function(){var t=this.$image_wrapper.find("iframe#frame-"+this._id);if(!t.attr("data-loaded"))return t.attr("data-loaded",!0),!1;try{var e=this.$image_wrapper.find("#f-upload-form-"+this._id);if(this.options.imageUploadToS3){var i=e.attr("action"),n=e.find('input[name="key"]').val(),o=i+n;this.writeImage(o),this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,o,n)}else{var r=t.contents().text();this.parseImageResponse(r)}}catch(a){this.throwImageError(7)}},t.Editable.prototype.initImage=function(){this.buildInsertImage(),(!this.isLink||this.isImage)&&this.initImagePopup(),this.addListener("destroy",this.destroyImage)},t.Editable.initializers.push(t.Editable.prototype.initImage),t.Editable.prototype.destroyImage=function(){this.$image_editor&&this.$image_editor.html("").removeData().remove(),this.$image_wrapper&&this.$image_wrapper.html("").removeData().remove()},t.Editable.prototype.buildInsertImage=function(){this.$image_wrapper=t(this.insertImageHTML()),this.$popup_editor.append(this.$image_wrapper);var e=this;if(this.$image_wrapper.on("mouseup touchend",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.addListener("hidePopups",t.proxy(function(){this.hideImageWrapper(!0)},this)),this.$progress_bar=this.$image_wrapper.find("p#f-progress-"+this._id),this.options.imageUpload){if(this.browser.msie&&t.Editable.getIEversion()<=9){var i=this.$image_wrapper.find("iframe").get(0);i.attachEvent?i.attachEvent("onload",function(){e.iFrameLoad()}):i.onload=function(){e.iFrameLoad()}}this.$image_wrapper.on("change",'input[type="file"]',function(){if(void 0!==this.files)e.uploadImage(this.files);else{if(!e.triggerEvent("beforeImageUpload",[],!1))return!1;var i=t(this).parents("form");i.find('input[type="hidden"]').remove();var n;for(n in e.options.imageUploadParams)i.prepend('<input type="hidden" name="'+n+'" value="'+e.options.imageUploadParams[n]+'" />');if(e.options.imageUploadToS3!==!1){for(n in e.options.imageUploadToS3.params)i.prepend('<input type="hidden" name="'+n+'" value="'+e.options.imageUploadToS3.params[n]+'" />');i.prepend('<input type="hidden" name="success_action_status" value="201" />'),i.prepend('<input type="hidden" name="X-Requested-With" value="xhr" />'),i.prepend('<input type="hidden" name="Content-Type" value="" />'),i.prepend('<input type="hidden" name="key" value="'+e.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+t(this).val().match(/[^\/\\]+$/)+'" />')}else i.prepend('<input type="hidden" name="XHR_CORS_TRARGETORIGIN" value="'+e.window.location.href+'" />');e.showInsertImage(),e.showImageLoader(!0),e.disable(),i.submit()}t(this).val("")})}this.buildDragUpload(),this.$image_wrapper.on("mouseup keydown","#f-image-url-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation()},this)),this.$image_wrapper.on("click","#f-image-ok-"+this._id,t.proxy(function(){this.writeImage(this.$image_wrapper.find("#f-image-url-"+this._id).val(),!0)},this)),this.$image_wrapper.on(this.mouseup,"#f-image-close-"+this._id,t.proxy(function(t){return this.isDisabled?!1:(t.stopPropagation(),this.$bttn_wrapper.show(),this.hideImageWrapper(!0),this.options.inlineMode&&0===this.options.buttons.length&&(this.imageMode?this.showImageEditor():this.hide()),this.imageMode||(this.restoreSelection(),this.focus()),void(this.options.inlineMode||this.imageMode?this.imageMode&&this.showImageEditor():this.hide()))},this)),this.$image_wrapper.on("click",function(t){t.stopPropagation()}),this.$image_wrapper.on("click","*",function(t){t.stopPropagation()})},t.Editable.prototype.deleteImage=function(e){if(this.options.imageDeleteURL){var i=this.options.imageDeleteParams;i.info=e.data("info"),i.src=e.attr("src"),t.ajax({type:"POST",url:this.options.imageDeleteURL,data:i,crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(t.proxy(function(t){e.parent().parent().hasClass("f-image-list")?e.parent().remove():e.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteSuccess",[t],!1)},this)).fail(t.proxy(function(){e.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Error during image delete."],!1)},this))}else e.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Missing imageDeleteURL option."],!1)},t.Editable.prototype.imageHandle=function(){var e=this,i=t('<span data-fr-verified="true">').addClass("f-img-handle").on({movestart:function(i){e.hide(),e.$element.addClass("f-non-selectable").attr("contenteditable",!1),e.$element.attr("data-resize",!0),t(this).attr("data-start-x",i.startX),t(this).attr("data-start-y",i.startY)},move:function(i){var n=t(this),o=i.pageX-parseInt(n.attr("data-start-x"),10);n.attr("data-start-x",i.pageX),n.attr("data-start-y",i.pageY);var r=n.prevAll("img"),a=r.width();n.hasClass("f-h-ne")||n.hasClass("f-h-se")?r.attr("width",a+o):r.attr("width",a-o),e.triggerEvent("imageResize",[r],!1)},moveend:function(){t(this).removeAttr("data-start-x"),t(this).removeAttr("data-start-y");var i=t(this),n=i.prevAll("img");e.$element.removeClass("f-non-selectable"),e.isImage||e.$element.attr("contenteditable",!0),e.triggerEvent("imageResizeEnd",[n]),t(this).trigger("mouseup")},touchend:function(){t(this).trigger("moveend")}});return i},t.Editable.prototype.disableImageResize=function(){if(this.browser.mozilla)try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(t){}},t.Editable.prototype.isResizing=function(){return this.$element.attr("data-resize")},t.Editable.prototype.getImageStyle=function(t){var e="z-index: 1; position: relative; overflow: auto;",i=t,n="padding";return t.parent().hasClass("f-img-editor")&&(i=t.parent(),n="margin"),e+=" padding-left:"+i.css(n+"-left")+";",e+=" padding-right:"+i.css(n+"-right")+";",e+=" padding-bottom:"+i.css(n+"-bottom")+";",e+=" padding-top:"+i.css(n+"-top")+";",t.hasClass("fr-dib")?(e+=" vertical-align: top; display: block;",e+=t.hasClass("fr-fir")?" float: none; margin-right: 0; margin-left: auto;":t.hasClass("fr-fil")?" float: none; margin-left: 0; margin-right: auto;":" float: none; margin: auto;"):(e+=" display: inline-block;",e+=t.hasClass("fr-fir")?" float: right;":t.hasClass("fr-fil")?" float: left;":" float: none;"),e},t.Editable.prototype.getImageClass=function(t){var e=t.split(" ");return t="fr-fin",e.indexOf("fr-fir")>=0&&(t="fr-fir"),e.indexOf("fr-fil")>=0&&(t="fr-fil"),e.indexOf("fr-dib")>=0&&(t+=" fr-dib"),e.indexOf("fr-dii")>=0&&(t+=" fr-dii"),t},t.Editable.prototype.refreshImageButtons=function(t){this.$image_editor.find("button").removeClass("active");var e=t.css("float");e=t.hasClass("fr-fil")?"Left":t.hasClass("fr-fir")?"Right":"None",this.$image_editor.find('button[data-cmd="floatImage'+e+'"]').addClass("active"),this.raiseEvent("refreshImage",[t])},t.Editable.prototype.initImageEvents=function(){document.addEventListener&&!document.dropAssigned&&(document.dropAssigned=!0,document.addEventListener("drop",t.proxy(function(e){return t(".froala-element img.fr-image-move").length?(e.preventDefault(),e.stopPropagation(),t(".froala-element img.fr-image-move").removeClass("fr-image-move"),!1):void 0},this))),this.disableImageResize();var e=this;this.$element.on("mousedown",'img:not([contenteditable="false"])',function(i){return e.isDisabled?!1:void(e.isResizing()||(e.initialized&&i.stopPropagation(),e.$element.attr("contenteditable",!1),t(this).addClass("fr-image-move")))}),this.$element.on("mouseup",'img:not([contenteditable="false"])',function(){return e.isDisabled?!1:void(e.isResizing()||(e.options.imageMove||e.isImage||e.isHTML||e.$element.attr("contenteditable",!0),t(this).removeClass("fr-image-move")))}),this.$element.on("click touchend",'img:not([contenteditable="false"])',function(i){if(e.isDisabled)return!1;if(!e.isResizing()&&e.initialized){if(i.preventDefault(),i.stopPropagation(),e.closeImageMode(),e.$element.blur(),e.refreshImageButtons(t(this)),e.$image_editor.find('.f-image-alt input[type="text"]').val(t(this).attr("alt")||t(this).attr("title")),e.showImageEditor(),!t(this).parent().hasClass("f-img-editor")||"SPAN"!=t(this).parent().get(0).tagName){var n=e.getImageClass(t(this).attr("class"));t(this).wrap('<span data-fr-verified="true" class="f-img-editor '+n+'"></span>'),0!==t(this).parents(".f-img-wrap").length||e.isImage?t(this).parents(".f-img-wrap").attr("class",n+" f-img-wrap"):t(this).parents("a").length>0?t(this).parents("a:first").wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>'):t(this).parent().wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>')}if(t(this).parent().find(".f-img-handle").remove(),e.options.imageResize){var o=e.imageHandle();t(this).parent().append(o.clone(!0).addClass("f-h-ne")),t(this).parent().append(o.clone(!0).addClass("f-h-se")),t(this).parent().append(o.clone(!0).addClass("f-h-sw")),t(this).parent().append(o.clone(!0).addClass("f-h-nw"))}e.showByCoordinates(t(this).offset().left+t(this).width()/2,t(this).offset().top+t(this).height()),e.imageMode=!0,e.$bttn_wrapper.find(".fr-bttn").removeClass("active"),e.clearSelection()}}),this.$element.on("mousedown touchstart",".f-img-handle",t.proxy(function(){return e.isDisabled?!1:void this.$element.attr("data-resize",!0)},this)),this.$element.on("mouseup",".f-img-handle",t.proxy(function(i){if(e.isDisabled)return!1;var n=t(i.target).prevAll("img");setTimeout(t.proxy(function(){this.$element.removeAttr("data-resize"),n.click()},this),0)},this))},t.Editable.prototype.execImage=function(e,i,n){var o=this.$element.find("span.f-img-editor"),r=o.find("img"),a=t.Editable.image_commands[e]||this.options.customImageButtons[e];a&&a.callback&&a.callback.apply(this,[r,e,i,n])},t.Editable.prototype.bindImageRefreshListener=function(e){e.refresh&&this.addListener("refreshImage",t.proxy(function(t){e.refresh.apply(this,[t])},this))},t.Editable.prototype.buildImageButton=function(t,e){var i='<button class="fr-bttn" data-namespace="Image" data-cmd="'+e+'" title="'+t.title+'">';return i+=void 0!==this.options.icons[e]?this.prepareIcon(this.options.icons[e],t.title):this.prepareIcon(t.icon,t.title),i+="</button>",this.bindImageRefreshListener(t),
i},t.Editable.prototype.buildImageAlignDropdown=function(t){this.bindImageRefreshListener(t);for(var e='<ul class="fr-dropdown-menu f-align">',i=0;i<t.seed.length;i++){var n=t.seed[i];e+='<li data-cmd="align" data-namespace="Image" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return e+="</ul>"},t.Editable.prototype.buildImageDropdown=function(t){return dropdown=this.buildDefaultDropdown(t),btn=this.buildDropdownButton(t,dropdown),btn},t.Editable.prototype.image_command_dispatcher={align:function(t){var e=this.buildImageAlignDropdown(t),i=this.buildDropdownButton(t,e);return i}},t.Editable.prototype.buildImageButtons=function(){for(var e="",i=0;i<this.options.imageButtons.length;i++){var n=this.options.imageButtons[i];if(void 0!==t.Editable.image_commands[n]||void 0!==this.options.customImageButtons[n]){var o=t.Editable.image_commands[n]||this.options.customImageButtons[n];o.cmd=n;var r=this.image_command_dispatcher[n];e+=r?r.apply(this,[o]):o.seed?this.buildImageDropdown(o,n):this.buildImageButton(o,n)}}return e},t.Editable.prototype.initImagePopup=function(){this.$image_editor=t('<div class="froala-popup froala-image-editor-popup" style="display: none">');var e=t('<div class="f-popup-line f-popup-toolbar">').appendTo(this.$image_editor);e.append(this.buildImageButtons()),this.addListener("hidePopups",this.hideImageEditorPopup),this.options.imageTitle&&t('<div class="f-popup-line f-image-alt">').append('<label><span data-text="true">Title</span>: </label>').append(t('<input type="text">').on("mouseup keydown touchend",function(t){var e=t.which;e&&27===e||t.stopPropagation()})).append('<button class="fr-p-bttn f-ok" data-text="true" data-callback="setImageAlt" data-cmd="setImageAlt" title="OK">OK</button>').appendTo(this.$image_editor),this.$popup_editor.append(this.$image_editor),this.bindCommandEvents(this.$image_editor),this.bindDropdownEvents(this.$image_editor)},t.Editable.prototype.displayImage=function(t,e){var i=t.parents("span.f-img-editor");i.removeClass("fr-dii fr-dib").addClass(e),this.triggerEvent("imageDisplayed",[t,e]),t.click()},t.Editable.prototype.floatImageLeft=function(t){var e=t.parents("span.f-img-editor");e.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fil"),this.isImage&&this.$element.css("float","left"),this.triggerEvent("imageFloatedLeft",[t]),t.click()},t.Editable.prototype.floatImageNone=function(t){var e=t.parents("span.f-img-editor");e.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fin"),this.isImage||(e.parent().get(0)==this.$element.get(0)?e.wrap('<div style="text-align: center;"></div>'):e.parents(".f-img-wrap:first").css("text-align","center")),this.isImage&&this.$element.css("float","none"),this.triggerEvent("imageFloatedNone",[t]),t.click()},t.Editable.prototype.floatImageRight=function(t){var e=t.parents("span.f-img-editor");e.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fir"),this.isImage&&this.$element.css("float","right"),this.triggerEvent("imageFloatedRight",[t]),t.click()},t.Editable.prototype.linkImage=function(t){this.imageMode=!0,this.showInsertLink();var e=t.parents("span.f-img-editor");"A"==e.parent().get(0).tagName?this.updateLinkValues(e.parent()):this.resetLinkValues()},t.Editable.prototype.replaceImage=function(t){this.showInsertImage(),this.imageMode=!0,this.$image_wrapper.find('input[type="text"]').val(t.attr("src")),this.showByCoordinates(t.offset().left+t.width()/2,t.offset().top+t.height())},t.Editable.prototype.removeImage=function(e){var i=e.parents("span.f-img-editor");if(0===i.length)return!1;var n=e.get(0),o="Are you sure? Image will be deleted.";if(t.Editable.LANGS[this.options.language]&&(o=t.Editable.LANGS[this.options.language].translation[o]),!this.options.imageDeleteConfirmation||confirm(o)){if(this.triggerEvent("beforeRemoveImage",[t(n)],!1)){var r=i.parents(this.valid_nodes.join(","));i.parents(".f-img-wrap").length?i.parents(".f-img-wrap").remove():i.remove(),this.refreshImageList(!0),this.hide(),r.length&&r[0]!=this.$element.get(0)&&""===t(r[0]).text()&&1==r[0].childNodes.length&&t(r[0]).remove(),this.wrapText(),this.triggerEvent("afterRemoveImage",[e]),this.focus(),this.imageMode=!1}}else e.click()},t.Editable.prototype.setImageAlt=function(){var t=this.$element.find("span.f-img-editor"),e=t.find("img");e.attr("alt",this.$image_editor.find('.f-image-alt input[type="text"]').val()),e.attr("title",this.$image_editor.find('.f-image-alt input[type="text"]').val()),this.hide(),this.closeImageMode(),this.triggerEvent("imageAltSet",[e])},t.Editable.prototype.buildImageMove=function(){var e=this;this.isLink||this.initDrag(),e.$element.on("dragover dragenter dragend",function(t){t.preventDefault()}),e.$element.on("drop",function(i){if(e.isDisabled)return!1;if(e.closeImageMode(),e.hide(),e.imageMode=!1,e.initialized||(e.$element.unbind("mousedown.element"),e.lateInit()),!e.options.imageUpload||0!==t(".froala-element img.fr-image-move").length){if(t(".froala-element .fr-image-move").length>0&&e.options.imageMove){i.preventDefault(),i.stopPropagation(),e.insertMarkersAtPoint(i.originalEvent),e.restoreSelectionByMarkers();var n=t("<div>").append(t(".froala-element img.fr-image-move").clone().removeClass("fr-image-move").addClass("fr-image-dropped")).html();e.insertHTML(n);var o=t(".froala-element img.fr-image-move").parent();t(".froala-element img.fr-image-move").remove(),o.get(0)!=e.$element.get(0)&&o.is(":empty")&&o.remove(),e.clearSelection(),e.initialized?setTimeout(function(){e.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped").click()},0):e.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped"),e.sync(),e.hideOtherEditors()}else i.preventDefault(),i.stopPropagation(),t(".froala-element img.fr-image-move").removeClass("fr-image-move");return!1}if(i.originalEvent.dataTransfer&&i.originalEvent.dataTransfer.files&&i.originalEvent.dataTransfer.files.length){if(e.isDisabled)return!1;var r=i.originalEvent.dataTransfer.files;e.options.allowedImageTypes.indexOf(r[0].type.replace(/image\//g,""))>=0&&(e.insertMarkersAtPoint(i.originalEvent),e.showByCoordinates(i.originalEvent.pageX,i.originalEvent.pageY),e.uploadImage(r),i.preventDefault(),i.stopPropagation())}})},t.Editable.prototype.buildDragUpload=function(){var e=this;e.$image_wrapper.on("dragover","#f-upload-div-"+this._id,function(){return t(this).addClass("f-hover"),!1}),e.$image_wrapper.on("dragend","#f-upload-div-"+this._id,function(){return t(this).removeClass("f-hover"),!1}),e.$image_wrapper.on("drop","#f-upload-div-"+this._id,function(i){return i.preventDefault(),i.stopPropagation(),e.options.imageUpload?(t(this).removeClass("f-hover"),void e.uploadImage(i.originalEvent.dataTransfer.files)):!1})},t.Editable.prototype.showImageLoader=function(e){if(void 0===e&&(e=!1),e){var i="Please wait!";t.Editable.LANGS[this.options.language]&&(i=t.Editable.LANGS[this.options.language].translation[i]),this.$progress_bar.find("span").css("width","100%").text(i)}else this.$image_wrapper.find("h4").addClass("uploading");this.$image_wrapper.find("#f-image-list-"+this._id).hide(),this.$progress_bar.show(),this.showInsertImage()},t.Editable.prototype.hideImageLoader=function(){this.$progress_bar.hide(),this.$progress_bar.find("span").css("width","0%").text(""),this.$image_wrapper.find("#f-image-list-"+this._id).show(),this.$image_wrapper.find("h4").removeClass("uploading")},t.Editable.prototype.writeImage=function(e,i,n){if(i&&(e=this.sanitizeURL(e),""===e))return!1;var o=new Image;o.onerror=t.proxy(function(){this.hideImageLoader(),this.throwImageError(1)},this),o.onload=this.imageMode?t.proxy(function(){var t=this.$element.find(".f-img-editor > img");t.attr("src",e),this.hide(),this.hideImageLoader(),this.$image_editor.show(),this.enable(),this.triggerEvent("imageReplaced",[t,n]),setTimeout(function(){t.trigger("click")},0)},this):t.proxy(function(){this.insertLoadedImage(e,n)},this),this.showImageLoader(!0),o.src=e},t.Editable.prototype.processInsertImage=function(e,i){void 0===i&&(i=!0),this.enable(),this.focus(),this.restoreSelection();var n="";parseInt(this.options.defaultImageWidth,10)&&(n=' width="'+this.options.defaultImageWidth+'"');var o="fr-fin";"left"==this.options.defaultImageAlignment&&(o="fr-fil"),"right"==this.options.defaultImageAlignment&&(o="fr-fir"),o+=" fr-di"+this.options.defaultImageDisplay[0];var r='<img class="'+o+' fr-just-inserted" alt="'+this.options.defaultImageTitle+'" src="'+e+'"'+n+">",a=this.getSelectionElements()[0],s=this.getRange(),l=!this.browser.msie&&t.Editable.getIEversion()>8?t(s.startContainer):null;l&&l.hasClass("f-img-wrap")?(1===s.startOffset?(l.after("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()):0===s.startOffset&&(l.before("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()),this.insertHTML(r)):this.getSelectionTextInfo(a).atStart&&a!=this.$element.get(0)&&"TD"!=a.tagName&&"TH"!=a.tagName&&"LI"!=a.tagName?t(a).before("<"+this.options.defaultTag+">"+r+"</"+this.options.defaultTag+">"):this.insertHTML(r),this.disable()},t.Editable.prototype.insertLoadedImage=function(e,i){this.triggerEvent("imageLoaded",[e],!1),this.processInsertImage(e,!1),this.browser.msie&&this.$element.find("img").each(function(t,e){e.oncontrolselect=function(){return!1}}),this.enable(),this.hide(),this.hideImageLoader(),this.wrapText(),this.cleanupLists();var n,o=this.$element.find("img.fr-just-inserted").get(0);o&&(n=o.previousSibling),n&&3==n.nodeType&&/\u200B/gi.test(n.textContent)&&t(n).remove(),this.triggerEvent("imageInserted",[this.$element.find("img.fr-just-inserted"),i]),setTimeout(t.proxy(function(){this.$element.find("img.fr-just-inserted").removeClass("fr-just-inserted").trigger("touchend")},this),50)},t.Editable.prototype.throwImageErrorWithMessage=function(t){this.enable(),this.triggerEvent("imageError",[{message:t,code:0}],!1),this.hideImageLoader()},t.Editable.prototype.throwImageError=function(t){this.enable();var e="Unknown image upload error.";1==t?e="Bad link.":2==t?e="No link in upload response.":3==t?e="Error during file upload.":4==t?e="Parsing response failed.":5==t?e="Image too large.":6==t?e="Invalid image type.":7==t&&(e="Image can be uploaded only to same domain in IE 8 and IE 9."),this.triggerEvent("imageError",[{code:t,message:e}],!1),this.hideImageLoader()},t.Editable.prototype.uploadImage=function(e){if(!this.triggerEvent("beforeImageUpload",[e],!1))return!1;if(void 0!==e&&e.length>0){var i;if(this.drag_support.formdata&&(i=this.drag_support.formdata?new FormData:null),i){var n;for(n in this.options.imageUploadParams)i.append(n,this.options.imageUploadParams[n]);if(this.options.imageUploadToS3!==!1){for(n in this.options.imageUploadToS3.params)i.append(n,this.options.imageUploadToS3.params[n]);i.append("success_action_status","201"),i.append("X-Requested-With","xhr"),i.append("Content-Type",e[0].type),i.append("key",this.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+e[0].name)}if(i.append(this.options.imageUploadParam,e[0]),e[0].size>this.options.maxImageSize)return this.throwImageError(5),!1;if(this.options.allowedImageTypes.indexOf(e[0].type.replace(/image\//g,""))<0)return this.throwImageError(6),!1}if(i){var o;if(this.options.crossDomain)o=this.createCORSRequest("POST",this.options.imageUploadURL);else{o=new XMLHttpRequest,o.open("POST",this.options.imageUploadURL);for(var r in this.options.headers)o.setRequestHeader(r,this.options.headers[r])}o.onload=t.proxy(function(){var e="Please wait!";t.Editable.LANGS[this.options.language]&&(e=t.Editable.LANGS[this.options.language].translation[e]),this.$progress_bar.find("span").css("width","100%").text(e);try{if(this.options.imageUploadToS3)201==o.status?this.parseImageResponseXML(o.responseXML):this.throwImageError(3);else if(o.status>=200&&o.status<300)this.parseImageResponse(o.responseText);else try{var i=t.parseJSON(o.responseText);i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(3)}catch(n){this.throwImageError(3)}}catch(n){this.throwImageError(4)}},this),o.onerror=t.proxy(function(){this.throwImageError(3)},this),o.upload.onprogress=t.proxy(function(t){if(t.lengthComputable){var e=t.loaded/t.total*100|0;this.$progress_bar.find("span").css("width",e+"%")}},this),this.disable(),o.send(i),this.showImageLoader()}}},t.Editable.prototype.parseImageResponse=function(e){try{if(!this.triggerEvent("afterImageUpload",[e],!1))return!1;var i=t.parseJSON(e);i.link?this.writeImage(i.link,!1,e):i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(2)}catch(n){this.throwImageError(4)}},t.Editable.prototype.parseImageResponseXML=function(e){try{var i=t(e).find("Location").text(),n=t(e).find("Key").text();this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,i,n),i?this.writeImage(i):this.throwImageError(2)}catch(o){this.throwImageError(4)}},t.Editable.prototype.setImageUploadURL=function(t){t&&(this.options.imageUploadURL=t),this.options.imageUploadToS3&&(this.options.imageUploadURL="https://"+this.options.imageUploadToS3.bucket+"."+this.options.imageUploadToS3.region+".amazonaws.com/")},t.Editable.prototype.closeImageMode=function(){this.$element.find("span.f-img-editor > img").each(t.proxy(function(e,i){t(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(t(i).parent().attr("class"))),t(i).parents(".f-img-wrap").length>0?"A"==t(i).parent().parent().get(0).tagName?t(i).siblings("span.f-img-handle").remove().end().unwrap().parent().unwrap():t(i).siblings("span.f-img-handle").remove().end().unwrap().unwrap():t(i).siblings("span.f-img-handle").remove().end().unwrap()},this)),this.$element.find("span.f-img-editor").length&&(this.$element.find("span.f-img-editor").remove(),this.$element.parents("span.f-img-editor").remove()),this.$element.removeClass("f-non-selectable"),this.editableDisabled||this.isHTML||this.$element.attr("contenteditable",!0),this.$image_editor&&this.$image_editor.hide(),this.$link_wrapper&&this.options.linkText&&this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden")},t.Editable.prototype.refreshImageList=function(e){if(!this.isLink&&!this.options.editInPopup){var i=[],n=[],o=this;if(this.$element.find("img").each(function(e,r){var a=t(r);if(i.push(a.attr("src")),n.push(a),"false"==a.attr("contenteditable"))return!0;if(0!==a.parents(".f-img-editor").length||a.hasClass("fr-dii")||a.hasClass("fr-dib")||(o.options.textNearImage?a.addClass(a.hasClass("fr-fin")?"fr-dib":a.hasClass("fr-fil")||a.hasClass("fr-fir")?"fr-dii":"block"==a.css("display")&&"none"==a.css("float")?"fr-dib":"fr-dii"):(a.addClass("fr-dib"),o.options.imageButtons.splice(o.options.imageButtons.indexOf("display"),1))),o.options.textNearImage||a.removeClass("fr-dii").addClass("fr-dib"),0===a.parents(".f-img-editor").length&&!a.hasClass("fr-fil")&&!a.hasClass("fr-fir")&&!a.hasClass("fr-fin"))if(a.hasClass("fr-dii"))a.addClass("right"==a.css("float")?"fr-fir":"left"==a.css("float")?"fr-fil":"fr-fin");else{var s=a.attr("style");a.hide(),a.addClass(0===parseInt(a.css("margin-right"),10)&&s?"fr-fir":0===parseInt(a.css("margin-left"),10)&&s?"fr-fil":"fr-fin"),a.show()}a.css("margin",""),a.css("float",""),a.css("display",""),a.removeAttr("data-style")}),void 0===e)for(var r=0;r<this.imageList.length;r++)i.indexOf(this.imageList[r].attr("src"))<0&&this.triggerEvent("afterRemoveImage",[this.imageList[r]],!1);this.imageList=n}},t.Editable.prototype.insertImage=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("insertImage")),this.selectionInEditor()&&this.saveSelection(),this.showInsertImage(),this.imageMode=!1,this.$image_wrapper.find('input[type="text"]').val("")}}(jQuery),function(t){t.Editable.prototype.showLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.show(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList"),this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode||!this.options.linkText?this.$link_wrapper.find('input[type="text"].f-lt').parent().addClass("fr-hidden"):this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden"),this.imageMode&&this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.phone()?this.$document.scrollTop(this.$link_wrapper.offset().top+30):setTimeout(t.proxy(function(){this.imageMode&&this.iPad()||this.$link_wrapper.find('input[type="text"].f-lu').focus().select()},this),0),this.link=!0),this.refreshDisabledState()},t.Editable.prototype.hideLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.hide(),this.$link_wrapper.find("input").blur()),this.refreshDisabledState()},t.Editable.prototype.showInsertLink=function(){this.hidePopups(),this.showLinkWrapper()},t.Editable.prototype.updateLinkValues=function(e){var i=e.attr("href")||"http://";this.$link_wrapper.find("input.f-lt").val(e.text()),this.isLink?("#"==i&&(i=""),this.$link_wrapper.find("input#f-lu-"+this._id).val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i||"#")):(this.$link_wrapper.find("input.f-lu").val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i)),this.$link_wrapper.find("input.f-target").prop("checked","_blank"==e.attr("target")),this.$link_wrapper.find("li.f-choose-link-class").each(t.proxy(function(i,n){e.hasClass(t(n).data("class"))&&t(n).click()},this));for(var n in this.options.linkAttributes){var o=e.attr(n);this.$link_wrapper.find("input.fl-"+n).val(o?o:"")}this.$link_wrapper.find("a.f-external-link, button.f-unlink").show()},t.Editable.prototype.initLinkEvents=function(){var e=this,i=function(t){t.stopPropagation(),t.preventDefault()},n=function(i){return i.stopPropagation(),i.preventDefault(),e.isDisabled?!1:""!==e.text()?(e.hide(),!1):(e.link=!0,e.clearSelection(),e.removeMarkers(),e.selectionDisabled||(t(this).before('<span class="f-marker" data-type="true" data-id="0" data-fr-verified="true"></span>'),t(this).after('<span class="f-marker" data-type="false" data-id="0" data-fr-verified="true"></span>'),e.restoreSelectionByMarkers()),e.exec("createLink"),e.updateLinkValues(t(this)),e.showByCoordinates(t(this).offset().left+t(this).outerWidth()/2,t(this).offset().top+(parseInt(t(this).css("padding-top"),10)||0)+t(this).height()),e.showInsertLink(),t(this).hasClass("fr-file")?e.$link_wrapper.find("input.f-lu").attr("disabled","disabled"):e.$link_wrapper.find("input.f-lu").removeAttr("disabled"),void e.closeImageMode())};this.$element.on("mousedown","a",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.isLink?this.iOS()?(this.$element.on("touchstart",i),this.$element.on("touchend",n)):this.$element.on("click",n):this.iOS()?(this.$element.on("touchstart",'a:not([contenteditable="false"])',i),this.$element.on("touchend",'a:not([contenteditable="false"])',n),this.$element.on("touchstart",'a[contenteditable="false"]',i),this.$element.on("touchend",'a[contenteditable="false"]',i)):(this.$element.on("click",'a:not([contenteditable="false"])',n),this.$element.on("click",'a[contenteditable="false"]',i))},t.Editable.prototype.destroyLink=function(){this.$link_wrapper.html("").removeData().remove()},t.Editable.prototype.initLink=function(){this.buildCreateLink(),this.initLinkEvents(),this.addListener("destroy",this.destroyLink)},t.Editable.initializers.push(t.Editable.prototype.initLink),t.Editable.prototype.removeLink=function(){this.imageMode?("A"==this.$element.find(".f-img-editor").parent().get(0).tagName&&t(this.$element.find(".f-img-editor").get(0)).unwrap(),this.triggerEvent("imageLinkRemoved"),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1):(this.restoreSelection(),this.document.execCommand("unlink",!1,null),this.isLink||this.$element.find("a:empty").remove(),this.triggerEvent("linkRemoved"),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1)},t.Editable.prototype.writeLink=function(e,i,n,o,r){var a,s=this.options.noFollow;this.options.alwaysBlank&&(o=!0);var l,d="",h="",p="";s===!0&&/^https?:\/\//.test(e)&&(d='rel="nofollow"'),o===!0&&(h='target="_blank"');for(l in r)p+=" "+l+'="'+r[l]+'"';var c=e;if(e=this.sanitizeURL(e),this.options.convertMailAddresses){var u=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/i;u.test(e)&&0!==e.indexOf("mailto:")&&(e="mailto:"+e)}if(0===e.indexOf("mailto:")||""===this.options.linkAutoPrefix||/^(https?:|ftps?:|)\/\//.test(e)||(e=this.options.linkAutoPrefix+e),""===e)return this.$link_wrapper.find("input.f-lu").addClass("fr-error").focus(),this.triggerEvent("badLink",[c],!1),!1;if(this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode){if("A"!=this.$element.find(".f-img-editor").parent().get(0).tagName)this.$element.find(".f-img-editor").wrap('<a data-fr-link="true" href="'+e+'" '+h+" "+d+p+"></a>");else{var f=this.$element.find(".f-img-editor").parent();o===!0?f.attr("target","_blank"):f.removeAttr("target"),s===!0?f.attr("rel","nofollow"):f.removeAttr("rel");for(l in r)r[l]?f.attr(l,r[l]):f.removeAttr(l);f.removeClass(Object.keys(this.options.linkClasses).join(" ")),f.attr("href",e).addClass(n)}this.triggerEvent("imageLinkInserted",[e]),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1}else{var m=null;this.isLink?""===i&&(i=this.$element.text()):(this.restoreSelection(),a=this.getSelectionLinks(),a.length>0&&(m=a[0].attributes,is_file=t(a[0]).hasClass("fr-file")),this.saveSelectionByMarkers(),this.document.execCommand("unlink",!1,e),this.$element.find('span[data-fr-link="true"]').each(function(e,i){t(i).replaceWith(t(i).html())}),this.restoreSelectionByMarkers()),this.isLink?(this.$element.text(i),a=[this.$element.attr("href",e).get(0)]):(this.removeMarkers(),(this.options.linkText||""===this.text())&&(this.insertHTML('<span class="f-marker" data-fr-verified="true" data-id="0" data-type="true"></span>'+(i||this.clean(c))+'<span class="f-marker" data-fr-verified="true" data-id="0" data-type="false"></span>'),this.restoreSelectionByMarkers()),this.document.execCommand("createLink",!1,e),a=this.getSelectionLinks());for(var g=0;g<a.length;g++){if(m)for(var v=0;v<m.length;v++)"href"!=m[v].nodeName&&t(a[g]).attr(m[v].nodeName,m[v].value);o===!0?t(a[g]).attr("target","_blank"):t(a[g]).removeAttr("target"),s===!0&&/^https?:\/\//.test(e)?t(a[g]).attr("rel","nofollow"):t(a[g]).removeAttr("rel"),t(a[g]).data("fr-link",!0),t(a[g]).removeClass(Object.keys(this.options.linkClasses).join(" ")),t(a[g]).addClass(n);for(l in r)r[l]?t(a[g]).attr(l,r[l]):t(a[g]).removeAttr(l)}this.$element.find("a:empty").remove(),this.triggerEvent("linkInserted",[e]),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1}},t.Editable.prototype.createLinkHTML=function(){var t='<div class="froala-popup froala-link-popup" style="display: none;">';t+='<h4><span data-text="true">Insert Link</span><a target="_blank" title="Open Link" class="f-external-link" href="#"><i class="fa fa-external-link"></i></a><i title="Cancel" class="fa fa-times" id="f-link-close-'+this._id+'"></i></h4>',t+='<div class="f-popup-line fr-hidden"><input type="text" placeholder="Text" class="f-lt" id="f-lt-'+this._id+'"></div>';var e="";if(this.options.linkList.length&&(e="f-bi"),t+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu '+e+'" id="f-lu-'+this._id+'"/>',this.options.linkList.length){t+='<button class="fr-p-bttn f-browse-links" id="f-browse-links-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',t+='<ul id="f-link-list-'+this._id+'">';for(var i=0;i<this.options.linkList.length;i++){var n=this.options.linkList[i],o="";for(var r in n)o+=" data-"+r+'="'+n[r]+'"';t+='<li class="f-choose-link"'+o+">"+n.body+"</li>"}t+="</ul>"}if(t+="</div>",Object.keys(this.options.linkClasses).length){t+='<div class="f-popup-line"><input type="text" placeholder="Choose link type" class="f-bi" id="f-luc-'+this._id+'" disabled="disabled"/>',t+='<button class="fr-p-bttn f-browse-links" id="f-links-class-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',t+='<ul id="f-link-class-list-'+this._id+'">';for(var a in this.options.linkClasses){var s=this.options.linkClasses[a];t+='<li class="f-choose-link-class" data-class="'+a+'">'+s+"</li>"}t+="</ul>",t+="</div>"}for(var l in this.options.linkAttributes){var d=this.options.linkAttributes[l];t+='<div class="f-popup-line"><input class="fl-'+l+'" type="text" placeholder="'+d+'" id="fl-'+l+"-"+this._id+'"/></div>'}return t+='<div class="f-popup-line"><input type="checkbox" class="f-target" id="f-target-'+this._id+'"> <label data-text="true" for="f-target-'+this._id+'">Open in new tab</label><button data-text="true" type="button" class="fr-p-bttn f-ok f-submit" id="f-ok-'+this._id+'">OK</button>',this.options.unlinkButton&&(t+='<button type="button" data-text="true" class="fr-p-bttn f-ok f-unlink" id="f-unlink-'+this._id+'">UNLINK</button>'),t+="</div></div>"},t.Editable.prototype.buildCreateLink=function(){this.$link_wrapper=t(this.createLinkHTML()),this.$popup_editor.append(this.$link_wrapper);var e=this;this.addListener("hidePopups",this.hideLinkWrapper),this.$link_wrapper.on("mouseup touchend",t.proxy(function(t){this.isResizing()||(t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"))},this)),this.$link_wrapper.on("click",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","*",function(t){t.stopPropagation()}),this.options.linkText&&this.$link_wrapper.on("mouseup keydown","input#f-lt-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("mouseup keydown touchend touchstart","input#f-lu-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click keydown","input#f-target-"+this._id,function(t){var e=t.which;e&&27===e||t.stopPropagation()}),this.$link_wrapper.on("touchend","button#f-ok-"+this._id,function(t){t.stopPropagation()}).on("click","button#f-ok-"+this._id,t.proxy(function(){var t,e=this.$link_wrapper.find("input#f-lt-"+this._id),i=this.$link_wrapper.find("input#f-lu-"+this._id),n=this.$link_wrapper.find("input#f-luc-"+this._id),o=this.$link_wrapper.find("input#f-target-"+this._id);t=e?e.val():"";var r=i.val();this.isLink&&""===r&&(r="#");var a="";n&&(a=n.data("class"));var s={};for(var l in this.options.linkAttributes)s[l]=this.$link_wrapper.find("input#fl-"+l+"-"+this._id).val();this.writeLink(r,t,a,o.prop("checked"),s)},this)),this.$link_wrapper.on("click touch","button#f-unlink-"+this._id,t.proxy(function(){this.link=!0,this.removeLink()},this)),this.options.linkList.length&&(this.$link_wrapper.on("click touch","li.f-choose-link",function(){e.resetLinkValues();var i=e.$link_wrapper.find("button#f-browse-links-"+e._id),n=e.$link_wrapper.find("input#f-lt-"+e._id),o=e.$link_wrapper.find("input#f-lu-"+e._id),r=e.$link_wrapper.find("input#f-target-"+e._id);n&&n.val(t(this).data("body")),o.val(t(this).data("href")),r.prop("checked",t(this).data("blank"));for(var a in e.options.linkAttributes)t(this).data(a)&&e.$link_wrapper.find("input#fl-"+a+"-"+e._id).val(t(this).data(a));i.click()}).on("mouseup","li.f-choose-link",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(i){i.stopPropagation();var n=e.$link_wrapper.find("ul#f-link-list-"+e._id);e.$link_wrapper.trigger("hideLinkClassList"),t(this).find("i").toggleClass("fa-chevron-down"),t(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(t){t.stopPropagation()}),this.$link_wrapper.bind("hideLinkList",function(){var t=e.$link_wrapper.find("ul#f-link-list-"+e._id),i=e.$link_wrapper.find("button#f-browse-links-"+e._id);t&&t.is(":visible")&&i.click()})),Object.keys(this.options.linkClasses).length&&(this.$link_wrapper.on("mouseup keydown","input#f-luc-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click touch","li.f-choose-link-class",function(){var i=e.$link_wrapper.find("input#f-luc-"+e._id);i.val(t(this).text()),i.data("class",t(this).data("class")),e.$link_wrapper.trigger("hideLinkClassList")}).on("mouseup","li.f-choose-link-class",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","button#f-links-class-"+this._id,function(i){i.stopPropagation(),e.$link_wrapper.trigger("hideLinkList");var n=e.$link_wrapper.find("ul#f-link-class-list-"+e._id);t(this).find("i").toggleClass("fa-chevron-down"),t(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-links-class-"+this._id,function(t){t.stopPropagation()}),this.$link_wrapper.bind("hideLinkClassList",function(){var t=e.$link_wrapper.find("ul#f-link-class-list-"+e._id),i=e.$link_wrapper.find("button#f-links-class-"+e._id);t&&t.is(":visible")&&i.click()})),this.$link_wrapper.on(this.mouseup,"i#f-link-close-"+this._id,t.proxy(function(){this.$bttn_wrapper.show(),this.hideLinkWrapper(),(!this.options.inlineMode&&!this.imageMode||this.isLink||0===this.options.buttons.length)&&this.hide(),this.imageMode?this.showImageEditor():(this.restoreSelection(),this.focus())},this))},t.Editable.prototype.getSelectionLinks=function(){var t,e,i,n,o=[];if(this.window.getSelection){var r=this.window.getSelection();if(r.getRangeAt&&r.rangeCount){n=this.document.createRange();for(var a=0;a<r.rangeCount;++a)if(t=r.getRangeAt(a),e=t.commonAncestorContainer,e&&1!=e.nodeType&&(e=e.parentNode),e&&"a"==e.nodeName.toLowerCase())o.push(e);else{i=e.getElementsByTagName("a");for(var s=0;s<i.length;++s)n.selectNodeContents(i[s]),n.compareBoundaryPoints(t.END_TO_START,t)<1&&n.compareBoundaryPoints(t.START_TO_END,t)>-1&&o.push(i[s])}}}else if(this.document.selection&&"Control"!=this.document.selection.type)if(t=this.document.selection.createRange(),e=t.parentElement(),"a"==e.nodeName.toLowerCase())o.push(e);else{i=e.getElementsByTagName("a"),n=this.document.body.createTextRange();for(var l=0;l<i.length;++l)n.moveToElementText(i[l]),n.compareEndPoints("StartToEnd",t)>-1&&n.compareEndPoints("EndToStart",t)<1&&o.push(i[l])}return o},t.Editable.prototype.resetLinkValues=function(){this.$link_wrapper.find("input").val(""),this.$link_wrapper.find('input[type="checkbox"].f-target').prop("checked",this.options.alwaysBlank),this.$link_wrapper.find('input[type="text"].f-lt').val(this.text()),this.$link_wrapper.find('input[type="text"].f-lu').val("http://"),this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.$link_wrapper.find("a.f-external-link, button.f-unlink").hide();for(var t in this.options.linkAttributes)this.$link_wrapper.find('input[type="text"].fl-'+t).val("")},t.Editable.prototype.insertLink=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("createLink")),this.selectionInEditor()&&this.saveSelection(),this.showInsertLink();var e=this.getSelectionLinks();e.length>0?this.updateLinkValues(t(e[0])):this.resetLinkValues()}}(jQuery),function(t){t.Editable.prototype.browserFixes=function(){this.backspaceEmpty(),this.backspaceInEmptyBlock(),this.fixHR(),this.domInsert(),this.fixIME(),this.cleanInvisibleSpace(),this.cleanBR(),this.insertSpace()},t.Editable.prototype.backspaceInEmptyBlock=function(){this.$element.on("keyup",t.proxy(function(e){var i=e.which;if(this.browser.mozilla&&!this.isHTML&&8==i){var n=t(this.getSelectionElement());this.valid_nodes.indexOf(n.get(0).tagName)>=0&&1==n.find("*").length&&""===n.text()&&1==n.find("br").length&&this.setSelection(n.get(0))}},this))},t.Editable.prototype.insertSpace=function(){this.browser.mozilla&&this.$element.on("keypress",t.proxy(function(t){var e=t.which,i=this.getSelectionElements()[0];this.isHTML||32!=e||"PRE"==i.tagName||(t.preventDefault(),this.insertSimpleHTML("&nbsp;"))},this))},t.Editable.prototype.cleanBR=function(){this.$element.on("keyup",t.proxy(function(){
this.$element.find(this.valid_nodes.join(",")).each(t.proxy(function(e,i){if(["TH","TD","LI"].indexOf(i.tagName)>=0)return!0;var n=i.childNodes,o=null;if(!n.length||"BR"!=n[n.length-1].tagName)return!0;o=n[n.length-1];var r=o.previousSibling;r&&"BR"!=r.tagName&&t(o).parent().text().length>0&&this.valid_nodes.indexOf(r.tagName)<0&&t(o).remove()},this))},this))},t.Editable.prototype.replaceU200B=function(e){for(var i=0;i<e.length;i++)3==e[i].nodeType&&/\u200B/gi.test(e[i].textContent)?e[i].textContent=e[i].textContent.replace(/\u200B/gi,""):1==e[i].nodeType&&this.replaceU200B(t(e[i]).contents())},t.Editable.prototype.cleanInvisibleSpace=function(){var e=function(e){var i=t(e).text();return e&&/\u200B/.test(t(e).text())&&i.replace(/\u200B/gi,"").length>0?!0:!1};this.$element.on("keyup",t.proxy(function(){var i=this.getSelectionElement();e(i)&&0===t(i).find("li").length&&(this.saveSelectionByMarkers(),this.replaceU200B(t(i).contents()),this.restoreSelectionByMarkers())},this))},t.Editable.prototype.fixHR=function(){this.$element.on("keypress",t.proxy(function(e){var i=t(this.getSelectionElement());if(i.is("hr")||i.parents("hr").length)return!1;var n=e.which;if(8==n){var o=t(this.getSelectionElements()[0]);o.prev().is("hr")&&this.getSelectionTextInfo(o.get(0)).atStart&&(this.saveSelectionByMarkers(),o.prev().remove(),this.restoreSelectionByMarkers(),e.preventDefault())}},this))},t.Editable.prototype.backspaceEmpty=function(){this.$element.on("keydown",t.proxy(function(t){var e=t.which;!this.isHTML&&8==e&&this.$element.hasClass("f-placeholder")&&t.preventDefault()},this))},t.Editable.prototype.domInsert=function(){this.$element.on("keydown",t.proxy(function(t){var e=t.which;13===e&&(this.add_br=!0)},this)),this.$element.on("DOMNodeInserted",t.proxy(function(e){if("SPAN"!==e.target.tagName||t(e.target).attr("data-fr-verified")||this.no_verify||this.textEmpty(e.target)||t(e.target).replaceWith(t(e.target).contents()),"BR"===e.target.tagName&&setTimeout(function(){t(e.target).removeAttr("type")},0),"A"===e.target.tagName&&setTimeout(function(){t(e.target).removeAttr("_moz_dirty")},0),this.options.paragraphy&&this.add_br&&"BR"===e.target.tagName&&(t(e.target).prev().length&&"TABLE"===t(e.target).prev().get(0).tagName||t(e.target).next().length&&"TABLE"===t(e.target).next().get(0).tagName)){t(e.target).wrap('<p class="fr-p-wrap">');var i=this.$element.find("p.fr-p-wrap").removeAttr("class");this.setSelection(i.get(0))}"BR"===e.target.tagName&&this.isLastSibling(e.target)&&"LI"==e.target.parentNode.tagName&&this.textEmpty(e.target.parentNode)&&t(e.target).remove()},this)),this.$element.on("keyup",t.proxy(function(t){var e=t.which;8===e&&this.$element.find("span:not([data-fr-verified])").attr("data-fr-verified",!0),13===e&&(this.add_br=!1)},this))},t.Editable.prototype.fixIME=function(){try{this.$element.get(0).msGetInputContext&&(this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowShow",t.proxy(function(){this.ime=!0},this)),this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowHide",t.proxy(function(){this.ime=!1,this.$element.trigger("keydown"),this.oldHTML=""},this)))}catch(e){}}}(jQuery),function(t){t.Editable.prototype.handleEnter=function(){var e=t.proxy(function(){var e=this.getSelectionElement();return"LI"==e.tagName||this.parents(t(e),"li").length>0?!0:!1},this);this.$element.on("keypress",t.proxy(function(t){if(!this.isHTML&&!e()){var i=t.which;if(13==i&&!t.shiftKey){t.preventDefault(),this.saveUndoStep(),this.insertSimpleHTML("<break></break>");var n=this.getSelectionElements();if(n[0]==this.$element.get(0)?this.enterInMainElement(n[0]):this.enterInElement(n[0]),this.getSelectionTextInfo(this.$element.get(0)).atEnd)this.$wrapper.scrollTop(this.$element.height());else{var o=this.getBoundingRect();this.$wrapper.offset().top+this.$wrapper.height()<o.top+o.height&&this.$wrapper.scrollTop(o.top+this.$wrapper.scrollTop()-(this.$wrapper.height()+this.$wrapper.offset().top)+o.height+10)}}}},this))},t.Editable.prototype.enterInMainElement=function(e){var i=t(e).find("break").get(0);if(t(i).parent().get(0)==e)this.isLastSibling(i)?this.insertSimpleHTML("</br>"+this.markers_html+this.br):t(e).hasClass("f-placeholder")?t(e).html("</br>"+this.markers_html+this.br):this.insertSimpleHTML("</br>"+this.markers_html),t(e).find("break").remove(),this.restoreSelectionByMarkers();else if(t(i).parents(this.$element).length){for(e=this.getSelectionElement();"BREAK"==e.tagName||0===t(e).text().length&&e.parentNode!=this.$element.get(0);)e=e.parentNode;if(this.getSelectionTextInfo(e).atEnd)t(e).after(this.breakEnd(this.getDeepParent(e),!0)),this.$element.find("break").remove(),this.restoreSelectionByMarkers();else if(this.getSelectionTextInfo(e).atStart){for(;i.parentNode!=this.$element.get(0);)i=i.parentNode;t(i).before("<br/>"),this.$element.find("break").remove(),this.$element.find("a:empty").replaceWith(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()}else this.breakMiddle(this.getDeepParent(e),!0),this.restoreSelectionByMarkers()}else t(i).remove()},t.Editable.prototype.enterInElement=function(e){if(["TD","TH"].indexOf(e.tagName)<0){var i=!1;if(this.emptyElement(e)&&e.parentNode&&"BLOCKQUOTE"==e.parentNode.tagName){t(e).before(this.$element.find("break"));var n=e;e=e.parentNode,t(n).remove(),i=!0}this.getSelectionTextInfo(e).atEnd?(t(e).after(this.breakEnd(e),!1),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):this.getSelectionTextInfo(e).atStart?(this.options.paragraphy?i?(t(e).before("<"+this.options.defaultTag+">"+this.markers_html+this.br+"</"+this.options.defaultTag+">"),this.restoreSelectionByMarkers()):t(e).before("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"):i?(t(e).before(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()):t(e).before("<br/>"),this.$element.find("break").remove()):"PRE"==e.tagName?(this.$element.find("break").after("<br/>"+this.markers_html),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):(this.breakMiddle(e,!1,i),this.restoreSelectionByMarkers())}else this.enterInMainElement(e)},t.Editable.prototype.breakEnd=function(e,i){if(void 0===i&&(i=!1),"BLOCKQUOTE"==e.tagName){var n=t(e).contents();n.length&&"BR"==n[n.length-1].tagName&&t(n[n.length-1]).remove()}var o=t(e).find("break").get(0),r=this.br;this.options.paragraphy||(r="<br/>");var a=this.markers_html+r;for(i&&(a=this.markers_html+t.Editable.INVISIBLE_SPACE);o!=e;)"A"!=o.tagName&&"BREAK"!=o.tagName&&(a="<"+o.tagName+this.attrs(o)+">"+a+"</"+o.tagName+">"),o=o.parentNode;return i&&"A"!=o.tagName&&"BREAK"!=o.tagName&&(a="<"+o.tagName+this.attrs(o)+">"+a+"</"+o.tagName+">"),this.options.paragraphy&&(a="<"+this.options.defaultTag+">"+a+"</"+this.options.defaultTag+">"),i&&(a=r+a),a},t.Editable.prototype.breakMiddle=function(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var o=t(e).find("break").get(0),r=this.markers_html;n&&(r="");for(var a="";o!=e;)o=o.parentNode,a=a+"</"+o.tagName+">",r="<"+o.tagName+this.attrs(o)+">"+r;var s="";n&&(s=this.options.paragraphy?"<"+this.options.defaultTag+">"+this.markers_html+"<br/></"+this.options.defaultTag+">":this.markers_html+"<br/>");var l="<"+e.tagName+this.attrs(e)+">"+t(e).html()+"</"+e.tagName+">";l=l.replace(/<break><\/break>/,a+(i?this.br:"")+s+r),t(e).replaceWith(l)}}(jQuery),function(t){t.Editable.prototype.isFirstSibling=function(t){var e=t.previousSibling;return e?3==e.nodeType&&""===e.textContent?this.isFirstSibling(e):!1:!0},t.Editable.prototype.isLastSibling=function(t){var e=t.nextSibling;return e?3==e.nodeType&&""===e.textContent?this.isLastSibling(e):!1:!0},t.Editable.prototype.getDeepParent=function(t){return t.parentNode==this.$element.get(0)?t:this.getDeepParent(t.parentNode)},t.Editable.prototype.attrs=function(t){for(var e="",i=t.attributes,n=0;n<i.length;n++){var o=i[n];e+=" "+o.nodeName+'="'+o.value+'"'}return e}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){function i(t){function e(){n?(i(),O(e),o=!0,n=!1):o=!1}var i=t,n=!1,o=!1;this.kick=function(){n=!0,o||e()},this.end=function(t){var e=i;t&&(o?(i=n?function(){e(),t()}:t,n=!0):t())}}function n(){return!0}function o(){return!1}function r(t){t.preventDefault()}function a(t){H[t.target.tagName.toLowerCase()]||t.preventDefault()}function s(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}function l(t,e){var i,n;if(t.identifiedTouch)return t.identifiedTouch(e);for(i=-1,n=t.length;++i<n;)if(t[i].identifier===e)return t[i]}function d(t,e){var i=l(t.changedTouches,e.identifier);return!i||i.pageX===e.pageX&&i.pageY===e.pageY?void 0:i}function h(t){var e;s(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},R(document,F.move,p,e),R(document,F.cancel,c,e))}function p(t){var e=t.data;b(t,e,t,u)}function c(){u()}function u(){B(document,F.move,p),B(document,F.cancel,c)}function f(t){var e,i;H[t.target.tagName.toLowerCase()]||(e=t.changedTouches[0],i={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},R(document,j.move+"."+e.identifier,m,i),R(document,j.cancel+"."+e.identifier,g,i))}function m(t){var e=t.data,i=d(t,e);i&&b(t,e,i,v)}function g(t){var e=t.data,i=l(t.changedTouches,e.identifier);i&&v(e.identifier)}function v(t){B(document,"."+t,m),B(document,"."+t,g)}function b(t,e,i,n){var o=i.pageX-e.startX,r=i.pageY-e.startY;M*M>o*o+r*r||E(t,e,i,o,r,n)}function y(){return this._handled=n,!1}function w(t){try{t._handled()}catch(e){return!1}}function E(t,e,i,n,o,r){var a,s;e.target,a=t.targetTouches,s=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=n,e.distY=o,e.deltaX=n,e.deltaY=o,e.pageX=i.pageX,e.pageY=i.pageY,e.velocityX=n/s,e.velocityY=o/s,e.targetTouches=a,e.finger=a?a.length:1,e._handled=y,e._preventTouchmoveDefault=function(){t.preventDefault()},P(e.target,e),r(e.identifier)}function x(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function k(t){var e=t.data.event,i=t.data.timer;$(),L(e,i,function(){setTimeout(function(){B(e.target,"click",o)},0)})}function $(){B(document,F.move,x),B(document,F.end,k)}function T(t){var e=t.data.event,i=t.data.timer,n=d(t,e);n&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=n,t.data.timeStamp=t.timeStamp,i.kick())}function S(t){var e=t.data.event,i=t.data.timer,n=l(t.changedTouches,e.identifier);n&&(C(e),L(e,i))}function C(t){B(document,"."+t.identifier,T),B(document,"."+t.identifier,S)}function _(t,e,i){var n=i-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/n,t.velocityY=.3*t.velocityY+.7*t.deltaY/n,t.pageX=e.pageX,t.pageY=e.pageY}function L(t,e,i){e.end(function(){return t.type="moveend",P(t.target,t),i&&i()})}function I(){return R(this,"movestart.move",w),!0}function N(){return B(this,"dragstart drag",r),B(this,"mousedown touchstart",a),B(this,"movestart",w),!0}function A(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(R(this,"dragstart."+t.guid+" drag."+t.guid,r,e,t.selector),R(this,"mousedown."+t.guid,a,e,t.selector))}function D(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(B(this,"dragstart."+t.guid+" drag."+t.guid),B(this,"mousedown."+t.guid))}var M=6,R=t.event.add,B=t.event.remove,P=function(e,i,n){t.event.trigger(i,n,e)},O=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(function(){t()},25)}}(),H={textarea:!0,input:!0,select:!0,button:!0},F={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},j={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:I,teardown:N,add:A,remove:D,_default:function(t){function n(){_(r,a.touch,a.timeStamp),P(t.target,r)}var r,a;t._handled()&&(r={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},a={event:r,timer:new i(n),touch:e,timeStamp:e},t.identifier===e?(R(t.target,"click",o),R(document,F.move,x,a),R(document,F.end,k,a)):(t._preventTouchmoveDefault(),R(document,j.move+"."+t.identifier,T,a),R(document,j.end+"."+t.identifier,S,a)))}},t.event.special.move={setup:function(){R(this,"movestart.move",t.noop)},teardown:function(){B(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){R(this,"movestart.moveend",t.noop)},teardown:function(){B(this,"movestart.moveend",t.noop)}},R(document,"mousedown.move",h),R(document,"touchstart.move",f),"function"==typeof Array.prototype.indexOf&&!function(t){for(var e=["changedTouches","targetTouches"],i=e.length;i--;)-1===t.event.props.indexOf(e[i])&&t.event.props.push(e[i])}(t)}),window.WYSIWYGModernizr=function(t,e,i){function n(t){u.cssText=t}function o(t,e){return typeof t===e}var r,a,s,l="2.7.1",d={},h=e.documentElement,p="modernizr",c=e.createElement(p),u=c.style,f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),m={},g=[],v=g.slice,b=function(t,i,n,o){var r,a,s,l,d=e.createElement("div"),c=e.body,u=c||e.createElement("body");if(parseInt(n,10))for(;n--;)s=e.createElement("div"),s.id=o?o[n]:p+(n+1),d.appendChild(s);return r=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),d.id=p,(c?d:u).innerHTML+=r,u.appendChild(d),c||(u.style.background="",u.style.overflow="hidden",l=h.style.overflow,h.style.overflow="hidden",h.appendChild(u)),a=i(d,t),c?d.parentNode.removeChild(d):(u.parentNode.removeChild(u),h.style.overflow=l),!!a},y=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e).matches;var n;return b("@media "+e+" { #"+p+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},w={}.hasOwnProperty;s=o(w,"undefined")||o(w.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return w.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=v.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=e.prototype;var r=new o,a=e.apply(r,i.concat(v.call(arguments)));return Object(a)===a?a:r}return e.apply(t,i.concat(v.call(arguments)))};return n}),m.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:b(["@media (",f.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i};for(var E in m)s(m,E)&&(a=E.toLowerCase(),d[a]=m[E](),g.push((d[a]?"":"no-")+a));return d.addTest=function(t,e){if("object"==typeof t)for(var n in t)s(t,n)&&d.addTest(n,t[n]);else{if(t=t.toLowerCase(),d[t]!==i)return d;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(h.className+=" "+(e?"":"no-")+t),d[t]=e}return d},n(""),c=r=null,d._version=l,d._prefixes=f,d.mq=y,d.testStyles=b,d}(this,document),!function(t){t.Editable.prototype.coreInit=function(){var t=this,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=function(t){for(var e=t.toString(),i=0,n=0;n<e.length;n++)i+=parseInt(e.charAt(n),10);return i>10?i%9+1:i};if(t.options.key!==!1){var n=function(t,e,i){for(var n=Math.abs(i);n-->0;)t-=e;return 0>i&&(t+=123),t},o=function(t){return t},r=function(t){if(!t)return t;for(var r="",a=o("charCodeAt"),s=o("fromCharCode"),l=e.indexOf(t[0]),d=1;d<t.length-2;d++){for(var h=i(++l),p=t[a](d),c="";/[0-9-]/.test(t[d+1]);)c+=t[++d];c=parseInt(c,10)||0,p=n(p,h,c),p^=l-1&31,r+=String[s](p)}return r},a=o(r),s=function(t){return"none"==t.css("display")?(t.attr("style",t.attr("style")+a("zD4D2qJ-7dhuB-11bB4E1wqlhlfE4gjhkbB6C5eg1C-8h1besB-16e1==")),!0):!1},l=function(){for(var t=0,e=document.domain,i=e.split("."),n="_gd"+(new Date).getTime();t<i.length-1&&-1==document.cookie.indexOf(n+"="+n);)e=i.slice(-1-++t).join("."),document.cookie=n+"="+n+";domain="+e+";";return document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+e+";",e}(),d=function(){var e=a(t.options.key)||"";return e!==a("eQZMe1NJGC1HTMVANU==")&&e.indexOf(l,e.length-l.length)<0&&[a("9qqG-7amjlwq=="),a("KA3B3C2A6D1D5H5H1A3==")].indexOf(l)<0?(t.$box.append(a("uA5kygD3g1h1lzrA7E2jtotjvooB2A5eguhdC-22C-16nC2B3lh1deA-21C-16B4A2B4gi1F4D1wyA-13jA4H5C2rA-65A1C10dhzmoyJ2A10A-21d1B-13xvC2I4enC4C2B5B4G4G4H1H4A10aA8jqacD1C3c1B-16D-13A-13B2E5A4jtxfB-13fA1pewxvzA3E-11qrB4E4qwB-16icA1B3ykohde1hF4A2E4clA4C7E6haA4D1xtmolf1F-10A1H4lhkagoD5naalB-22B8B4quvB-8pjvouxB3A-9plnpA2B6D6BD2D1C2H1C3C3A4mf1G-10C-8i1G3C5B3pqB-9E5B1oyejA3ddalvdrnggE3C3bbj1jC6B3D3gugqrlD8B2DB-9qC-7qkA10D2VjiodmgynhA4HA-9D-8pI-7rD4PrE-11lvhE3B5A-16C7A6A3ekuD1==")),t.$lb=t.$box.find("> div:last"),t.$ab=t.$lb.find("> a"),s(t.$lb)||s(t.$ab)):void 0};d()}},t.Editable.initializers.push(t.Editable.prototype.coreInit)}(jQuery),function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{allowedBlankTags:["TEXTAREA"],selfClosingTags:["br","input","img","hr","param","!--","source","embed","!","meta","link","base"],doNotJoinTags:["a"],iconClasses:["fa-"]}),t.Editable.prototype.isClosingTag=function(t){return t?null!==t.match(/^<\/([a-zA-Z0-9]+)([^<]+)*>$/gi):!1},t.Editable.prototype.tagName=function(t){return t.replace(/^<\/?([a-zA-Z0-9-!]+)([^>]+)*>$/gi,"$1").toLowerCase()},t.Editable.SELF_CLOSING_AFTER=["source"],t.Editable.prototype.isSelfClosingTag=function(t){var e=this.tagName(t);return this.options.selfClosingTags.indexOf(e.toLowerCase())>=0},t.Editable.prototype.tagKey=function(t){return t.type+(t.attrs||[]).sort().join("|")},t.Editable.prototype.extendedKey=function(t){return this.tagKey(t)+JSON.stringify(t.style)},t.Editable.prototype.mapDOM=function(e){var i=[],n={},o={},r=0,a=this;t(e).find(".f-marker").html(t.Editable.INVISIBLE_SPACE);var s=function(e,i){if(3===e.nodeType)return[];if(8===e.nodeType)return[{comment:!0,attrs:{},styles:{},idx:r++,sp:i,ep:i,text:e.textContent}];var n=e.tagName;"B"==n&&(n="STRONG"),"I"!=n||e.className&&null!=e.className.match(new RegExp(a.options.iconClasses.join("|"),"gi"))||(n="EM");var o={},s={},l=null;if(e.attributes)for(var d=0;d<e.attributes.length;d++){var h=e.attributes[d];"style"==h.nodeName?l=h.value:o[h.nodeName]=h.value}if(l){var p=l.match(/([^:]*):([^:;]*(;|$))/gi);if(p)for(var c=0;c<p.length;c++){var u=p[c].split(":"),f=u.slice(1).join(":").trim();";"==f[f.length-1]&&(f=f.substr(0,f.length-1)),s[u[0].trim()]=f}}var m=[];if(t.isEmptyObject(o)&&"SPAN"==e.tagName&&!t.isEmptyObject(s)){for(var g in s){var v={};v[g]=s[g],m.push({selfClosing:!1,attrs:o,styles:v,idx:r++,sp:i,ep:i+e.textContent.length,tagName:n,noJoin:e.nextSibling&&"BR"===e.nextSibling.tagName})}return m}return[{selfClosing:a.options.selfClosingTags.indexOf(n.toLowerCase())>=0,attrs:o,styles:s,idx:r++,sp:i,ep:i+e.textContent.length,tagName:n,noJoin:e.nextSibling&&"BR"===e.nextSibling.tagName}]},l=function(t,a){var d,h,p;if(t!=e)for(h=s(t,a),d=0;d<h.length;d++)p=h[d],i.push(p),n[p.sp]||(n[p.sp]={}),o[p.ep]||(o[p.ep]={}),n[p.sp][p.tagName]||(n[p.sp][p.tagName]=[]),o[p.ep][p.tagName]||(o[p.ep][p.tagName]=[]),n[p.sp][p.tagName].push(p),o[p.ep][p.tagName].push(p);var c=t.childNodes;if(c){for(d=0;d<c.length;d++)d>0&&8!=c[d-1].nodeType&&(a+=c[d-1].textContent.length),l(c[d],a);if(h)for(d=0;d<h.length;d++)p=h[d],p.ci=r++,n[p.ep]||(n[p.ep]={}),n[p.ep][p.tagName]||(n[p.ep][p.tagName]=[]),n[p.ep][p.tagName].push({shadow:!0,ci:r-1})}},d=function(){var e,o,r,s;for(e in n)for(var l in n[e])for(r=0;r<n[e][l].length;r++)if(o=n[e][l][r],!o.selfClosing&&!(o.dirty||o.shadow||o.comment||o.noJoin))for(var d=r+1;d<n[e][l].length;d++)if(s=n[e][l][d],!s.selfClosing&&!(s.dirty||s.shadow||s.comment||s.noJoin||1!=Object.keys(o.styles).length||1!=Object.keys(s.styles).length||s.sp==s.ep)){var h=Object.keys(o.styles)[0];if(s.styles[h]){o.sp=s.ep;for(var p=0;p<n[o.sp][o.tagName].length;p++){var c=n[o.sp][o.tagName][p];if(c.shadow&&c.ci==s.ci){n[o.sp][o.tagName].splice(p,0,o);break}}n[e][l].splice(r,1),r--;break}}for(e=0;e<i.length;e++)if(o=i[e],!(o.dirty||o.selfClosing||o.comment||o.noJoin||o.shadow||a.options.doNotJoinTags.indexOf(o.tagName.toLowerCase())>=0||!t.isEmptyObject(o.attrs)))if(o.sp==o.ep&&t.isEmptyObject(o.attrs)&&t.isEmptyObject(o.styles)&&a.options.allowedBlankTags.indexOf(o.tagName)<0)o.dirty=!0;else if(n[o.ep]&&n[o.ep][o.tagName])for(r=0;r<n[o.ep][o.tagName].length;r++)if(s=n[o.ep][o.tagName][r],o!=s&&!(s.dirty||s.selfClosing||s.shadow||s.comment||s.noJoin||!t.isEmptyObject(s.attrs)||JSON.stringify(s.styles)!=JSON.stringify(o.styles))){o.ep<s.ep&&(o.ep=s.ep),o.sp>s.sp&&(o.sp=s.sp),s.dirty=!0,e--;break}for(e=0;e<i.length;e++)if(o=i[e],!(o.dirty||o.selfClosing||o.comment||o.noJoin||o.shadow||!t.isEmptyObject(o.attrs)))if(o.sp==o.ep&&t.isEmptyObject(o.attrs)&&t.isEmptyObject(o.style)&&a.options.allowedBlankTags.indexOf(o.tagName)<0)o.dirty=!0;else if(n[o.sp]&&n[o.sp][o.tagName])for(r=n[o.sp][o.tagName].length-1;r>=0;r--)s=n[o.sp][o.tagName][r],o!=s&&(s.dirty||s.selfClosing||s.shadow||s.comment||s.noJoin||o.ep==s.ep&&t.isEmptyObject(s.attrs)&&(o.styles=t.extend(o.styles,s.styles),s.dirty=!0))};l(e,0),d();for(var h=i.length-1;h>=0;h--)i.dirty&&i.splice(h,1);return i},t.Editable.prototype.sortNodes=function(t,e){if(t.comment)return 1;if(t.selfClosing||e.selfClosing)return t.idx-e.idx;var i=t.ep-t.sp,n=e.ep-e.sp;return 0===i&&0===n?t.idx-e.idx:i===n?e.ci-t.ci:n-i},t.Editable.prototype.openTag=function(t){var e,i="<"+t.tagName.toLowerCase(),n=Object.keys(t.attrs).sort();for(e=0;e<n.length;e++){var o=n[e];i+=" "+o+'="'+t.attrs[o]+'"'}var r="",a=Object.keys(t.styles).sort();for(e=0;e<a.length;e++){var s=a[e];null!=t.styles[s]&&(r+=s.replace("_","-")+": "+t.styles[s]+"; ")}return""!==r&&(i+=' style="'+r.trim()+'"'),i+=">"},t.Editable.prototype.commentTag=function(t){var e="";if(t.selfClosing){var i;e="<"+t.tagName.toLowerCase();var n=Object.keys(t.attrs).sort();for(i=0;i<n.length;i++){var o=n[i];e+=" "+o+'="'+t.attrs[o]+'"'}var r="",a=Object.keys(t.styles).sort();for(i=0;i<a.length;i++){var s=a[i];null!=t.styles[s]&&(r+=s.replace("_","-")+": "+t.styles[s]+"; ")}""!==r&&(e+=' style="'+r.trim()+'"'),e+="/>"}else t.comment&&(e="<!--"+t.text+"-->");return e},t.Editable.prototype.closeTag=function(t){return"</"+t.tagName.toLowerCase()+">"},t.Editable.prototype.nodesOpenedAt=function(t,e){for(var i=[],n=t.length-1;n>=0&&t[n].sp==e;)i.push(t.pop()),n--;return i},t.Editable.prototype.entity=function(t){return ch_map={">":"&gt;","<":"&lt;","&":"&amp;"},ch_map[t]?ch_map[t]:t},t.Editable.prototype.removeInvisibleWhitespace=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];i.childNodes.length?this.removeInvisibleWhitespace(i):i.textContent=i.textContent.replace(/\u200B/gi,"")}},t.Editable.prototype.cleanOutput=function(e,i){var n,o,r,a;i&&this.removeInvisibleWhitespace(e);var s=this.mapDOM(e,i).sort(function(t,e){return e.sp-t.sp}),l=e.textContent;html="";var d=[],h=-1,p=t.proxy(function(){var e="";for(simple_nodes_to_close=[],d=d.sort(function(t,e){return t.idx-e.idx}).reverse();d.length;){for(var i=d.pop();simple_nodes_to_close.length&&simple_nodes_to_close[simple_nodes_to_close.length-1].ci<i.ci;)e+=this.closeTag(simple_nodes_to_close.pop());i.selfClosing||i.comment?e+=this.commentTag(i):(!t.isEmptyObject(i.attrs)||this.options.allowedBlankTags.indexOf(i.tagName)>=0)&&(e+=this.openTag(i),simple_nodes_to_close.push(i))}for(;simple_nodes_to_close.length;)e+=this.closeTag(simple_nodes_to_close.pop());html+=e},this),c={},u=[];for(n=0;n<=l.length;n++){if(c[n])for(o=c[n].length-1;o>=0;o--)if(u.length&&u[u.length-1].tagName==c[n][o].tagName&&JSON.stringify(u[u.length-1].styles)==JSON.stringify(c[n][o].styles))html+=this.closeTag(c[n][o]),u.pop();else{for(var f=[];u.length&&(u[u.length-1].tagName!==c[n][o].tagName||JSON.stringify(u[u.length-1].styles)!==JSON.stringify(c[n][o].styles));)a=u.pop(),html+=this.closeTag(a),f.push(a);for(html+=this.closeTag(c[n][o]),u.pop();f.length;){var m=f.pop();html+=this.openTag(m),u.push(m)}}for(var g=this.nodesOpenedAt(s,n).sort(this.sortNodes).reverse();g.length;){var v=g.pop();if(!v.dirty)if(v.selfClosing||v.comment)v.ci>h||"BR"==v.tagName?(p(),html+=this.commentTag(v),h=v.ci):d.length?(d.push(v),h<v.ci&&(h=v.ci)):(html+=this.commentTag(v),h<v.ci&&(h=v.ci));else if(v.ep>v.sp){v.ci>h&&p();var b=[];if("A"==v.tagName)for(var y=v.sp+1;y<v.ep;y++)if(c[y]&&c[y].length)for(r=0;r<c[y].length;r++)b.push(c[y][r]),html+=this.closeTag(c[y][r]),u.pop();var w=[];if("SPAN"==v.tagName&&("#123456"==v.styles["background-color"]||"#123456"===t.Editable.RGBToHex(v.styles["background-color"])||"#123456"==v.styles.color||"#123456"===t.Editable.RGBToHex(v.styles.color)))for(;u.length;){var E=u.pop();html+=this.closeTag(E),w.push(E)}for(html+=this.openTag(v),h<v.ci&&(h=v.ci),u.push(v),c[v.ep]||(c[v.ep]=[]),c[v.ep].push(v);b.length;)v=b.pop(),html+=this.openTag(v),u.push(v);for(;w.length;)v=w.pop(),html+=this.openTag(v),u.push(v)}else v.sp==v.ep&&(d.push(v),h<v.ci&&(h=v.ci))}p(),n!=l.length&&(html+=this.entity(l[n]))}return html=html.replace(/(<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>)\u200B(<\/span>)/gi,"$1$2"),html},t.Editable.prototype.wrapDirectContent=function(){var e=t.merge(["UL","OL","TABLE"],this.valid_nodes);if(!this.options.paragraphy)for(var i=null,n=this.$element.contents(),o=0;o<n.length;o++)1!=n[o].nodeType||e.indexOf(n[o].tagName)<0?(i||(i=t('<div class="fr-wrap">'),t(n[o]).before(i)),i.append(n[o])):i=null},t.Editable.prototype.cleanify=function(e,i,n){if(this.browser.msie&&t.Editable.getIEversion()<9)return!1;var o;if(this.isHTML)return!1;void 0===e&&(e=!0),void 0===n&&(n=!0),this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),n&&this.saveSelectionByMarkers(),e?o=this.getSelectionElements():(this.wrapDirectContent(),o=this.$element.find(this.valid_nodes.join(",")),0===o.length&&(o=[this.$element.get(0)]));var r,a;if(o[0]!=this.$element.get(0))for(var s=0;s<o.length;s++){var l=t(o[s]);0===l.find(this.valid_nodes.join(",")).length&&(r=l.html(),a=this.cleanOutput(l.get(0),i),a!==r&&l.html(a))}else 0===this.$element.find(this.valid_nodes.join(",")).length&&(r=this.$element.html(),a=this.cleanOutput(this.$element.get(0),i),a!==r&&this.$element.html(a));this.$element.find("[data-fr-idx]").removeAttr("data-fr-idx"),this.$element.find(".fr-wrap").each(function(){t(this).replaceWith(t(this).html())}),this.$element.find(".f-marker").html(""),n&&this.restoreSelectionByMarkers(),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.prototype.refreshBlockStyles=function(){var e=this.getSelectionElements()[0],i=e.tagName.toLowerCase();this.$bttn_wrapper.find(".fr-block-style").empty();var n=this.options.blockStyles[i];if(void 0===n&&(n=this.options.defaultBlockStyle),void 0!==n){this.$bttn_wrapper.find('.fr-dropdown > button[data-name="blockStyle"].fr-trigger').removeAttr("disabled");for(var o in n){var r=n[o],a="";t(e).hasClass(o)&&(a=' class="active"'),this.$bttn_wrapper.find(".fr-block-style").append(t("<li"+a+">").append(t('<a href="#" data-text="true">').text(r).addClass(o)).attr("data-cmd","blockStyle").attr("data-val",o))}}},t.Editable.commands=t.extend(t.Editable.commands,{blockStyle:{title:"Block Style",icon:"fa fa-magic",refreshOnShow:t.Editable.prototype.refreshBlockStyles,callback:function(t,e,i){this.blockStyle(e,i)},undo:!0}}),t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{defaultBlockStyle:{"f-italic":"Italic","f-typewriter":"Typewriter","f-spaced":"Spaced","f-uppercase":"Uppercase"},blockStylesToggle:!0,blockStyles:{}}),t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{blockStyle:function(t){var e=this.buildDropdownBlockStyle(t),i=this.buildDropdownButton(t,e);return i}}),t.Editable.prototype.buildDropdownBlockStyle=function(){var t='<ul class="fr-dropdown-menu fr-block-style">';return t+="</ul>"},t.Editable.prototype.blockStyle=function(e){this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var i=this.getSelectionElements()[0].tagName;this.saveSelectionByMarkers();for(var n=this.getSelectionElements(),o=0;o<n.length;o++){var r=n[o];r!=this.$element.get(0)&&r.tagName==i&&(t(r).find(n).length>0||(t(r).hasClass(e)?(t(r).removeClass(e),""===t(r).attr("class")&&t(r).removeAttr("class")):(this.options.blockStylesToggle&&t(r).removeAttr("class"),t(r).addClass(e))))}this.cleanupLists(),this.restoreSelectionByMarkers(),this.triggerEvent("blockStyle")}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{colors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorGroups:[{text:"Text",cmd:"foreColor"},{text:"Background",cmd:"backColor"}],defaultColorGroup:"foreColor"}),t.Editable.prototype.refreshColors=function(){var t=this.getSelectionElement();this.$editor.find(".fr-color-picker button.fr-color-bttn").removeClass("active"),this.refreshColor(t,"background-color","backColor"),this.refreshColor(t,"color","foreColor")},t.Editable.prototype.refreshColor=function(e,i,n){for(;t(e).get(0)!=this.$element.get(0);){if("transparent"!==t(e).css(i)&&"rgba(0, 0, 0, 0)"!==t(e).css(i)){this.$editor.find('.fr-color-picker button.fr-color-bttn[data-param="'+n+'"][data-val="'+t.Editable.RGBToHex(t(e).css(i))+'"]').addClass("active");break}e=t(e).parent()}},t.Editable.commands=t.extend(t.Editable.commands,{color:{icon:"fa fa-tint",title:"Color",refreshOnShow:t.Editable.prototype.refreshColors,callback:function(t,e,i){this[i].apply(this,[e])},callbackWithoutSelection:function(e,i,n){"backColor"===n&&(n="background-color"),"foreColor"===n&&(n="color"),this._startInFontExec(n,e,i),"#123456"===i&&""===this.text()&&(this.cleanify(!0,!1),this.$element.find("span").each(function(e,i){var n=t(i),o=n.css("background-color");("#123456"===o||"#123456"===t.Editable.RGBToHex(o))&&n.css("background-color",""),o=n.css("color"),("#123456"===o||"#123456"===t.Editable.RGBToHex(o))&&n.css("color","")}))},undo:!0}}),t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{color:function(t){var e=this.buildDropdownColor(t),i=this.buildDropdownButton(t,e,"fr-color-picker");return i}}),t.Editable.prototype.buildColorList=function(t,e){for(var i=this.options.defaultColorGroup==t?"block":"none",n='<div class="fr-color-set fr-'+t+'" style="display: '+i+'">',o=0;o<e.length;o++){var r=e[o];n+="REMOVE"!==r?'<button type="button" class="fr-color-bttn" data-val="'+r+'" data-cmd="color" data-param="'+t+'" style="background: '+r+';">&nbsp;</button>':'<button type="button" class="fr-color-bttn" data-val="#123456" data-cmd="color" data-param="'+t+'" style="background: #FFF;"><i class="fa fa-eraser"></i></button>',o%this.options.colorsStep==this.options.colorsStep-1&&o>0&&(n+="<hr/>",o!=this.options.colorsStep-1&&o!=2*this.options.colorsStep-1||!this.options.colorsTopChoices||(n+='<div class="separator"></div>'))}return n+="</div>"},t.Editable.prototype.buildDropdownColor=function(){for(var e="",i='<div class="fr-dropdown-menu">',n=0;n<this.options.colorGroups.length;n++)i+=this.buildColorList(this.options.colorGroups[n].cmd,this.options.colorGroups[n].colors||this.options.colors);for(i+="<p>",n=0;n<this.options.colorGroups.length;n++)e=this.options.defaultColorGroup==this.options.colorGroups[n].cmd?"active":"",i+='<span class="fr-choose-color '+e+'" data-text="true" data-param="'+this.options.colorGroups[n].cmd+'" style="width: '+100/this.options.colorGroups.length+'%;">'+this.options.colorGroups[n].text+"</span>";i+="</p></div>",this.$bttn_wrapper.on(this.mousedown,".fr-choose-color",function(t){return t.preventDefault(),t.stopPropagation(),"mousedown"===t.type&&1!==t.which?!0:void 0});var o=this;return this.$bttn_wrapper.on(this.mouseup,".fr-choose-color",function(e){if(e.preventDefault(),e.stopPropagation(),"mouseup"===e.type&&1!==e.which)return!0;var i=t(this);i.siblings().removeClass("active"),i.addClass("active"),i.parents(".fr-dropdown-menu").find("button").attr("data-param",i.attr("data-param")),i.parents(".fr-dropdown-menu").find(".fr-color-set").hide(),i.parents(".fr-dropdown-menu").find(".fr-color-set.fr-"+i.attr("data-param")).show(),o.refreshColors()}),i},t.Editable.prototype.backColor=function(e){this.inlineStyle("background-color","backColor",e),this.saveSelectionByMarkers(),this.$element.find("span").each(function(e,i){var n=t(i),o=n.css("background-color");("#123456"===o||"#123456"===t.Editable.RGBToHex(o))&&(n.css("background-color",""),n.find("span").each(function(e,i){var n=t(i);n.css("background-color",""),""!==n.attr("style")||n.hasClass("f-marker")||n.replaceWith(n.contents())})),""!==n.attr("style")||n.hasClass("f-marker")||n.replaceWith(n.contents())}),this.restoreSelectionByMarkers(),this.cleanify();var i=this.$editor.find('button.fr-color-bttn[data-cmd="backColor"][data-val="'+e+'"]');i.addClass("active"),i.siblings().removeClass("active")},t.Editable.prototype.foreColor=function(e){this.inlineStyle("color","foreColor",e),this.saveSelectionByMarkers(),this.$element.find("span").each(function(e,i){var n=t(i),o=n.css("color");("#123456"===o||"#123456"===t.Editable.RGBToHex(o))&&(n.css("color",""),n.find("span").each(function(e,i){var n=t(i);n.css("color",""),""!==n.attr("style")||n.hasClass("f-marker")||n.replaceWith(n.contents())})),""!==n.attr("style")||n.hasClass("f-marker")||n.replaceWith(n.contents())}),this.restoreSelectionByMarkers(),this.cleanify();var i=this.$editor.find('button.fr-color-bttn[data-cmd="foreColor"][data-val="'+e+'"]');i.addClass("active"),i.siblings().removeClass("active")}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{mediaManager:!0,imagesLoadURL:"http://i.froala.com/images",imagesLoadParams:{}}),t.Editable.prototype.showMediaManager=function(){this.$image_modal.show(),this.$overlay.show(),this.loadImages(),this.$document.find("body").css("overflow","hidden")},t.Editable.prototype.hideMediaManager=function(){this.$image_modal.hide(),this.$overlay.hide(),this.$document.find("body").css("overflow","")},t.Editable.prototype.mediaModalHTML=function(){var t='<div class="froala-modal"><div class="f-modal-wrapper"><h4><span data-text="true">Manage images</span><i title="Cancel" class="fa fa-times" id="f-modal-close-'+this._id+'"></i></h4>';return t+='<img class="f-preloader" id="f-preloader-'+this._id+'" alt="Loading..." src="'+this.options.preloaderSrc+'" style="display: none;">',t+=WYSIWYGModernizr.touch?'<div class="f-image-list f-touch" id="f-image-list-'+this._id+'"></div>':'<div class="f-image-list" id="f-image-list-'+this._id+'"></div>',t+="</div></div>"},t.Editable.prototype.buildMediaManager=function(){this.$image_modal=t(this.mediaModalHTML()).appendTo("body"),this.$preloader=this.$image_modal.find("#f-preloader-"+this._id),this.$media_images=this.$image_modal.find("#f-image-list-"+this._id),this.$overlay=t('<div class="froala-overlay">').appendTo("body"),this.$overlay.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$image_modal.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$image_modal.find("i#f-modal-close-"+this._id).click(t.proxy(function(){this.hideMediaManager()},this)),this.$media_images.on(this.mouseup,"img",t.proxy(function(e){e.stopPropagation();var i=e.currentTarget;this.writeImage(t(i).attr("src")),this.hideMediaManager()},this)),this.$media_images.on(this.mouseup,".f-delete-img",t.proxy(function(e){e.stopPropagation();var i=t(e.currentTarget).prev(),n="Are you sure? Image will be deleted.";t.Editable.LANGS[this.options.language]&&(n=t.Editable.LANGS[this.options.language].translation[n]),confirm(n)&&this.triggerEvent("beforeDeleteImage",[t(i)],!1)!==!1&&(t(i).parent().addClass("f-img-deleting"),this.deleteImage(t(i)))},this)),this.options.mediaManager&&(this.$image_wrapper.on("click","#f-browser-"+this._id,t.proxy(function(){this.showMediaManager()},this)).on("click","#f-browser-"+this._id+" i",t.proxy(function(){this.showMediaManager()},this)),this.$image_wrapper.find("#f-browser-"+this._id).show()),this.hideMediaManager()},t.Editable.prototype.destroyMediaManager=function(){this.hideMediaManager(),this.$overlay.html("").removeData().remove(),this.$image_modal.html("").removeData().remove()},t.Editable.prototype.initMediaManager=function(){return this.options.mediaManager?(this.buildMediaManager(),void this.addListener("destroy",this.destroyMediaManager)):!1},t.Editable.initializers.push(t.Editable.prototype.initMediaManager),t.Editable.prototype.processLoadedImages=function(t){try{if(t.error)this.throwImagesLoadErrorWithMessage(t.error);else{this.$media_images.empty();for(var e=0;e<t.length;e++)t[e].src?this.loadImage(t[e].src,t[e].info):this.loadImage(t[e])}}catch(i){this.throwLoadImagesError(4)}},t.Editable.prototype.throwImagesLoadErrorWithMessage=function(t){this.triggerEvent("imagesLoadError",[{message:t,code:0}],!1),this.hideImageLoader()},t.Editable.prototype.loadImages=function(){this.$preloader.show(),this.$media_images.empty(),this.options.imagesLoadURL?(t.support.cors=!0,t.getJSON(this.options.imagesLoadURL,this.options.imagesLoadParams,t.proxy(function(t){this.triggerEvent("imagesLoaded",[t],!1),this.processLoadedImages(t),this.$preloader.hide()},this)).fail(t.proxy(function(){this.throwLoadImagesError(2)},this))):this.throwLoadImagesError(3)},t.Editable.prototype.throwLoadImagesError=function(t){void 0===t&&(t=-1);var e="Unknown image upload error.";1==t?e="Bad link.":2==t?e="Error during request.":3==t?e="Missing imagesLoadURL option.":4==t&&(e="Parsing response failed."),this.triggerEvent("imagesLoadError",[{code:t,message:e}],!1),this.$preloader.hide()},t.Editable.prototype.loadImage=function(e,i){var n=new Image,o=t("<div>").addClass("f-empty");n.onload=t.proxy(function(){var n="Delete";t.Editable.LANGS[this.options.language]&&(n=t.Editable.LANGS[this.options.language].translation[n]);var r=t('<img src="'+e+'"/>');for(var a in i)r.attr("data-"+a,i[a]);o.append(r).append('<a class="f-delete-img"><span data-text="true">'+n+"</span></a>"),o.removeClass("f-empty"),this.$media_images.hide(),this.$media_images.show(),this.triggerEvent("imageLoaded",[e],!1)},this),n.onerror=t.proxy(function(){o.remove(),this.throwLoadImagesError(1)},this),n.src=e,this.$media_images.append(o)}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.commands=t.extend(t.Editable.commands,{table:{title:"Table",icon:"fa fa-table",callback:function(t,e,i){this.table_commands[e]?this.table_commands[e].apply(this,[e,i]):this.table_commands.insertTable.apply(this,[e,i]),this.cleanupTables()}}}),t.Editable.DEFAULTS.buttons[t.Editable.DEFAULTS.buttons.indexOf("insertHorizontalRule")]="table",t.Editable.prototype.table_commands={insertTable:function(t,e){this.insertTable(t,e)},insertRowAbove:function(){this.insertRow("above")},insertRowBelow:function(){this.insertRow("below")},insertColumnBefore:function(){this.insertColumn("before")},insertColumnAfter:function(){this.insertColumn("after")},deleteColumn:function(){this.deleteColumn()},deleteRow:function(){this.deleteRow()},insertCellBefore:function(){this.insertCell("before")},insertCellAfter:function(){this.insertCell("after")},mergeCells:function(){this.mergeCells()},deleteCell:function(){this.deleteCell()},splitVertical:function(){this.splitVertical()},splitHorizontal:function(){this.splitHorizontal()},insertHeader:function(){this.insertHeader()},deleteHeader:function(){this.deleteHeader()},deleteTable:function(){this.deleteTable()}},t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{table:function(t){var e=this.buildDropdownTable(),i=this.buildDropdownButton(t,e,"fr-table");return this.bindTableDropdownEvents(),i}}),t.Editable.prototype.tableTab=function(){var e;this.currentCell&&(e=this.currentCell());var i=t(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:e&&this.nextCell()?(this.setSelection(this.nextCell()),!1):void 0},t.Editable.prototype.tableShiftTab=function(){var e;this.currentCell&&(e=this.currentCell());var i=t(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:e&&this.prevCell()?(this.setSelection(this.prevCell()),!1):void 0},t.Editable.prototype.initTable=function(){var e=this;this.$editor.on("click mouseup touch touchend",".fr-table a",function(i){i.preventDefault(),i.stopPropagation(),e.android()&&(t(this).parent().siblings().removeClass("hover"),t(this).parent().addClass("hover"))}),this.addListener("tab",this.tableTab),this.addListener("shift+tab",this.tableShiftTab)},t.Editable.initializers.push(t.Editable.prototype.initTable),t.Editable.prototype.buildDropdownTable=function(){var t='<ul class="fr-dropdown-menu fr-table">';t+='<li> <a href="#"><span data-text="true">Insert table</span> <i class="fa fa-chevron-right"></i></a><div class="select-table"> ',t+='<div class="fr-t-info">1 x 1</div>';for(var e=1;10>=e;e++){for(var i=1;10>=i;i++){var n="inline-block";(e>5||i>5)&&(n="none");var o="fr-bttn ";1==e&&1==i&&(o+=" hover"),t+='<span class="'+o+'" data-cmd="table" data-val="'+e+'" data-param="'+i+'" style="display: '+n+';"><span></span></span>'}t+='<div class="new-line"></div>'}return t+="</div> </li>",t+='<li><a href="#"><span data-text="true">Cell</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertCellBefore"><a href="#" data-text="true">Insert cell before</a></li><li data-cmd="table" data-val="insertCellAfter"><a href="#" data-text="true">Insert cell after</a></li><li data-cmd="table" data-val="deleteCell"><a href="#" data-text="true">Delete cell</a></li><li data-cmd="table" data-val="mergeCells"><a href="#" data-text="true">Merge cells</a></li><li data-cmd="table" data-val="splitHorizontal"><a href="#" data-text="true">Horizontal split</a></li><li data-cmd="table" data-val="splitVertical"><a href="#" data-text="true">Vertical split</a></li></ul></li>',t+='<li><a href="#"><span data-text="true">Row</span> <i class="fa fa-chevron-right"></i></a> <ul><li data-cmd="table" data-val="insertRowAbove"><a href="#" data-text="true">Insert row above</a></li><li data-cmd="table" data-val="insertRowBelow"><a href="#" data-text="true">Insert row below</a></li><li data-cmd="table" data-val="deleteRow"><a href="#" data-text="true">Delete row</a></li></ul></li>',t+='<li><a href="#"><span data-text="true">Column</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertColumnBefore"><a href="#" data-text="true">Insert column before</a></li> <li data-cmd="table" data-val="insertColumnAfter"><a href="#" data-text="true">Insert column after</a></li> <li data-cmd="table" data-val="deleteColumn"><a href="#" data-text="true">Delete column</a></li> </ul></li>',t+='<li data-cmd="table" data-val="deleteTable"><a href="#" data-text="true">Delete table</a></li>',t+="</ul>"},t.Editable.prototype.bindTableDropdownEvents=function(){var e=this;this.$bttn_wrapper.on("mouseenter",".fr-table .select-table > span",function(){var i=t(this).data("val"),n=t(this).data("param");e.$bttn_wrapper.find(".fr-table .select-table .fr-t-info").text(i+" x "+n),e.$bttn_wrapper.find(".fr-table .select-table > span").removeClass("hover");for(var o=1;10>=o;o++)for(var r=0;10>=r;r++){var a=e.$bttn_wrapper.find('.fr-table .select-table > span[data-val="'+o+'"][data-param="'+r+'"]');i>=o&&n>=r?a.addClass("hover"):(i+1>=o||5>=o)&&(n+1>=r||5>=r)?a.css("display","inline-block"):(o>5||r>5)&&a.css("display","none")}}),this.$bttn_wrapper.on("mouseleave",".fr-table .select-table",function(){e.$bttn_wrapper.find('.fr-table .select-table > span[data-val="1"][data-param="1"]').trigger("mouseenter")}),this.android()&&this.$bttn_wrapper.on("touchend",".fr-table .fr-trigger",function(){t(this).parents(".fr-table").find(".hover").removeClass("hover")})},t.Editable.prototype.tableMap=function(){var e=this.currentTable(),i=[];return e&&e.find("tr:not(:empty)").each(function(e,n){var o=t(n),r=0;o.find("th, td").each(function(n,o){for(var a=t(o),s=parseInt(a.attr("colspan"),10)||1,l=parseInt(a.attr("rowspan"),10)||1,d=e;e+l>d;d++)for(var h=r;r+s>h;h++)i[d]||(i[d]=[]),i[d][h]?r++:i[d][h]=o;r+=s})}),i},t.Editable.prototype.cellOrigin=function(t,e){for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++)if(e[i][n]==t)return{row:i,col:n}},t.Editable.prototype.canMergeCells=function(){var e=this.getSelectionCells();if(e.length<2)return!1;for(var i=this.tableMap(),n=0,o=32e3,r=0,a=32e3,s=0,l=0;l<e.length;l++){var d=t(e[l]),h=parseInt(d.attr("colspan"),10)||1,p=parseInt(d.attr("rowspan"),10)||1,c=this.cellOrigin(e[l],i);n+=h*p,o=Math.min(o,c.col),r=Math.max(r,c.col+h),a=Math.min(a,c.row),s=Math.max(s,c.row+p)}return n==(r-o)*(s-a)?{row:a,col:o,colspan:r-o,rowspan:s-a,map:i,cells:e}:null},t.Editable.prototype.getSelectionCells=function(){var e,i=[];if(this.browser.webkit||this.browser.msie){var n=this.getSelectionElements();for(e=0;e<n.length;e++)("TD"==n[e].tagName||"TH"==n[e].tagName)&&i.push(n[e])}else{var o=this.getRanges();for(e=0;e<o.length;e++){var r=o[e],a=!1;if("TD"==r.startContainer.tagName||"TH"==r.startContainer.tagName)i.push(r.startContainer),a=!0;else{var s=r.startContainer.childNodes,l=r.startOffset;if(s.length>l&&l>=0){var d=s[l];("TD"==d.tagName||"TH"==d.tagName)&&(i.push(d),a=!0)}}if(a===!1){var h=t(r.startContainer).parents("td:first, th:first");h.length>0&&i.push(h.get(0))}}}return i},t.Editable.prototype.currentCell=function(){var t=this.getSelectionCells();return t.length>0?t[0]:null},t.Editable.prototype.prevCell=function(){var e=this.currentCell();if(e){if(t(e).prev("td").length)return t(e).prev("td").get(0);if(t(e).parent().prev("tr").find("td").length)return t(e).parent().prev("tr").find("td:last").get(0)}return null},t.Editable.prototype.nextCell=function(){var e=this.currentCell();if(e){if(t(e).next("td").length)return t(e).next("td").get(0);if(t(e).parent().next("tr").find("td").length)return t(e).parent().next("tr").find("td").get(0)}return null},t.Editable.prototype.currentTable=function(){for(var e=t(this.getSelectionElement());e.get(0)!=this.$element.get(0)&&e.get(0)!=this.$document.find("body").get(0)&&"TABLE"!=e.get(0).tagName;)e=e.parent();return e.get(0)!=this.$element.get(0)?e:null},t.Editable.prototype.focusOnTable=function(){var t=this.currentTable();if(t){var e=t.find("td:first");this.setSelection(e.get(0))}},t.Editable.prototype.insertCell=function(e){for(var i=this.getSelectionCells(),n=0;n<i.length;n++){var o=t(i[n]);"before"==e?o.before(o.clone().removeAttr("colspan").removeAttr("rowspan").html(t.Editable.INVISIBLE_SPACE)):"after"==e&&o.after(o.clone().removeAttr("colspan").removeAttr("rowspan").html(t.Editable.INVISIBLE_SPACE))}"before"==e?this.triggerEvent("cellInsertedBefore"):"after"==e&&this.triggerEvent("cellInsertedAfter")},t.Editable.prototype.mergeCells=function(){var e=this.canMergeCells();if(e){var i=t(e.map[e.row][e.col]);i.attr("colspan",e.colspan),i.attr("rowspan",e.rowspan);for(var n=0;n<e.cells.length;n++){var o=e.cells[n];if(i.get(0)!=o){var r=t(o);i.append(r.html()),r.remove()}}this.setSelection(i.get(0))}this.hide(),this.triggerEvent("cellsMerged")},t.Editable.prototype.deleteCell=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]);n.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("cellDeleted")},t.Editable.prototype.insertHeader=function(){var t=this.currentTable();t&&t.find(" > thead").length>0&&this.triggerEvent("headerInserted")},t.Editable.prototype.deleteHeader=function(){},t.Editable.prototype.insertColumn=function(e){var i=this.currentCell();if(i)for(var n=t(i),o=this.tableMap(),r=this.cellOrigin(n.get(0),o),a=0;a<o.length;a++){var s=o[a][r.col],l=parseInt(t(s).attr("colspan"),10)||1,d=parseInt(t(s).attr("rowspan"),10)||1;if("before"==e){var h=o[a][r.col-1];h?h==s?t(h).attr("colspan",l+1):d>1?t(h).after("<"+h.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+h.tagName+">"):t(s).before("<"+s.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+s.tagName+">"):t(s).before("<"+s.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+s.tagName+">")}else if("after"==e){var p=o[a][r.col+1];p?p==s?t(p).attr("colspan",l+1):d>1?t(p).before("<"+p.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+p.tagName+">"):t(s).after("<"+s.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+s.tagName+">"):t(s).after("<"+s.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+s.tagName+">")}}this.hide(),"before"==e?this.triggerEvent("columnInsertedBefore"):"after"==e&&this.triggerEvent("columnInsertedAfter")},t.Editable.prototype.deleteColumn=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++)for(var n=t(e[i]),o=this.tableMap(),r=this.cellOrigin(n.get(0),o),a=0;a<o.length;a++){var s=o[a][r.col],l=parseInt(t(s).attr("colspan"),10)||1;1==l?t(s).remove():t(s).attr("colspan",l-1)}this.focusOnTable(),this.hide(),this.triggerEvent("columnDeleted")},t.Editable.prototype.insertRow=function(e){var i,n=this.currentCell();if(n){var o=t(n),r=this.tableMap(),a=this.cellOrigin(o.get(0),r),s=0,l=null;for(i=0;i<r[a.row].length;i++){var d=r[a.row][i],h=parseInt(t(d).attr("rowspan"),10)||1;if("above"==e)if(0===a.row)s++;else{var p=r[a.row-1][i];p==d&&l!=d?t(d).attr("rowspan",h+1):s++}else if("below"==e)if(a.row==r.length-1)s++;else{var c=r[a.row+1][i];c==d&&l!=d?t(d).attr("rowspan",h+1):s++}l=r[a.row][i]}var u="<tr>";for(i=0;s>i;i++)u+="<td>"+t.Editable.INVISIBLE_SPACE+"</td>";u+="</tr>","below"==e?o.closest("tr").after(u):"above"==e&&o.closest("tr").before(u)}this.hide(),"below"==e?this.triggerEvent("rowInsertedBelow"):"above"==e&&this.triggerEvent("rowInsertedAbove")},t.Editable.prototype.deleteRow=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]),o=this.tableMap(),r=this.cellOrigin(n.get(0),o),a=n.parents("tr:first");if(r)for(var s=0;s<o[r.row].length;s++){var l=o[r.row][s],d=parseInt(t(l).attr("rowspan"),10)||1;if(1==d)t(l).remove();else{var h=this.cellOrigin(l,o);if(t(l).attr("rowspan",d-1),h.row==r.row){var p=o[r.row+1];p&&p[s-1]&&(t(p[s-1]).after(t(l).clone()),t(l).remove())}}}a.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("rowDeleted")},t.Editable.prototype.splitVertical=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]),o=this.tableMap(),r=this.cellOrigin(n.get(0),o),a=parseInt(n.attr("colspan"),10)||1,s=parseInt(n.attr("rowspan"),10)||1;if(s>1){var l=Math.floor(s/2),d=r.row+(s-l),h=o[d][r.col-1];h||(h=o[d][r.col+a]),h?t(h).before(n.clone().attr("rowspan",l).html(t.Editable.INVISIBLE_SPACE)):n.parents("tr:first").after(t("<tr>").append(n.clone().attr("rowspan",l).html(t.Editable.INVISIBLE_SPACE))),n.attr("rowspan",s-l)}else{for(var p=t("<tr>").append(n.clone().html(t.Editable.INVISIBLE_SPACE)),c=null,u=0;u<o[r.row].length;u++){var f=o[r.row][u],m=parseInt(t(f).attr("rowspan"),10)||1;c!=f&&f!=n.get(0)&&t(f).attr("rowspan",m+1),c=f}n.parents("tr:first").after(p)}}this.hide(),this.triggerEvent("cellVerticalSplit")},t.Editable.prototype.splitHorizontal=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]),o=this.tableMap(),r=this.cellOrigin(n.get(0),o),a=parseInt(n.attr("colspan"),10)||1;if(a>1){var s=Math.floor(a/2);n.after(n.clone().attr("colspan",s).html(t.Editable.INVISIBLE_SPACE)),n.attr("colspan",a-s)}else{for(var l=null,d=0;d<o.length;d++){var h=o[d][r.col],p=parseInt(t(h).attr("colspan"),10)||1;l!=h&&h!=n.get(0)&&t(h).attr("colspan",p+1),l=h}n.after(n.clone().html(t.Editable.INVISIBLE_SPACE))}}this.hide(),this.triggerEvent("cellHorizontalSplit")},t.Editable.prototype.insertTable=function(e,i){for(var n='<table data-last-table="true" width="100%">',o=0;e>o;o++){n+="<tr>";for(var r=0;i>r;r++)n+="<td>"+t.Editable.INVISIBLE_SPACE+"</td>";n+="</tr>"}n+="</table>",this.focus();var a=this.getSelectionElement();this.breakHTML(n,this.parents(t(a),"li").length<0);var s=this.$element.find('table[data-last-table="true"]');s.removeAttr("data-last-table"),this.setSelection(s.find("td:first").get(0)),this.hide(),this.triggerEvent("tableInserted")},t.Editable.prototype.deleteTable=function(){var t=this.currentTable();t&&(t.remove(),this.focus(),this.hide(),this.triggerEvent("tableDeleted"))},t.Editable.prototype.cleanupTables=function(){this.$element.find('td[colspan="1"], th[colspan="1"]').each(function(){t(this).removeAttr("colspan")}),this.$element.find('td[rowspan="1"], th[rowspan="1"]').each(function(){t(this).removeAttr("rowspan")})}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{videoAllowedAttrs:["src","width","height","frameborder","allowfullscreen","webkitallowfullscreen","mozallowfullscreen","href","target","id","controls","value","name"],videoAllowedTags:["iframe","object","param","video","source","embed"],defaultVideoAlignment:"center",textNearVideo:!0}),t.Editable.VIDEO_PROVIDERS=[{test_regex:/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?(.+)/g,url_text:"//www.youtube.com/embed/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:vimeo\.com)\/(?:channels\/[A-z]+\/|groups\/[A-z]+\/videos\/)?(.+)/g,url_text:"//player.vimeo.com/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/,url_regex:/(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g,url_text:"//www.dailymotion.com/embed/video/$1",html:'<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>'},{test_regex:/^.+(screen.yahoo.com)\/(videos-for-you|popular)?\/[^_&]+/,url_regex:"",url_text:"",html:'<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>'}],t.Editable.video_commands={floatVideoLeft:{title:"Float Left",icon:{type:"font",value:"fa fa-align-left"}},floatVideoNone:{title:"Float None",icon:{type:"font",value:"fa fa-align-justify"}},floatVideoRight:{title:"Float Right",icon:{type:"font",value:"fa fa-align-right"}},removeVideo:{title:"Remove Video",icon:{type:"font",value:"fa fa-trash-o"}}},t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{videoButtons:["floatVideoLeft","floatVideoNone","floatVideoRight","removeVideo"]}),t.Editable.commands=t.extend(t.Editable.commands,{insertVideo:{title:"Insert Video",icon:"fa fa-video-camera",callback:function(){this.insertVideo()},undo:!1}}),t.Editable.prototype.insertVideo=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("insertVideo")),this.selectionInEditor()&&this.saveSelection(),this.showInsertVideo(),this.$video_wrapper.find("textarea").val("")},t.Editable.prototype.insertVideoHTML=function(){var t='<div class="froala-popup froala-video-popup" style="display: none;"><h4><span data-text="true">Insert Video</span><i title="Cancel" class="fa fa-times" id="f-video-close-'+this._id+'"></i></h4><div class="f-popup-line"><textarea placeholder="Embedded code" id="f-video-textarea-'+this._id+'"></textarea></div><p class="or"><span data-text="true">or</span></p><div class="f-popup-line"><input type="text" placeholder="http://youtube.com/" id="f-video-input-'+this._id+'"/><button data-text="true" class="f-ok f-submit fr-p-bttn" id="f-video-ok-'+this._id+'">OK</button></div></div>';return t},t.Editable.prototype.buildInsertVideo=function(){this.$video_wrapper=t(this.insertVideoHTML()),this.$popup_editor.append(this.$video_wrapper),this.addListener("hidePopups",this.hideVideoWrapper),this.$video_wrapper.on("mouseup touchend",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$video_wrapper.on("mouseup keydown","input#f-video-input-"+this._id+", textarea#f-video-textarea-"+this._id,t.proxy(function(t){t.stopPropagation()},this));var e=this;this.$video_wrapper.on("change","input#f-video-input-"+this._id+", textarea#f-video-textarea-"+this._id,function(){"INPUT"==this.tagName?e.$video_wrapper.find("textarea#f-video-textarea-"+e._id).val(""):"TEXTAREA"==this.tagName&&e.$video_wrapper.find("input#f-video-input-"+e._id).val("")}),this.$video_wrapper.on("click","button#f-video-ok-"+this._id,t.proxy(function(){var t=this.$video_wrapper.find("input#f-video-input-"+this._id),e=this.$video_wrapper.find("textarea#f-video-textarea-"+this._id);""!==t.val()?this.writeVideo(t.val(),!1):""!==e.val()&&this.writeVideo(e.val(),!0)},this)),this.$video_wrapper.on(this.mouseup,"i#f-video-close-"+this._id,t.proxy(function(){this.$bttn_wrapper.show(),this.hideVideoWrapper(),this.options.inlineMode&&!this.imageMode&&0===this.options.buttons.length&&this.hide(),this.restoreSelection(),this.focus(),this.options.inlineMode||this.hide()},this)),this.$video_wrapper.on("click",function(t){t.stopPropagation()}),this.$video_wrapper.on("click","*",function(t){t.stopPropagation()}),this.$window.on("keydown."+this._id,t.proxy(function(e){if(this.$element.find(".f-video-editor.active").length>0){var i=e.which;if(46==i||8==i)return e.stopPropagation(),e.preventDefault(),setTimeout(t.proxy(function(){this.removeVideo()},this),0),!1}},this))},t.Editable.prototype.destroyVideo=function(){this.$video_wrapper.html("").removeData().remove()},t.Editable.prototype.initVideo=function(){this.buildInsertVideo(),this.addVideoControls(),this.addListener("destroy",this.destroyVideo)},t.Editable.initializers.push(t.Editable.prototype.initVideo),t.Editable.prototype.hideVideoEditorPopup=function(){this.$video_editor&&(this.$video_editor.hide(),t("span.f-video-editor").removeClass("active"),this.$element.removeClass("f-non-selectable"),this.editableDisabled||this.isHTML||this.$element.attr("contenteditable",!0))},t.Editable.prototype.showVideoEditorPopup=function(){this.hidePopups(),this.$video_editor&&this.$video_editor.show(),this.$element.removeAttr("contenteditable")},t.Editable.prototype.addVideoControlsHTML=function(){this.$video_editor=t('<div class="froala-popup froala-video-editor-popup" style="display: none">');for(var e=t('<div class="f-popup-line">').appendTo(this.$video_editor),i=0;i<this.options.videoButtons.length;i++){var n=this.options.videoButtons[i];if(void 0!==t.Editable.video_commands[n]){var o=t.Editable.video_commands[n],r='<button class="fr-bttn" data-callback="'+n+'" data-cmd="'+n+'" title="'+o.title+'">';r+=void 0!==this.options.icons[n]?this.prepareIcon(this.options.icons[n],o.title):this.prepareIcon(o.icon,o.title),r+="</button>",e.append(r)}}this.addListener("hidePopups",this.hideVideoEditorPopup),this.$popup_editor.append(this.$video_editor),this.bindCommandEvents(this.$video_editor)},t.Editable.prototype.floatVideoLeft=function(){t("span.f-video-editor.active").attr("class","f-video-editor active fr-fvl"),this.triggerEvent("videoFloatedLeft"),t("span.f-video-editor.active").click()},t.Editable.prototype.floatVideoRight=function(){t("span.f-video-editor.active").attr("class","f-video-editor active fr-fvr"),this.triggerEvent("videoFloatedRight"),t("span.f-video-editor.active").click()},t.Editable.prototype.floatVideoNone=function(){t("span.f-video-editor.active").attr("class","f-video-editor active fr-fvn"),this.triggerEvent("videoFloatedNone"),t("span.f-video-editor.active").click()},t.Editable.prototype.removeVideo=function(){t("span.f-video-editor.active").remove(),this.hide(),this.triggerEvent("videoRemoved"),this.focus()},t.Editable.prototype.refreshVideo=function(){this.$element.find("iframe, object").each(function(e,i){for(var n=t(i),o=0;o<t.Editable.VIDEO_PROVIDERS.length;o++){var r=t.Editable.VIDEO_PROVIDERS[o];if(r.test_regex.test(n.attr("src"))){0===n.parents(".f-video-editor").length&&n.wrap('<span class="f-video-editor fr-fvn" data-fr-verified="true" contenteditable="false">');break}}}),this.browser.msie&&this.$element.find(".f-video-editor").each(function(){this.oncontrolselect=function(){return!1}}),this.options.textNearVideo||this.$element.find(".f-video-editor").attr("contenteditable",!1).addClass("fr-tnv")},t.Editable.prototype.addVideoControls=function(){this.addVideoControlsHTML(),this.addListener("sync",this.refreshVideo),this.$element.on("mousedown","span.f-video-editor",t.proxy(function(t){t.stopPropagation()},this)),this.$element.on("click touchend","span.f-video-editor",t.proxy(function(e){if(this.isDisabled)return!1;e.preventDefault(),e.stopPropagation();var i=e.currentTarget;this.clearSelection(),this.showVideoEditorPopup(),this.showByCoordinates(t(i).offset().left+t(i).width()/2,t(i).offset().top+t(i).height()+3),t(i).addClass("active"),this.refreshVideoButtons(i)},this))},t.Editable.prototype.refreshVideoButtons=function(e){var i=t(e).attr("class");this.$video_editor.find("[data-cmd]").removeClass("active"),i.indexOf("fr-fvl")>=0?this.$video_editor.find('[data-cmd="floatVideoLeft"]').addClass("active"):i.indexOf("fr-fvr")>=0?this.$video_editor.find('[data-cmd="floatVideoRight"]').addClass("active"):this.$video_editor.find('[data-cmd="floatVideoNone"]').addClass("active")},t.Editable.prototype.writeVideo=function(e,i){var n=null;if(i)n=this.clean(e,!0,!1,this.options.videoAllowedTags,this.options.videoAllowedAttrs);else for(var o=0;o<t.Editable.VIDEO_PROVIDERS.length;o++){var r=t.Editable.VIDEO_PROVIDERS[o];if(r.test_regex.test(e)){e=e.replace(r.url_regex,r.url_text),n=r.html.replace(/\{url\}/,e);break}}if(n){this.restoreSelection(),this.$element.focus();var a="fr-fvn";"left"==this.options.defaultVideoAlignment&&(a="fr-fvl"),"right"==this.options.defaultVideoAlignment&&(a="fr-fvr"),this.textNearVideo||(a+=" fr-tnv");try{this.insertHTML('<span contenteditable="false" class="f-video-editor '+a+'" data-fr-verified="true">'+n+"</span>")}catch(s){}this.$bttn_wrapper.show(),this.hideVideoWrapper(),this.hide(),this.triggerEvent("videoInserted",[n])}else this.triggerEvent("videoError")},t.Editable.prototype.showVideoWrapper=function(){this.$video_wrapper&&(this.$video_wrapper.show(),this.$video_wrapper.find(".f-popup-line input").val(""))},t.Editable.prototype.hideVideoWrapper=function(){this.$video_wrapper&&(this.$video_wrapper.hide(),this.$video_wrapper.find("input").blur())},t.Editable.prototype.showInsertVideo=function(){this.hidePopups(),this.showVideoWrapper()}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{fontList:{"Arial,Helvetica":"Arial, Helvetica","Courier,Courier New":"Courier, Courier New",Georgia:"Georgia","Times New Roman,Times":"Times New Roman,Times","Trebuchet MS":"Trebuchet MS","Verdana, Geneva":"Verdana,Geneva"}}),t.Editable.prototype.refreshFontFamily=function(){var e=t(this.getSelectionElement());this.$editor.find('.fr-dropdown > button[data-name="fontFamily"] + ul li').removeClass("active"),this.$editor.find('.fr-dropdown > button[data-name="fontFamily"] + ul li[data-val="'+e.css("font-family").replace(/"/gi,'\\"')+'"]').addClass("active")},t.Editable.commands=t.extend(t.Editable.commands,{fontFamily:{title:"Font Family",icon:"fa fa-font",refreshOnShow:t.Editable.prototype.refreshFontFamily,callback:function(t,e){this.inlineStyle("font-family",t,e)},undo:!0,callbackWithoutSelection:function(t,e){this._startInFontExec("font-family",t,e)}}}),t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{fontFamily:function(t){var e=this.buildDropdownFontFamily(),i=this.buildDropdownButton(t,e,"fr-family");return i}}),t.Editable.prototype.buildDropdownFontFamily=function(){var t='<ul class="fr-dropdown-menu">';for(var e in this.options.fontList){var i=this.options.fontList[e],n='<li data-cmd="fontFamily" data-val="'+e+'">';n+='<a href="#" data-text="true" title="'+i+'" style="font-family: '+e+';">'+i+"</a></li>",t+=n}return t+="</ul>"}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.prototype.refreshFontSize=function(){var e=t(this.getSelectionElement()),i=parseInt(e.css("font-size").replace(/px/g,""),10)||16;this.$editor.find('.fr-dropdown > button[data-name="fontSize"] + ul li').removeClass("active"),this.$editor.find('.fr-dropdown > button[data-name="fontSize"] + ul li[data-val="'+i+'px"]').addClass("active")},t.Editable.commands=t.extend(t.Editable.commands,{fontSize:{title:"Font Size",icon:"fa fa-text-height",refreshOnShow:t.Editable.prototype.refreshFontSize,seed:[{min:11,max:52}],undo:!0,callback:function(t,e){this.inlineStyle("font-size",t,e)},callbackWithoutSelection:function(t,e){this._startInFontExec("font-size",t,e)}}}),t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{fontSize:function(t){var e=this.buildDropdownFontsize(t),i=this.buildDropdownButton(t,e);return i}}),t.Editable.prototype.buildDropdownFontsize=function(t){for(var e='<ul class="fr-dropdown-menu f-font-sizes">',i=0;i<t.seed.length;i++)for(var n=t.seed[i],o=n.min;o<=n.max;o++)e+='<li data-cmd="'+t.cmd+'" data-val="'+o+'px"><a href="#"><span>'+o+"px</span></a></li>";return e+="</ul>"}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.commands=t.extend(t.Editable.commands,{uploadFile:{title:"Upload File",icon:"fa fa-paperclip",callback:function(){this.insertFile()},undo:!1}}),t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{allowedFileTypes:["*"],fileDeleteUrl:null,fileDeleteParams:{},fileUploadParams:{},fileUploadURL:"http://i.froala.com/upload",fileUploadParam:"file",maxFileSize:10485760,useFileName:!0}),t.Editable.prototype.showFileWrapper=function(){this.$file_wrapper&&this.$file_wrapper.show()},t.Editable.prototype.hideFileWrapper=function(){this.$file_wrapper&&(this.$file_wrapper.hide(),this.$file_wrapper.find("input").blur())},t.Editable.prototype.showFileUpload=function(){this.hidePopups(),this.showFileWrapper()},t.Editable.prototype.insertFile=function(){this.closeImageMode(),this.imageMode=!1,this.showFileUpload(),this.saveSelectionByMarkers(),this.options.inlineMode||this.positionPopup("uploadFile")},t.Editable.prototype.fileUploadHTML=function(){var e='<div class="froala-popup froala-file-popup" style="display: none;"><h4><span data-text="true">Upload file</span><i title="Cancel" class="fa fa-times" id="f-file-close-'+this._id+'"></i></h4>';return e+='<div id="f-file-list-'+this._id+'">',e+='<div class="f-popup-line drop-upload">',e+='<div class="f-upload" id="f-file-upload-div-'+this._id+'"><strong data-text="true">Drop File</strong><br>(<span data-text="true">or click</span>)<form target="file-frame-'+this._id+'" enctype="multipart/form-data" encoding="multipart/form-data" action="'+this.options.fileUploadURL+'" method="post" id="f-file-form-'+this._id+'"><input id="f-file-upload-'+this._id+'" type="file" name="'+this.options.fileUploadParam+'" accept="/*"></form></div>',this.browser.msie&&t.Editable.getIEversion()<=9&&(e+='<iframe id="file-frame-'+this._id+'" name="file-frame-'+this._id+'" src="javascript:false;" style="width:0; height:0; border:0px solid #FFF; position: fixed; z-index: -1;" data-loaded="true"></iframe>'),e+="</div>",e+="</div>",e+='<p class="f-progress" id="f-file-progress-'+this._id+'"><span></span></p>',e+="</div>"},t.Editable.prototype.buildFileDrag=function(){var e=this;e.$file_wrapper.on("dragover","#f-file-upload-div-"+this._id,function(){return t(this).addClass("f-hover"),!1}),e.$file_wrapper.on("dragend","#f-file-upload-div-"+this._id,function(){return t(this).removeClass("f-hover"),!1}),e.$file_wrapper.on("drop","#f-file-upload-div-"+this._id,function(i){i.preventDefault(),i.stopPropagation(),t(this).removeClass("f-hover"),e.uploadFile(i.originalEvent.dataTransfer.files)}),e.$element.on("drop",function(i){var n=i.originalEvent.dataTransfer.files;if(0===t(".froala-element img.fr-image-move").length&&i.originalEvent.dataTransfer&&n&&n.length){if(e.isDisabled)return!1;e.options.allowedImageTypes.indexOf(n[0].type.replace(/image\//g,""))<0&&(e.closeImageMode(),e.hide(),e.imageMode=!1,e.initialized||(e.$element.unbind("mousedown.element"),e.lateInit()),e.insertMarkersAtPoint(i.originalEvent),e.showByCoordinates(i.originalEvent.pageX,i.originalEvent.pageY),e.uploadFile(n),i.preventDefault(),i.stopPropagation())}})},t.Editable.prototype.buildFileUpload=function(){this.$file_wrapper=t(this.fileUploadHTML()),this.$popup_editor.append(this.$file_wrapper),this.buildFileDrag();var e=this;if(this.$file_wrapper.on("mouseup touchend",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.addListener("hidePopups",t.proxy(function(){this.hideFileWrapper()},this)),this.$file_progress_bar=this.$file_wrapper.find("p#f-file-progress-"+this._id),this.browser.msie&&t.Editable.getIEversion()<=9){var i=this.$file_wrapper.find("iframe").get(0);i.attachEvent?i.attachEvent("onload",function(){e.iFrameLoad()}):i.onload=function(){e.iFrameLoad()}}this.$file_wrapper.on("change",'input[type="file"]',function(){if(void 0!==this.files)e.uploadFile(this.files);else{var i=t(this).parents("form");i.find('input[type="hidden"]').remove();var n;for(n in e.options.fileUploadParams)i.prepend('<input type="hidden" name="'+n+'" value="'+e.options.fileUploadParams[n]+'" />');e.$file_wrapper.find("#f-file-list-"+e._id).hide(),e.$file_progress_bar.show(),e.$file_progress_bar.find("span").css("width","100%").text("Please wait!"),e.showFileUpload(),i.submit()}t(this).val("")}),this.$file_wrapper.on(this.mouseup,"#f-file-close-"+this._id,t.proxy(function(t){t.stopPropagation(),t.preventDefault(),this.$bttn_wrapper.show(),this.hideFileWrapper(),this.restoreSelection(),this.focus(),this.hide()},this)),this.$file_wrapper.on("click",function(t){t.stopPropagation()}),this.$file_wrapper.on("click","*",function(t){t.stopPropagation()})},t.Editable.initializers.push(t.Editable.prototype.buildFileUpload),t.Editable.prototype.uploadFile=function(e){if(!this.triggerEvent("beforeFileUpload",[e],!1))return!1;if(void 0!==e&&e.length>0){var i;if(this.drag_support.formdata&&(i=this.drag_support.formdata?new FormData:null),i){var n;for(n in this.options.fileUploadParams)i.append(n,this.options.fileUploadParams[n]);if(i.append(this.options.fileUploadParam,e[0]),e[0].size>this.options.maxFileSize)return this.throwFileError(5),!1;if(this.options.allowedFileTypes.indexOf(e[0].type)<0&&this.options.allowedFileTypes.indexOf("*")<0)return this.throwFileError(6),!1}if(i){var o;if(this.options.crossDomain)o=this.createCORSRequest("POST",this.options.fileUploadURL);else{o=new XMLHttpRequest,o.open("POST",this.options.fileUploadURL);for(var r in this.options.headers)o.setRequestHeader(r,this.options.headers[r])}var a=e[0].name;o.onload=t.proxy(function(){this.$file_progress_bar.find("span").css("width","100%").text("Please wait!");try{o.status>=200&&o.status<300?this.parseFileResponse(o.responseText,a):this.throwFileError(3)}catch(t){this.throwFileError(4)}},this),o.onerror=t.proxy(function(){this.throwFileError(3)},this),o.upload.onprogress=t.proxy(function(t){if(t.lengthComputable){var e=t.loaded/t.total*100|0;this.$file_progress_bar.find("span").css("width",e+"%")}},this),o.send(i),this.$file_wrapper.find("#f-file-list-"+this._id).hide(),this.$file_progress_bar.show(),this.showFileUpload()}}},t.Editable.prototype.throwFileError=function(t){var e="Unknown file upload error.";1==t?e="Bad link.":2==t?e="No link in upload response.":3==t?e="Error during file upload.":4==t?e="Parsing response failed.":5==t?e="File too large.":6==t?e="Invalid file type.":7==t&&(e="File can be uploaded only to same domain in IE 8 and IE 9."),this.triggerEvent("fileError",[{code:t,message:e}],!1),this.hideFileLoader()},t.Editable.prototype.hideFileLoader=function(){this.$file_progress_bar.hide(),this.$file_progress_bar.find("span").css("width","0%").text(""),this.$file_wrapper.find("#f-file-list-"+this._id).show()},t.Editable.prototype.throwFileErrorWithMessage=function(t){this.triggerEvent("fileError",[{message:t,code:0}],!1),this.hideFileLoader()},t.Editable.prototype.parseFileResponse=function(e,i){try{if(!this.triggerEvent("afterFileUpload",[e],!1))return!1;var n=t.parseJSON(e);n.link?this.writeFile(n.link,i,e):n.error?this.throwFileErrorWithMessage(n.error):this.throwFileError(2)}catch(o){this.throwFileError(4)}},t.Editable.prototype.writeFile=function(t,e,i){this.restoreSelectionByMarkers(),this.focus(),this.options.useFileName||""===this.text()||(e=this.text()),this.insertHTML('<a class="fr-file" href="'+this.sanitizeURL(t)+'">'+e+"</a>"),this.hide(),this.hideFileLoader(),this.focus(),this.triggerEvent("fileUploaded",[e,t,i])}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.commands=t.extend(t.Editable.commands,{insertOrderedList:{title:"Numbered List",icon:"fa fa-list-ol",refresh:function(){},callback:function(t){this.formatList(t)},undo:!0},insertUnorderedList:{title:"Bulleted List",icon:"fa fa-list-ul",refresh:function(){},callback:function(t){this.formatList(t)},undo:!0}}),t.Editable.prototype.refreshLists=function(){var e=t(this.getSelectionElement()),i=this.parents(e,"ul, ol");if(i.length>0){var n="insertUnorderedList";"OL"==i[0].tagName&&(n="insertOrderedList"),this.$editor.find('button[data-cmd="'+n+'"]').addClass("active")}},t.Editable.prototype.processBackspace=function(e){var i=e.prev();if(i.length){for(this.removeMarkers(),("UL"==i.get(0).tagName||"OL"==i.get(0).tagName)&&(i=i.find("li:last"));i.find("> ul, > ol").length;)i=i.find("> ul li:last, > ol li:last");var n=i.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote");if(0===i.text().length&&0===i.find("img, table, input, iframe, video").length)i.remove();else{if(this.emptyElement(i.get(0))||(this.keep_enter=!0,e.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote").each(function(e,i){t(i).replaceWith(t(i).html())}),this.keep_enter=!1),n.length)if(t(n[n.length-1]).append(this.markers_html),0===e.find("ul, ol").length)t(n[n.length-1]).append(e.html());else{for(var o=!1,r=e.contents(),a=0;a<r.length;a++){var s=r[a];["OL","UL"].indexOf(r[a].tagName)>=0&&(o=!0),o?t(n[n.length-1]).after(s):t(n[n.length-1]).append(s)}this.$element.find("breakli").remove();var l=n[n.length-1].nextSibling;l&&"BR"==l.tagName&&t(l).remove()}else this.emptyElement(i.get(0))?(this.$element.find("breakli").replaceWith(this.markers_html),i.html(e.html())):(i.append(this.markers_html),i.append(e.html()));e.remove(),this.cleanupLists(),this.restoreSelectionByMarkers()}this.$element.find("breakli").remove()}else this.$element.find("breakli").remove(),this.parents(e,"ul").length?this.formatList("insertUnorderedList",!1):this.formatList("insertOrderedList",!1);this.sync()},t.Editable.prototype.liBackspace=function(){if(""!==this.text())return!0;var e,i=this.getSelectionElement(),n=this.parents(t(i),"table, li");if(n.length>0&&"TABLE"===n[0].tagName)return!0;if(e="LI"==i.tagName?t(i):this.parents(t(i),"li:first"),this.removeMarkers(),this.emptyElement(e.get(0))?(e.prepend("<breakli></breakli>"),1==e.find("br").length&&e.find("br").remove()):this.insertHTML("<breakli></breakli>"),e.find("breakli").prev().length&&"TABLE"===e.find("breakli").prev().get(0).tagName&&e.find("breakli").next().length&&"BR"===e.find("breakli").next().get(0).tagName)return this.setSelection(e.find("breakli").prev().find("td:first").get(0)),e.find("breakli").next().remove(),this.$element.find("breakli").remove(),!1;for(var o,r=e.html(),a=[],s=0;s<r.length;s++){if(chr=r.charAt(s),"<"!=chr)return this.$element.find("breakli").remove(),!0;var l=r.indexOf(">",s+1);if(-1!==l){o=r.substring(s,l+1);var d=this.tagName(o);if(s=l,"breakli"==d){if(!this.isClosingTag(o)&&!this.isClosingTag(a[a.length-1]))return this.processBackspace(e),!1}else a.push(o)}}return this.$element.find("breakli").remove(),!0},t.Editable.prototype.textLiEnter=function(e){this.removeMarkers(),this.insertSimpleHTML("<breakli></breakli>",!1);var i,n,o=e.html(),r=[],a={},s=[],l=0,d=e.prop("attributes"),h="";for(n=0;n<d.length;n++)h+=" "+d[n].name+'="'+d[n].value+'"';var p=!1;for(n=0;n<o.length;n++)if(chr=o.charAt(n),"<"==chr){var c=o.indexOf(">",n+1);if(-1!==c){i=o.substring(n,c+1);var u=this.tagName(i);if(n=c,"breakli"==u){if(!this.isClosingTag(i)){for(var f=r.length-1;f>=0;f--){var m=this.tagName(r[f]);s.push("</"+m+">")}s.push("</li>"),s.push("<li"+h+">");for(var g=0;g<r.length;g++)s.push(r[g]);s.push('<span class="f-marker" data-type="false" data-collapsed="true" data-id="0" data-fr-verified="true"></span><span class="f-marker" data-type="true" data-collapsed="true" data-id="0" data-fr-verified="true"></span>'),p=!1}}else if(s.push(i),p=!1,!this.isSelfClosingTag(i))if(this.isClosingTag(i)){var v=a[u].pop();r.splice(v,1)}else r.push(i),void 0===a[u]&&(a[u]=[]),a[u].push(r.length-1)}}else l++,32!=chr.charCodeAt(0)||p?(s.push(chr),p=!0):s.push("&nbsp;");var b=t(e.parents("ul, ol")[0]);e.replaceWith("<li"+h+">"+s.join("")+"</li>"),b.find("p:empty + table").prev().remove(),b.find("p + table").each(function(e,i){var n=t(i);n.prev().append(n.clone()),n.remove()}),b.find("table + p").each(function(e,i){var n=t(i);n.append(n.prev().clone()),n.prev().remove()}),this.keep_enter=!0,b.find(this.valid_nodes.join(",")).each(t.proxy(function(e,i){""===t(i).text().trim()&&0===t(i).find(this.valid_nodes.join(",")).length&&t(i).prepend(t.Editable.INVISIBLE_SPACE)},this)),this.keep_enter=!1},t.Editable.prototype.liEnter=function(){var e,i=this.getSelectionElement(),n=this.parents(t(i),"table, li");if(n.length>0&&"TABLE"==n[0].tagName)return!0;if(e="LI"==i.tagName?t(i):this.parents(t(i),"li:first"),this.getSelectionTextInfo(e.get(0)).atStart&&""===this.text())e.before("<li>"+t.Editable.INVISIBLE_SPACE+"</li>");else{if(0===this.trim(e.text()).length&&0===e.find("img, table, iframe, input, object").length)return this.outdent(!1),!1;this.textLiEnter(e),this.$element.find("breakli").remove(),this.restoreSelectionByMarkers()}return this.sync(),!1},t.Editable.prototype.listTab=function(){var e=t(this.getSelectionElement());return this.parents(e,"ul, ol").length>0&&0===this.parents(e,"table").length?(this.indent(),!1):void 0},t.Editable.prototype.listShiftTab=function(){var e=t(this.getSelectionElement());return this.parents(e,"ul, ol").length>0&&0===this.parents(e,"table").length?(this.outdent(),!1):void 0},t.Editable.prototype.indentList=function(t,e){return"LI"===t.get(0).tagName?(e?this.outdentLi(t):this.indentLi(t),this.cleanupLists(),!1):!0},t.Editable.prototype.initList=function(){this.addListener("tab",this.listTab),this.addListener("shift+tab",this.listShiftTab),this.addListener("refresh",this.refreshLists),this.addListener("indent",this.indentList),this.isImage||this.isLink||this.options.editInPopup||this.$element.on("keypress",t.proxy(function(e){if(["TEXTAREA","INPUT"].indexOf(e.target.tagName)<0&&!this.isHTML){var i=e.which,n=this.getSelectionElement();if("LI"==n.tagName||this.parents(t(n),"li").length>0){if(13==i&&!e.shiftKey&&this.options.multiLine)return this.liEnter();if(8==i)return this.liBackspace()}}},this))},t.Editable.initializers.push(t.Editable.prototype.initList),t.Editable.prototype.formatList=function(e,i){if(this.browser.msie&&t.Editable.getIEversion()<9)return document.execCommand(e,!1,!1),!1;void 0===i&&(i=!0);var n,o,r=!1,a=!0,s=!1,l=this.getSelectionElements(),d=this.parents(t(l[0]),"ul, ol");if(d.length&&("UL"===d[0].tagName?"insertUnorderedList"!=e&&(r=!0):"insertOrderedList"!=e&&(r=!0)),this.saveSelectionByMarkers(),r){n="ol","insertUnorderedList"===e&&(n="ul");var h=t(d[0]);h.replaceWith("<"+n+">"+h.html()+"</"+n+">")}else{for(var p=0;p<l.length;p++)if(o=t(l[p]),("TD"==o.get(0).tagName||"TH"==o.get(0).tagName)&&this.wrapTextInElement(o),this.parents(o,"li").length>0||"LI"==o.get(0).tagName){var c;c="LI"==o.get(0).tagName?o:t(o.parents("li")[0]);var u=this.parents(o,"ul, ol");if(u.length>0&&(n=u[0].tagName.toLowerCase(),c.before('<span class="close-'+n+'" data-fr-verified="true"></span>'),c.after('<span class="open-'+n+'" data-fr-verified="true"></span>')),0===this.parents(t(u[0]),"ol, ul").length||r)if(0===c.find(this.valid_nodes.join(",")).length){var f=c.html().replace(/\u200B/gi,"");this.options.paragraphy?(0===c.text().replace(/\u200B/gi,"").length&&(f+=c.find("br").length>0?"":this.br),f="<"+this.options.defaultTag+this.attrs(c.get(0))+">"+f,f=f+"</"+this.options.defaultTag+">"):f+=c.find("br").length>0?"":this.br,c.replaceWith(f)}else c.replaceWith(c.html().replace(/\u200B/gi,""));else this.parents(t(u[0]),"ol, ul").length>0&&(c.append('<span class="open-li" data-fr-verified="true"></span>'),c.before('<span class="close-li" data-fr-verified="true"></span>'));s=!0}else a=!1;s&&this.cleanupLists(),(a===!1||r===!0)&&(this.wrapText(),this.restoreSelectionByMarkers(),l=this.getSelectionElements(),this.saveSelectionByMarkers(),this.elementsToList(l,e),this.unwrapText(),this.cleanupLists())}this.options.paragraphy&&!r&&this.wrapText(!0),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),e="insertUnorderedList"==e?"unorderedListInserted":"orderedListInserted",this.triggerEvent(e)},t.Editable.prototype.elementsToList=function(e,i){var n="<ol>";"insertUnorderedList"==i&&(n="<ul>"),e[0]==this.$element.get(0)&&(e=this.$element.find("> "+this.valid_nodes.join(", >")));for(var o=0;o<e.length;o++){var r=t(n);$element=t(e[o]),$element.get(0)!=this.$element.get(0)&&("TD"===$element.get(0).tagName||"TH"===$element.get(0).tagName?(this.wrapTextInElement($element,!0),this.elementsToList($element.find("> "+this.valid_nodes.join(", >")),i)):(""===$element.attr("class")&&$element.removeAttr("class"),r.append($element.get(0).tagName==this.options.defaultTag&&0===$element.get(0).attributes.length?t("<li>").html($element.clone().html()):t("<li>").html($element.clone())),$element.replaceWith(r)))}},t.Editable.prototype.indentLi=function(e){var i=e.parents("ul, ol"),n=i.get(0).tagName.toLowerCase();e.find("> ul, > ol").length>0&&e.prev("li").length>0?(this.wrapTextInElement(e),e.find("> "+this.valid_nodes.join(" , > ")).each(function(e,i){t(i).wrap("<"+n+"></"+n+">").wrap("<li></li>")}),e.prev("li").append(e.find("> ul, > ol")),e.remove()):0===e.find("> ul, > ol").length&&e.prev("li").length>0&&(e.prev().append(t("<"+n+">").append(e.clone())),e.remove(),t(i.find("li").get().reverse()).each(function(e,i){var n=t(i);n.find(" > ul, > ol").length>0&&n.prev()&&n.prev().find(" > ul, > ol").length>0&&1===n.contents().length&&(n.prev().append(n.html()),n.remove())}))},t.Editable.prototype.outdentLi=function(e){var i=t(e.parents("ul, ol")[0]),n=this.parents(i,"ul, ol"),o=i.get(0).tagName.toLowerCase();0===e.prev("li").length&&this.parents(e,"li").length>0?(e.before('<span class="close-'+o+'" data-fr-verified="true"></span>'),e.before('<span class="close-li" data-fr-verified="true"></span>'),e.before('<span class="open-li" data-fr-verified="true"></span>'),e.after('<span class="open-'+o+'" data-fr-verified="true"></span>'),e.replaceWith(e.html())):(e.before('<span class="close-'+o+'" data-fr-verified="true"></span>'),e.after('<span class="open-'+o+'" data-fr-verified="true"></span>'),this.parents(e,"li").length>0&&(e.before('<span class="close-li" data-fr-verified="true"></span>'),e.after('<span class="open-li" data-fr-verified="true"></span>'))),n.length||(0===e.find(this.valid_nodes.join(",")).length?e.replaceWith(e.html().replace(/\u200b/gi,"")+this.br):(e.find(this.valid_nodes.join(", ")).each(t.proxy(function(e,i){this.emptyElement(i)&&t(i).append(this.br)},this)),e.replaceWith(e.html().replace(/\u200b/gi,""))))},t.Editable.prototype.listTextEmpty=function(e){var i=t(e).text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return(""===i||e===this.$element.get(0))&&1===t(e).find("br").length}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{maxCharacters:-1,countCharacters:!0}),t.Editable.prototype.validKeyCode=function(t,e){return e?!1:t>47&&58>t||32==t||13==t||t>64&&91>t||t>95&&112>t||t>185&&193>t||t>218&&223>t},t.Editable.prototype.charNumber=function(){return this.getText().length},t.Editable.prototype.checkCharNumber=function(t,e,i){if(e.options.maxCharacters<0)return!0;if(e.charNumber()<e.options.maxCharacters)return!0;var n=i.which,o=(i.ctrlKey||i.metaKey)&&!i.altKey;return e.validKeyCode(n,o)?(e.triggerEvent("maxCharNumberExceeded",[],!1),!1):!0},t.Editable.prototype.checkCharNumberOnPaste=function(e,i,n){if(i.options.maxCharacters<0)return!0;var o=t("<div>").html(n).text().length;return o+i.charNumber()<=i.options.maxCharacters?n:(i.triggerEvent("maxCharNumberExceeded",[],!1),"")},t.Editable.prototype.updateCharNumber=function(t,e){if(e.options.countCharacters){var i=e.charNumber()+(e.options.maxCharacters>0?"/"+e.options.maxCharacters:"");e.$box.attr("data-chars",i)}},t.Editable.prototype.initCharNumber=function(){this.$original_element.on("editable.keydown",this.checkCharNumber),this.$original_element.on("editable.afterPasteCleanup",this.checkCharNumberOnPaste),this.$original_element.on("editable.keyup",this.updateCharNumber),this.$original_element.on("editable.contentChanged",this.updateCharNumber),this.updateCharNumber(null,this)},t.Editable.initializers.push(t.Editable.prototype.initCharNumber)}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.prototype.refreshFullscreen=function(){this.$box.hasClass("fr-fullscreen")?this.$editor.find('[data-cmd="fullscreen"]').addClass("active"):this.$editor.find('[data-cmd="fullscreen"]').removeClass("active")},t.Editable.commands=t.extend(t.Editable.commands,{fullscreen:{icon:"fa fa-expand",title:"Fullscreen",callback:function(){if(this.$box.toggleClass("fr-fullscreen"),t("body").toggleClass("fr-fullscreen"),this.$editor.find('[data-cmd="fullscreen"] i').toggleClass("fa-expand fa-compress"),this.refreshFullscreen(),this.$box.hasClass("fr-fullscreen"))this.$fullscreen_marker=t("<div>"),this.$box.after(this.$fullscreen_marker),this.$box.appendTo("body"),this.computeElementHeight();else{this.$wrapper.css("height",""),this.$element.css("minHeight",""),this.setDimensions(),this.options.scrollableContainer=this.oldScrollableContainer;var e=this.$document.find(this.options.scrollableContainer);e.append(this.$popup_editor),this.$fullscreen_marker.replaceWith(this.$box)}},refresh:t.Editable.prototype.refreshFullscreen}}),t.Editable.prototype.computeElementHeight=function(){var t=this.$window.height()-this.$editor.outerHeight()-parseFloat(this.$wrapper.css("padding-top"),10)-parseFloat(this.$wrapper.css("padding-bottom"),10)-parseFloat((this.$wrapper||this.$element).css("border-top-width"),10)-parseFloat((this.$wrapper||this.$element).css("border-bottom-width"),10)+2;this.$wrapper.css("height",t),this.$element.css("minHeight",t-parseInt(this.$element.css("padding-top"),10)-parseInt(this.$element.css("padding-bottom"),10)),this.$element.css("maxHeight",""),this.$wrapper.css("maxHeight",""),this.oldScrollableContainer=this.options.scrollableContainer,this.options.scrollableContainer=this.$wrapper,this.$wrapper.append(this.$popup_editor)},t.Editable.prototype.initFullscreen=function(){this.$window.on("resize",t.proxy(function(){this.$box.hasClass("fr-fullscreen")&&this.computeElementHeight()},this))},t.Editable.initializers.push(t.Editable.prototype.initFullscreen)}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.URLRegEx=/(\s|^|>)((http|https|ftp|ftps)\:\/\/[a-zA-Z0-9\-\.]+(\.[a-zA-Z]{2,3})?(:\d*)?(\/[^\s<]*)?)(\s|$|<)/gi,t.Editable.prototype.convertURLs=function(e){var i=this;e.each(function(){if("IFRAME"!=this.tagName)if(3==this.nodeType){var e=this.textContent.replace(/&nbsp;/gi,"");t.Editable.URLRegEx.test(e)&&(t(this).before(e.replace(t.Editable.URLRegEx,'$1<a href="$2">$2</a>$7')),t(this).remove())}else 1==this.nodeType&&["A","BUTTON","TEXTAREA"].indexOf(this.tagName)<0&&i.convertURLs(t(this).contents())})},t.Editable.prototype.processURLs=function(){this.$original_element.on("editable.afterPasteCleanup",function(e,i,n){return t.Editable.URLRegEx.test(n)?n.replace(t.Editable.URLRegEx,'$1<a href="$2">$2</a>$7'):void 0}),this.$original_element.on("editable.keyup",function(t,e,i){var n=i.which;(32==n||13==n)&&e.convertURLs(e.$element.contents())}),this.$original_element.on("editable.keydown",function(e,i,n){var o=n.which;if(32==o){var r=i.getSelectionElement();if(("A"==r.tagName||t(r).parents("a").length)&&i.getSelectionTextInfo(r).atEnd)return e.stopImmediatePropagation(),"A"!==r.tagName&&(r=t(r).parents("a")[0]),t(r).after('&nbsp;<span class="f-marker" data-type="false" data-id="0" data-fr-verified="true"></span><span class="f-marker" data-type="true" data-id="0" data-fr-verified="true"></span>'),i.restoreSelectionByMarkers(),!1}})},t.Editable.initializers.push(t.Editable.prototype.processURLs)}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.prototype.refreshInlineStyles=function(){var e=this.getSelectionElements()[0],i=e.tagName.toLowerCase();this.$bttn_wrapper.find(".fr-block-style").empty();var n=this.options.blockStyles[i];if(void 0===n&&(n=this.options.defaultBlockStyle),void 0!==n){this.$bttn_wrapper.find('.fr-dropdown > button[data-name="blockStyle"].fr-trigger').removeAttr("disabled");for(var o in n){var r=n[o],a="";t(e).hasClass(o)&&(a=' class="active"'),this.$bttn_wrapper.find(".fr-block-style").append(t("<li"+a+">").append(t('<a href="#" data-text="true">').text(r).addClass(o)).attr("data-cmd","blockStyle").attr("data-val",o))}}},t.Editable.commands=t.extend(t.Editable.commands,{inlineStyle:{title:"Inline Style",icon:"fa fa-paint-brush",refreshOnShow:t.Editable.prototype.refreshInlineStyles,callback:function(t,e){this.applyInlineStyles(e)},callbackWithoutSelection:function(t,e){this.applyInlineStyles(e)}}}),t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{inlineStyles:{"Big Red":"font-size: 20px; color: red;","Small Blue":"font-size: 14px; color: blue;"}}),t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{inlineStyle:function(t){var e=this.buildDropdownInlineStyle(),i=this.buildDropdownButton(t,e);return i}}),t.Editable.prototype.buildDropdownInlineStyle=function(){var t='<ul class="fr-dropdown-menu fr-inline-style">';for(var e in this.options.inlineStyles)t+='<li data-cmd="inlineStyle" data-val="'+e+'"><a href="#" style="'+this.options.inlineStyles[e]+'">'+e+"</a></li>";return t+="</ul>"},t.Editable.prototype.applyInlineStyles=function(e){this.insertHTML(""!==this.text()?this.start_marker+'<span data-fr-verified="true" style="'+this.options.inlineStyles[e]+'">'+this.text()+"</span>"+this.end_marker:'<span data-fr-verified="true" style="'+this.options.inlineStyles[e]+'">'+this.markers_html+t.Editable.INVISIBLE_SPACE+"</span>"),this.restoreSelectionByMarkers(),this.triggerEvent("inlineStyle")},t.Editable.prototype.startInInlineStyles=function(t){for(var e in this.options.inlineStyles[t])this._startInFontExec(e.replace(/([A-Z])/g,"-$1").toLowerCase(),null,this.options.inlineStyles[t][e]);this.triggerEvent("inlineStyle")}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{entities:"&quot;&apos;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"}),t.Editable.prototype.encodeEntities=function(t,e,n){var o="";for(i=0;i<n.length;i++)if(chr=n.charAt(i),"<"==chr){var r=n.indexOf(">",i+1);if(-1!==r){var a=n.substring(i,r+1);o+=a,i=r}}else o+=e.entities_map[chr]?e.entities_map[chr]:chr;return o},t.Editable.prototype.initEntities=function(){var e=t("<div>").html(this.options.entities).text(),i=this.options.entities.split(";");this.entities_reg_exp=new RegExp(e,"g"),this.entities_map={};for(var n=0;n<e.length;n++){var o=e.charAt(n);this.entities_map[o]=i[n]+";"}this.$original_element.on("editable.getHTML",this.encodeEntities)},t.Editable.initializers.push(t.Editable.prototype.initEntities)}(jQuery),function(){}.call(this),function(){var t,e;t=function(){return console.log("WOOT"),$("textarea.froala-view").editable({inlineMode:!1,paragraphy:!1,placeholder:"Upon inspiration, start typing...",colors:["#5BD59B","#428CBD","#945BD5","#f06d6c","#A33A39","#F0723C","#27D085","#2a6b9c","#7b27d0","#f5362e","#802723","#ed5306"],colorsStep:6,buttons:["bold","italic","underline","strikeThrough","sep","fontSize","fontFamily","color","sep","indent","outdent","formatBlock","insertHorizontalRule","blockStyle","inlineStyle","align","sep","table","insertOrderedList","insertUnorderedList","sep","subscript","superscript","sep","createLink","insertImage","insertVideo","uploadFile","sep","html","removeFormat","selectAll","sep","undo","redo","sep","fullscreen"],linkAutoPrefix:"http://",noFollow:!1},$("div.froala-view").on("editable.contentChanged editable.initialized",function(t,e){return $(".preview").text(e.cleanTags(e.getHTML()))}).editable({inlineMode:!1}))},e=function(){return t(),$(document).on("click",".submit-wrapper",function(t){var e;return e=$("#post_body")[0],e.value=$(".froala-view.f-basic")[0].innerHTML,console.log("body:",e.value)}),$(".submit-wrapper").on("submit"),$("#new_post").on("ajax:success",function(t,e,i,n){return $("#new_post").replaceWith(n.responseText)}).on("ajax:error",function(t,e,i,n){return $("#new_post").append("<p>ERROR</p>")})},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);